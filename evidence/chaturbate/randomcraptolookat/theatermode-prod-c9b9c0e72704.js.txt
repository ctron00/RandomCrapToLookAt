(function(){var k;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function da(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ea=da(this);function ha(a,b){if(b)a:{var c=ea;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
ha("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.WH=f;ba(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.WH};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});ha("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ea[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ia(aa(this))}})}return a});function ia(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ja(a){if(!(a instanceof Array)){a=l(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ka="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ma;if("function"==typeof Object.setPrototypeOf)ma=Object.setPrototypeOf;else{var na;a:{var oa={a:!0},pa={};try{pa.__proto__=oa;na=pa.a;break a}catch(a){}na=!1}ma=na?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var qa=ma;function q(a,b){a.prototype=ka(b.prototype);a.prototype.constructor=a;if(qa)qa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.KQ=b.prototype}function ra(){this.Dq=!1;this.xl=null;this.ae=void 0;this.aa=1;this.VD=this.Kl=0;this.Dl=null}function sa(a){if(a.Dq)throw new TypeError("Generator is already running");a.Dq=!0}ra.prototype.Sq=function(a){this.ae=a};ra.prototype.Zr=function(a){this.Dl={KD:a,oK:!0};this.aa=this.Kl||this.VD};ra.prototype.return=function(a){this.Dl={return:a};this.aa=this.VD};function ta(a,b,c){a.aa=c;return{value:b}}function ua(a){a.Kl=0;var b=a.Dl.KD;a.Dl=null;return b}function va(a){this.yb=new ra;this.iL=a}va.prototype.Sq=function(a){sa(this.yb);if(this.yb.xl)return wa(this,this.yb.xl.next,a,this.yb.Sq);this.yb.Sq(a);return xa(this)};function ya(a,b){sa(a.yb);var c=a.yb.xl;if(c)return wa(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.yb.return);a.yb.return(b);return xa(a)}va.prototype.Zr=function(a){sa(this.yb);if(this.yb.xl)return wa(this,this.yb.xl["throw"],a,this.yb.Sq);this.yb.Zr(a);return xa(this)};function wa(a,b,c,d){try{var e=b.call(a.yb.xl,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.yb.Dq=!1,e;var f=e.value}catch(g){return a.yb.xl=null,a.yb.Zr(g),xa(a)}a.yb.xl=null;d.call(a.yb,f);return xa(a)}
function xa(a){for(;a.yb.aa;)try{var b=a.iL(a.yb);if(b)return a.yb.Dq=!1,{value:b.value,done:!1}}catch(c){a.yb.ae=void 0,a.yb.Zr(c)}a.yb.Dq=!1;if(a.yb.Dl){b=a.yb.Dl;a.yb.Dl=null;if(b.oK)throw b.KD;return{value:b.return,done:!0}}return{value:void 0,done:!0}}function Aa(a){this.next=function(b){return a.Sq(b)};this.throw=function(b){return a.Zr(b)};this.return=function(b){return ya(a,b)};this[Symbol.iterator]=function(){return this}}
function Ba(a,b){b=new Aa(new va(b));qa&&a.prototype&&qa(b,a.prototype);return b}function Ca(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var Da="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Ca(d,e)&&(a[e]=d[e])}return a};ha("Object.assign",function(a){return a||Da});function Ea(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}ha("Array.prototype.keys",function(a){return a?a:function(){return Ea(this,function(b){return b})}});ha("Promise",function(a){function b(g){this.$o=0;this.wr=void 0;this.wo=[];this.eF=!1;var h=this.Hx();try{g(h.resolve,h.reject)}catch(m){h.reject(m)}}function c(){this.jk=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.uC=function(g){if(null==this.jk){this.jk=[];var h=this;this.vC(function(){h.zJ()})}this.jk.push(g)};var e=ea.setTimeout;c.prototype.vC=function(g){e(g,0)};c.prototype.zJ=function(){for(;this.jk&&this.jk.length;){var g=this.jk;this.jk=[];for(var h=0;h<g.length;++h){var m=g[h];g[h]=null;try{m()}catch(n){this.jI(n)}}}this.jk=null};c.prototype.jI=function(g){this.vC(function(){throw g;})};b.prototype.Hx=function(){function g(n){return function(p){m||(m=!0,n.call(h,p))}}var h=this,m=!1;return{resolve:g(this.wL),reject:g(this.wA)}};b.prototype.wL=function(g){if(g===this)this.wA(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.VL(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.vL(g):this.eE(g)}};b.prototype.vL=function(g){var h=void 0;try{h=g.then}catch(m){this.wA(m);return}"function"==typeof h?this.WL(h,g):this.eE(g)};b.prototype.wA=function(g){this.fH(2,g)};b.prototype.eE=function(g){this.fH(1,g)};b.prototype.fH=function(g,h){if(0!=this.$o)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.$o);this.$o=g;this.wr=h;2===this.$o&&this.KL();this.AJ()};b.prototype.KL=function(){var g=this;e(function(){if(g.QK()){var h=ea.console;"undefined"!==typeof h&&h.error(g.wr)}},1)};b.prototype.QK=function(){if(this.eF)return!1;var g=ea.CustomEvent,h=ea.Event,m=ea.dispatchEvent;if("undefined"===typeof m)return!0;"function"===typeof g?g=new g("unhandledrejection",{cancelable:!0}):"function"===typeof h?g=new h("unhandledrejection",{cancelable:!0}):(g=ea.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.wr;return m(g)};b.prototype.AJ=function(){if(null!=this.wo){for(var g=0;g<this.wo.length;++g)f.uC(this.wo[g]);this.wo=null}};var f=new c;b.prototype.VL=function(g){var h=this.Hx();g.ft(h.resolve,h.reject)};b.prototype.WL=function(g,h){var m=this.Hx();try{g.call(h,m.resolve,m.reject)}catch(n){m.reject(n)}};b.prototype.then=function(g,h){function m(A,D){return"function"==typeof A?function(R){try{n(A(R))}catch(K){p(K)}}:D}var n,p,v=new b(function(A,D){n=A;p=D});this.ft(m(g,n),m(h,p));return v};b.prototype.catch=function(g){return this.then(void 0,g)};b.prototype.ft=function(g,h){function m(){switch(n.$o){case 1:g(n.wr);break;case 2:h(n.wr);break;default:throw Error("Unexpected state: "+n.$o);}}var n=this;null==this.wo?f.uC(m):this.wo.push(m);this.eF=!0};b.resolve=d;b.reject=function(g){return new b(function(h,m){m(g)})};b.race=function(g){return new b(function(h,m){for(var n=l(g),p=n.next();!p.done;p=n.next())d(p.value).ft(h,m)})};b.all=function(g){var h=l(g),m=h.next();return m.done?d([]):new b(function(n,p){function v(R){return function(K){A[R]=K;D--;0==D&&n(A)}}var A=[],D=0;do A.push(void 0),D++,d(m.value).ft(v(A.length-1),p),m=h.next();while(!m.done)})};return b});ha("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});ha("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});ha("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});ha("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});function Fa(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
ha("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==Fa(this,b,"includes").indexOf(b,c||0)}});ha("WeakMap",function(a){function b(m){this.uq=(h+=Math.random()+1).toString();if(m){m=l(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!Ca(m,g)){var n=new c;ba(m,g,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(p){if(p instanceof c)return p;Object.isExtensible(p)&&e(p);return n(p)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),p=new a([[m,2],[n,3]]);if(2!=p.get(m)||3!=p.get(n))return!1;p.delete(m);p.set(n,4);return!p.has(m)&&4==p.get(n)}catch(v){return!1}}())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var h=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!Ca(m,g))throw Error("WeakMap key fail: "+m);m[g][this.uq]=n;return this};b.prototype.get=function(m){return d(m)&&Ca(m,g)?m[g][this.uq]:void 0};b.prototype.has=function(m){return d(m)&&Ca(m,g)&&Ca(m[g],this.uq)};b.prototype.delete=function(m){return d(m)&&Ca(m,g)&&Ca(m[g],this.uq)?delete m[g][this.uq]:!1};return b});ha("Map",function(a){function b(){var h={};return h.previous=h.next=h.head=h}function c(h,m){var n=h.fj;return ia(function(){if(n){for(;n.head!=h.fj;)n=n.previous;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(h,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++g,f.set(m,n)):n="p_"+m;var p=h.Up[n];if(p&&Ca(h.Up,n))for(h=0;h<p.length;h++){var v=p[h];if(m!==m&&v.key!==v.key||m===v.key)return{id:n,list:p,index:h,Fe:v}}return{id:n,list:p,index:-1,Fe:void 0}}function e(h){this.Up={};this.fj=b();this.size=0;if(h){h=l(h);for(var m;!(m=h.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),m=new a(l([[h,"s"]]));if("s"!=m.get(h)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),p=n.next();if(p.done||p.value[0]!=h||"s"!=p.value[1])return!1;p=n.next();return p.done||4!=p.value[0].x||"t"!=p.value[1]||!n.next().done?!1:!0}catch(v){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(h,m){h=0===h?0:h;var n=d(this,h);n.list||(n.list=this.Up[n.id]=[]);n.Fe?n.Fe.value=m:(n.Fe={next:this.fj,previous:this.fj.previous,head:this.fj,key:h,value:m},n.list.push(n.Fe),this.fj.previous.next=n.Fe,this.fj.previous=n.Fe,this.size++);return this};e.prototype.delete=function(h){h=d(this,h);return h.Fe&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.Up[h.id],h.Fe.previous.next=h.Fe.next,h.Fe.next.previous=h.Fe.previous,h.Fe.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.Up={};this.fj=this.fj.previous=b();this.size=0};e.prototype.has=function(h){return!!d(this,h).Fe};e.prototype.get=function(h){return(h=d(this,h).Fe)&&h.value};e.prototype.entries=function(){return c(this,function(h){return[h.key,h.value]})};e.prototype.keys=function(){return c(this,function(h){return h.key})};e.prototype.values=function(){return c(this,function(h){return h.value})};e.prototype.forEach=function(h,m){for(var n=this.entries(),p;!(p=n.next()).done;)p=p.value,h.call(m,p[1],p[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var g=0;return e});ha("Array.prototype.values",function(a){return a?a:function(){return Ea(this,function(b,c){return c})}});ha("Set",function(a){function b(c){this.ui=new Map;if(c){c=l(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.ui.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(l([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;b.prototype.add=function(c){c=0===c?0:c;this.ui.set(c,c);this.size=this.ui.size;return this};b.prototype.delete=function(c){c=this.ui.delete(c);this.size=this.ui.size;return c};b.prototype.clear=function(){this.ui.clear();this.size=0};b.prototype.has=function(c){return this.ui.has(c)};b.prototype.entries=function(){return this.ui.entries()};b.prototype.values=function(){return this.ui.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.ui.forEach(function(f){return c.call(d,f,f,e)})};return b});ha("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Fa(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});ha("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function Ga(a){return a?a:Array.prototype.fill}ha("Int8Array.prototype.fill",Ga);ha("Uint8Array.prototype.fill",Ga);ha("Uint8ClampedArray.prototype.fill",Ga);ha("Int16Array.prototype.fill",Ga);ha("Uint16Array.prototype.fill",Ga);ha("Int32Array.prototype.fill",Ga);ha("Uint32Array.prototype.fill",Ga);ha("Float32Array.prototype.fill",Ga);ha("Float64Array.prototype.fill",Ga);function Ha(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{LE:e,jp:f}}return{LE:-1,jp:void 0}}ha("Array.prototype.findIndex",function(a){return a?a:function(b,c){return Ha(this,b,c).LE}});ha("Array.prototype.find",function(a){return a?a:function(b,c){return Ha(this,b,c).jp}});ha("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});ha("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)Ca(b,d)&&c.push(b[d]);return c}});ha("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)Ca(b,d)&&c.push([d,b[d]]);return c}});ha("String.prototype.trimLeft",function(a){function b(){return this.replace(/^[\s\xa0]+/,"")}return a||b});ha("String.prototype.trimStart",function(a){return a||String.prototype.trimLeft});ha("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});ha("String.prototype.repeat",function(a){return a?a:function(b){var c=Fa(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});ha("Array.prototype.entries",function(a){return a?a:function(){return Ea(this,function(b,c){return[b,c]})}});function Ia(){this.qe=!0;this.Mf=10;this.ef=50}function Ja(a,b){this.DL=a;this.listener=b}Ja.prototype.removeListener=function(){this.DL.removeListener(this.listener)};function r(a,b){b.add(a)}function t(a,b){this.JD=a;this.listeners=[];this.history=[];this.options=Object.assign(new Ia,b)}
t.prototype.h=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?!1:c;this.listeners.push(a);if(b)for(b=l(this.history),c=b.next();!c.done;c=b.next())a(c.value);else c&&0<this.history.length&&a(this.history[this.history.length-1]);-1!==this.options.ef&&this.listeners.length>this.options.ef&&u('EventRouter "'+this.JD+'" has too many listeners',{listeners:this.listeners.length,"max-listeners":this.options.ef});void 0!==this.options.bv&&this.options.bv(this.listeners.length);return new Ja(this,a)};t.prototype.once=function(a,b){function c(e){a(e);d.removeListener(c)}var d=this;return this.h(c,!1,void 0===b?!0:b)};t.prototype.j=function(a){this.history.push(a)>this.options.Mf&&this.history.shift();for(var b=l([].concat(ja(this.listeners))),c=b.next();!c.done;c=b.next()){c=c.value;try{c(a)}catch(d){w("Event listener error: "+d,{event_name:this.JD,event_listeners:this.listeners.length,listener:c,error_stack:d.stack})}}};t.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);void 0!==this.options.cv&&this.options.cv(this.listeners.length)};function La(){this.Zw=[]}La.prototype.add=function(a){this.Zw.push(a)};function Ma(a){for(var b=l(a.Zw),c=b.next();!c.done;c=b.next())c.value.removeListener();a.Zw=[]};function x(a,b){a=void 0===a?"div":a;this.dg=[];this.yy=!1;this.Jt=new t("didReposition",{qe:!1});this.element="string"===typeof a?this.vx(a):a;this.initData(b);this.Na(b);this.element.setAttribute("ts",""+this.constructor.name)}k=x.prototype;k.vx=function(a){a=document.createElement(a);a.style.height="100%";a.style.width="100%";a.style.position="absolute";a.style.overflow="hidden";a.style["-webkit-tap-highlight-color"]="transparent";return a};k.initData=function(){};k.Na=function(){};k.Gu=function(){this.yy=!0};k.H=function(){};k.M=function(){this.H();for(var a=l(this.children()),b=a.next();!b.done;b=a.next())b.value.M();this.Jt.j(void 0)};k.Qs=function(){};k.Ye=function(){this.Qs();for(var a=l(this.children()),b=a.next();!b.done;b=a.next())b.value.Ye()};k.I=function(a,b){Na(this,a);void 0===b&&(b=this.element);a.yy||a.Gu();b.appendChild(a.element);return a};function Pa(a,b){Na(a,b,0);if(void 0===c)var c=a.element;c.insertBefore(b.element,a.element.firstChild);return b}
function Qa(a,b){if(0>a.dg.length)w("tried to add item before an index that does not exist");else{if(void 0===c)var c=a.element;b.yy||b.Gu();if(0===a.dg.length)Na(a,b),c.appendChild(b.element);else{var d=a.dg[0].element;Na(a,b,0);c.insertBefore(b.element,d)}}}function Na(a,b,c){void 0!==b.parent&&b.parent!==a&&b.parent.removeChild(b);void 0===c?a.dg.push(b):a.dg.splice(c,0,b);b.parent=a}
function Ra(a,b,c){void 0!==b.parent&&b.parent!==a&&b.parent.removeChild(b);c=void 0===c?-1:a.dg.indexOf(c);0>c?a.element.appendChild(b.element):a.element.insertBefore(b.element,a.dg[c].element);a.dg.splice(c,0,b);b.parent=a}k.removeChild=function(a){var b=this.dg.indexOf(a);if(-1===b)w("tried removing component that doesn't exist");else{this.dg.splice(b,1);a.parent===this&&(a.parent=void 0);Sa(a);b=l(a.children());for(var c=b.next();!c.done;c=b.next())c.value.eg();a.eg()}};function Sa(a){var b=a.element.parentNode;null!==b?b.removeChild(a.element):w("couldn't find parent element to use for node removal")}function Ta(a){for(var b=l(a.children()),c=b.next();!c.done;c=b.next())c=c.value,c.parent===a&&(c.parent=void 0),Sa(c),c.eg();a.dg=[]}k.children=function(){return this.dg};k.eg=function(){};k.ob=function(a){this.element.style.display=void 0===this.iG?void 0===a?"block":a:this.iG};k.Sa=function(){"none"!==this.element.style.display&&(""!==this.element.style.display&&(this.iG=this.element.style.display),this.element.style.display="none")};k.$a=function(){return"none"!==this.element.style.display};k.previousSibling=function(){if(void 0!==this.parent)return Ua(this,this.parent.children())};k.nextSibling=function(){if(void 0!==this.parent)return Ua(this,this.parent.children().slice().reverse())};k.lastChild=function(){return 0<this.children().length?this.children()[this.children().length-1]:void 0};function Ua(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;if(c===a)break;var d=c}return d};function y(a,b){a=a instanceof x?a.element:a;a.classList.contains(b)||a.classList.add(b)}function z(a,b){a=a instanceof x?a.element:a;a.classList.contains(b)&&a.classList.remove(b)};function Va(a){var b=a.length+1;return document.cookie.split(";").map(function(c){return c.trim()}).filter(function(c){return c.substring(0,b)===a+"="}).map(function(c){return decodeURIComponent(c.substring(b))})[0]}function Wa(a){var b;return null!==(b=Va(a))&&void 0!==b?b:""}function Xa(a,b,c){Ya(a,b,86400*c)}function Ya(a,b,c){var d=new Date;d.setTime(d.getTime()+1E3*c);document.cookie=a+"="+b+"; expires="+d.toUTCString()+"; path=/"};var Za={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},$a="webkitFullscreenEnabled webkitFullscreenElement webkitRequestFullscreen webkitExitFullscreen webkitfullscreenchange webkitfullscreenerror".split(" "),ab="mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),bb="msFullscreenEnabled msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" "),cb;"fullscreenEnabled"in document?cb=Object.keys(Za):$a[0]in document?cb=$a:ab[0]in document?cb=ab:bb[0]in document&&(cb=bb);function db(a){if(void 0!==cb)a[cb[Za.requestFullscreen]]();else"webkitEnterFullScreen"in a&&a.webkitEnterFullScreen()}function eb(){void 0!==cb&&document[cb[Za.exitFullscreen]].bind(document)()}function fb(){return void 0===cb?!1:!!document[cb[Za.fullscreenEnabled]]}function gb(){if(void 0!==cb)return document[cb[Za.fullscreenElement]]}
function hb(){return void 0===cb?"":cb[Za.fullscreenchange]}function ib(){return void 0===cb?"":("on"+cb[Za.fullscreenerror]).toLowerCase()}function jb(){return!!gb()};var kb=window.Hls,lb;function mb(){if(void 0===lb){var a=!0;try{window.localStorage.setItem("cbModernizr","cbModernizr"),window.localStorage.removeItem("cbModernizr")}catch(b){a=!1}lb=a}return lb}function nb(){return void 0!==window.history&&void 0!==window.history.pushState}function ob(){try{return!!document.createElement("audio").canPlayType}catch(a){return!1}}var pb;function qb(){if(void 0!==pb)return pb;pb=!1;try{if("webkitAudioContext"in window)var a=new webkitAudioContext;else if("AudioContext"in window)a=new AudioContext;else return pb;if(null===a)return pb;pb="function"===typeof a.createGain&&"function"===typeof a.decodeAudioData&&"function"===typeof a.createBufferSource&&"function"===typeof a.createBufferSource().start;"function"===typeof a.close&&a.close()}catch(b){w("Error checking for audio context: "+b)}return pb}var rb;function sb(){if(void 0!==rb)return rb;var a=document.createElement("audio");return rb="function"===typeof a.canPlayType&&""!==a.canPlayType("audio/mpeg;codecs=mp3")}var tb=Object.prototype.hasOwnProperty.call(window,"onorientationchange");function ub(){var a=document.createElement("video").canPlayType("application/vnd.apple.mpegurl");return"probably"===a||"maybe"===a}
function vb(){return window.hasOwnProperty("requestAnimationFrame")?window.requestAnimationFrame:window.hasOwnProperty("webkitRequestAnimationFrame")?window.webkitRequestAnimationFrame:window.hasOwnProperty("mozRequestAnimationFrame")?window.mozRequestAnimationFrame:function(a){window.setTimeout(function(){a(0)},1E3/7);return Date.now()}}var wb;function xb(){if(void 0!==wb)return wb;try{var a=Object.defineProperty({},"passive",{get:function(){wb=!0}});window.addEventListener("testPassive",function(){},a);window.removeEventListener("testPassive",function(){},a);void 0===wb&&(wb=!1)}catch(b){wb=!1}return wb}var yb,zb=!1;window.setTimeout(function(){zb=!0},200);function Ab(){if(void 0!==yb&&!zb)return yb;var a=document.documentElement.scrollTop;document.documentElement.style.height=window.innerHeight+1+"px";document.documentElement.scrollTop=a+1;yb=document.documentElement.scrollTop!==a?document.documentElement:document.body;document.documentElement.style.height="";document.documentElement.scrollTop=a;zb=!1;return yb}function Bb(){return void 0!==window.performance&&void 0!==window.performance.now}
function Cb(){return void 0!==window.chrome&&(!!window.chrome.loadTimes||!!window.chrome.webstore||!!window.chrome.runtime)}function Db(){return/Edge\//i.test(navigator.userAgent)}function Eb(){if(Fb()&&/WebKit/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent))return!0;var a=!1;void 0!==window.safari&&void 0!==window.safari.pushNotification&&(a="[object SafariRemoteNotification]"===window.safari.pushNotification.toString());return/constructor/i.test(window.HTMLElement)||a}
function Gb(){return[/SM-T827R4/,/SM-T550/,/SM-T330/,/SM-T232/,/SM-T335/,/SM-T813/,/SM-T510/].some(function(a){return a.test(navigator.userAgent)})}function Hb(){return(/iPad/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&void 0===window.MSStream}function Ib(){return/iPhone/i.test(navigator.userAgent)&&void 0===window.MSStream}function Fb(){return/iPod/i.test(navigator.userAgent)&&void 0===window.MSStream||Ib()||Hb()}
function Jb(){if(Fb()){var a=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return null===a?void 0:parseInt(a[1])}}function Kb(){return/Android|webOS|BlackBerry|IEMobile|Opera Mini|SamsungBrowser/i.test(navigator.userAgent)||Fb()}function Lb(){return!!document.documentMode}function Mb(){return Lb()&&void 0===window.atob}function Nb(){return/Puffin/i.test(navigator.userAgent)}function Ob(){var a="unload";Fb()&&Eb()&&(a="pagehide");return a}
function Pb(){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia}var Qb;(new Promise(function(a){if(void 0!==Qb)a(Qb);else{var b=new Image;b.onerror=function(){a(!1)};b.onload=function(){Qb=2!==b.width;a(Qb)};b.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}})).then(function(a){Qb=a}).catch(function(){});function Rb(a){switch(a){case 1:return 255;case 2:return 65535;case 4:return 4294967295;default:return 1.8446744073709552E19}}function Sb(){var a=new Uint16Array(1),b;"crypto"in window?b=window.crypto:"msCrypto"in window&&(b=window.msCrypto);if(void 0===b){if(null!==a){b=a.length;for(var c=Rb(a.byteLength/b),d=0;d<b;d+=1)a[d]=Math.floor(Math.random()*c)}}else a=b.getRandomValues(a);return a};var Tb={},Ub={};function Vb(a){return Number.isNaN(Number(a))?0:Number(a)}
function B(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?!1:e;if(b===window)var f=Tb[a]=Vb(Tb[a])+1;else if(b===document)f=Ub[a]=Vb(Ub[a])+1;else if(b instanceof HTMLElement){var g="data-listener-count-"+a;f=Vb(b.getAttribute(g))+1;b.setAttribute(g,""+f)}else f=1;42<f&&u('event listener "'+a+'" has too many listeners. Element: '+(b===document?"document":b===window?"window":b.outerHTML.split(">")[0]+">"),{listeners:f,"max-listeners":42});void 0!==window.addEventListener?(d=xb()?{capture:d,passive:e}:d,b.addEventListener(a,c,d)):void 0!==window.attachEvent?b.attachEvent("on"+a,c):w("Could not resolve addEventListenerPoly( "+a+" ) to "+b)}function Wb(a,b,c){var d=void 0===d?!1:d;var e=void 0===e?!1:e;a=l(a);for(var f=a.next();!f.done;f=a.next())B(f.value,b,c,d,e)}
function C(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?!1:e;if(b===window)var f=Tb[a]=Vb(Tb[a])-1;else if(b===document)f=Ub[a]=Vb(Ub[a])-1;else if(b instanceof HTMLElement){var g="data-listener-count-"+a;f=Vb(b.getAttribute(g))-1;b.setAttribute(g,""+f)}else f=1;0>f&&w('event listener "'+a+'" removed without being added',{listeners:f});void 0!==window.removeEventListener?(d=xb()?{capture:d,passive:e}:d,b.removeEventListener(a,c,d)):void 0!==window.detachEvent?b.detachEvent("on"+a,c):w("Could not resolve removeEventListenerPoly( "+
a+" ) from "+b)}function Xb(a,b){function c(f){b(f);C("touchend",a,c,d,e)}var d=void 0===d?!1:d;var e=void 0===e?!1:e;B("touchend",a,c,d,e)};var Yb=new t("bioClicked"),Zb=new t("userListRequest"),$b=new t("openTipCalloutRequest"),ac=new t("loadRoomRequest"),bc=new t("reportAbuseRequest"),cc=new t("privateWindowRequest"),dc=new t("chatWindowRequest"),ec=new t("colorModeChangeRequest"),fc=new t("roomChangeColorModeUpdateRequest");var gc=new t("navigationRequest"),hc=[],ic=!0;function jc(a){Promise.all(hc.map(function(b){return b()})).then(function(){gc.j(a)}).catch(function(){})}
function kc(a,b){b=void 0===b?!1:b;B("click",a,function(c){if(!(c.metaKey||c.ctrlKey||c.defaultPrevented||Lb()||Db())){var d=lc(c.target);void 0!==d&&(d.hasAttribute("data-floatingnav")&&ic?(c.preventDefault(),jc(d.href)):d.hasAttribute("data-room")?(c.preventDefault(),Promise.all(hc.map(function(e){return e()})).then(function(){ac.j(d.getAttribute("data-room"))}).catch(function(){})):b&&(d.target="_top"))}})}
function lc(a){for(;null!==a&&"a"!==a.tagName.toLowerCase();)a=a.parentElement;if(null!==a&&"#"!==a.href&&-1!=="_self".indexOf(a.target))return a};var mc=new t("modalReposition");B("resize",window,function(){mc.j(void 0)});B("orientationchange",window,function(){mc.j(void 0)});var nc=new t("modalFullscreenChange");B(hb(),document,function(){nc.j(void 0)});var oc=new t("modalEscape");B("keydown",document,function(a){27===a.keyCode&&oc.j(a)});var pc=new t("modalExit");B("popstate",window,function(){pc.j(void 0)});gc.h(function(){pc.j(void 0)});var qc=new t("modalOpened");function rc(a){a=void 0===a?{Zl:!0}:a;x.call(this);var b=this;this.options=a;this.Mc=new t("overlayClick");this.P=new La;this.qv=this.Sz=this.Fb=this.ho=!1;this.da=document.createElement("div");this.da.style.position="fixed";this.da.style.display="none";this.da.style.left="0";this.da.style.top="0";this.da.style.right="0";this.da.style.bottom="0";this.da.style.zIndex="1100";this.da.style.background="rgb(0,0,0,0)";this.da.onclick=function(c){c.stopPropagation();b.Mc.j(void 0);b.Sz||b.D()};this.element.style.zIndex="1101";this.element.onclick=function(c){c.stopPropagation()};this.rL=function(){b.ho&&b.M()};this.QJ=function(){b.ho&&b.show()}}q(rc,x);rc.prototype.show=function(){var a=this,b=gb();jb()&&void 0!==b?(b.appendChild(this.da),b.appendChild(this.element)):(document.body.appendChild(this.da),document.body.appendChild(this.element));this.ho||(r(mc.h(this.rL,!1),this.P),r(nc.h(this.QJ,!1),this.P),r(pc.h(function(){a.D()},!1),this.P),this.options.Zl&&r(oc.h(function(c){c.preventDefault();a.D()},!1),this.P),this.qv&&qc.j(!0),void 0!==this.options.Am&&this.options.Am(),this.ho=!0);this.Fb||(this.da.style.display="block")};rc.prototype.D=function(){this.da.style.display="none";null!==this.element.parentElement&&this.element.parentElement.removeChild(this.element);null!==this.da.parentElement&&this.da.parentElement.removeChild(this.da);this.ho&&(Ma(this.P),this.qv&&qc.j(!1),void 0!==this.options.uh&&this.options.uh(),this.ho=!1)};function sc(a){var b="";null===a.match(/^[a-zA-Z]+:\/\//)&&(b="/");return""+b+a}function tc(a){for(var b=new FormData,c=l(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.append(d,a[d]);return b}
function uc(a){switch(a.readyState){case 0:return"request not sent";case 4:switch(a.status){case 0:return"network error";case 400:return"bad request";case 401:return"unauthorized";case 403:return"access denied";case 404:return"not found";case 429:return"request throttled";case 500:return"server error";default:return"unknown status "+a.status}default:return"unknown ready state "+a.readyState}}
function vc(a){var b=Error.call(this,uc(a));this.message=b.message;"stack"in b&&(this.stack=b.stack);var c=this;this.$d=a;this.toString=function(){return"XhrError: "+c.message}}q(vc,Error);function wc(a){return 200<=a&&299>=a||1223===a}function E(a){return xc(a)[1]}
function xc(a){var b=6E4;b=void 0===b?6E4:b;var c=new XMLHttpRequest;return[c,new Promise(function(d,e){c.open("GET",sc(a));c.withCredentials=!0;c.onerror=function(){e(new vc(c))};c.onload=function(){wc(c.status)?d(c):e(new vc(c))};c.timeout=b;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.send()})]}
function F(a,b){var c=b instanceof FormData?b:tc(b);b=yc(c);void 0===b?w("CSRF token is undefined",{cookies:document.cookie}):c.set("csrfmiddlewaretoken",b);return new Promise(function(d,e){var f=new XMLHttpRequest;f.open("POST",sc(a),!0);f.withCredentials=!0;f.onerror=function(){e(new vc(f))};f.onload=function(){wc(f.status)?d(f):e(new vc(f))};f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.send(c)})}
function zc(a,b){b=void 0===b?{}:b;var c=Object.keys(b).map(function(f){return f+"="+b[f]}).join("&"),d=""===c?a:a+"?"+c,e=Va("csrftoken");return new Promise(function(f,g){var h=new XMLHttpRequest;h.open("DELETE",sc(d),!0);h.withCredentials=!0;h.onerror=function(){g(new vc(h))};h.onload=function(){wc(h.status)?f(h):g(new vc(h))};void 0===e?(w("CSRF token is undefined",{cookies:document.cookie}),g(new vc(h))):(h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("X-CSRFToken",e),h.send())})}function yc(a){var b;a.has("csrfmiddlewaretoken")&&(b=a.get("csrfmiddlewaretoken"));return void 0!==Va("csrftoken")?Va("csrftoken"):b};function Ac(a){a=a.toLowerCase().split(" ");for(var b=0;b<a.length;b+=1)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join(" ")}function Bc(a){a=a.toLowerCase().split("_");for(var b=0;b<a.length;b+=1)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join("_")}function Cc(a,b){return null===a||void 0===a||""===a?null===b||void 0===b?"":b:a};var G=window.gettext;void 0===G&&(u("gettext is undefined."),G=function(a){return a});var Dc=window.ngettext;void 0===Dc&&(u("ngettext is undefined."),Dc=function(a,b,c){return 1<c?b:a});var H=window.interpolate;void 0===H&&(u("interpolate is undefined."),H=function(a){return a});function Ec(a){return H(G("Chat with %(username)s in a Live Adult Video Chat Room Now"),{username:Bc(a)},!0)}function Fc(a,b){return b?Dc("Token","Tokens",a):Dc("token","tokens",a)}
function Gc(a){return H(G("Confirm tip of %(tokens)s tokens"),{tokens:a},!0)}function Hc(a){return H(G('room subject changed to "%(subject)s"'),{subject:a},!0)}function Ic(a){return H(G("%(username_title)s's Cam"),{username_title:Bc(a)},!0)}function Jc(a){return H(G("JOIN %(modelname)s's FAN CLUB"),{modelname:a},!0)}function Kc(a){return H(G('You will be taken to Join Fanclub Page for %(modelname)s.  Click "OK" to proceed.'),{modelname:Ac(a)},!0)}
function Lc(a){return H(G('You must be logged in to join %(modelname)s\'s fan club.  Click "OK" to login.'),{modelname:Ac(a)},!0)}function Mc(a){return H(G("You are about to purchase this video for %(tokens)s %(tokenstext)s"),{tokens:a,tokenstext:Dc("token","tokens",a)},!0)}
function Nc(a,b){return H(G("You are about to purchase this photo set (%(numphotos)s %(imagestext)s) for %(tokens)s %(tokenstext)s"),{numphotos:a,imagestext:Dc("image","images",a),tokens:b,tokenstext:Dc("token","tokens",b)},!0)}function Oc(a){return H(G("Unlock this photo set (%(numphotos)s %(imagestext)s)"),{numphotos:a,imagestext:Dc("image","images",a)},!0)}function Pc(a){return H(G("Unlock this video (%(duration)s)"),{duration:a},!0)}
function Qc(a){return H(G("%(modelname)s has disabled their fan club."),{modelname:Ac(a)},!0)}
function Rc(a,b,c,d){a=H(G("Enter private chat with %(username)s?\n%(price)s tokens per minute, minimum %(minMinutes)s minute(s)\n\n"),{username:a,price:b,minMinutes:c},!0);return a=d?a+G("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection."):a+G("This broadcaster does not allow private show recordings, so you will not receive a recorded video of this show in your collection.")}
function Sc(a){return H(G("Broadcaster %(username)s is running these apps: "),{username:a},!0)}function Tc(a){return H(G("PM conversation with %(username)s &lt;ctrl-l to close&gt;"),{username:a},!0)}function Uc(a){return H(G("After tipping %(min_tokens_to_vote)s tokens in a day, you'll be able to vote regarding your satisfaction with %(room)s."),{min_tokens_to_vote:25,room:Ac(a)},!0)}
function Vc(a){return H(G("Your confidential vote regarding %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."),{room:Ac(a)},!0)}function Wc(){var a=Xc.Tv;return H(G("Caution: The %(siteName)s Team will NEVER contact you via chat or ask for your password."),{siteName:a},!0)}function Yc(a){return H(G("Are you sure you want to rate %(room)s thumbs down?"),{room:Ac(a)},!0)}G("SEND PM");G("Send PM");var Zc=G("You must be a supporter, fan club member, or moderator to send this private message."),$c=G("You must be a supporter, fan club member, moderator, or have received a tip today from this user to send this private message."),ad=G("Sign up for a"),bd=G("Supporter Membership");function cd(a){return H(G("to send a pm to %(pmUser)s"),{pmUser:a},!0)}function dd(a){return H(G("%(username)s is ignored"),{username:a},!0)}function ed(a){return H(G("Ignore %(username)s"),{username:a},!0)}
function fd(a){return H(G("Ban %(username)s?"),{username:a},!0)}function gd(a){return H(G("%(username)s has tipped me"),{username:a},!0)}function hd(a){return H(G("%(tokens)s in the past hour"),{tokens:a},!0)}function id(a){return H(G("%(tokens)s in the past day"),{tokens:a},!0)}function jd(a){return H(G("%(tokens)s in the past 2 weeks"),{tokens:a},!0)}function kd(a){return H(G("Start Cam To Cam with %(username)s"),{username:a},!0)}
function ld(a){return H(G("You are currently showing your cam to %(room)s. If your cam has ended, please wait up to 1 minute to be able to broadcast again."),{room:a},!0)}function md(a){return H(G("Private conversation with %(username)s"),{username:a},!0)}function nd(a){return H(G("%(room)s's room now requires a password. Please log in for a password prompt."),{room:a},!0)}
function od(a){return H(G('We have noticed an increase in custom bios that hinder site navigation or even break Chaturbate for viewers on certain browsers. As a broken site can affect your traffic and earnings, to ensure that all users across all web browsers are able to view Chaturbate without experiencing browser-based issues, starting on October 15th 2021, custom bio content on your profile will only display below the "Bio" tab. Rest assured that any floating badges, buttons, and personal links that are currently on your page above the "Bio" tab will not be removed, and that these elements will only be relocated below the "Bio" tab. In order to help prepare you for this change, you can <a rel="noopener" target="_blank" href="/p/%(username)s/?tab=bio&bioq=true">click here</a> to see how your current profile will display to users after October 15th 2021. If you notice any custom content on your bio is negatively affected, we suggest <a rel="noopener" target="_blank" href="/p/%(username)s/?tab=bio&edit=bio">editing your bio</a> to avoid disruption.'),{username:a},!0)}function pd(a){return H(G("New private conversation from %(username)s"),{username:a},!0)}var qd=G(" (Press TAB to cycle through your conversations)"),rd=G("Join Chaturbate's community."),sd=G("Chat live, follow broadcasters, access private shows, or earn money!"),td=G("Sign Up Free"),ud=G("Chat Color"),vd=G("Font Family"),wd=G("Font Size"),xd=G("Show Emoticons"),yd=G("Autocomplete Delay");G("Sort Users");var zd=G("Highest Token Color");G("Chat Allowed By");G("Moderators Expire After");G("Silence Other Age-Verified Broadcasters");G("Yes, Always");var Ad=G("Tip Volume");G("Use New Tip Alerts");var Bd=G("View/Edit Ignored Users"),Cd=G("THE ACT OF MASTURBATING WHILE CHATTING ONLINE");G("CHAT ROOMS");G("BETA");G("TAGS");G("EARN FREE TOKENS");G("MY COLLECTION");var Dd=G("My Collection"),Ed=G("Log in");G("Log In");var Fd=G("Sign Up");G("Sign up");var Gd=G("Include an optional message:");G("Optional message:");var Hd=G("Send Tip"),Id=G("SEND TIP"),Jd=G("Send a tip");G("Send tip to broadcaster");var Ld=G("Public Tipping"),Md=G("Username is visible to all users."),Nd=G("Anonymous Tipping"),Od=G("Username only visible to broadcaster."),Pd=G("Send Anonymous Tip"),Qd=G("Sending..."),Rd=G("Click OK to continue to supporter signup.");G("Include optional message");G("Tip note...");G("Tap to chat...");var Sd=G("This broadcaster doesn't accept tips."),Td=G("Purchase Tokens");G("Upgrade now");G("Supporter");G("Basic Member");G("MY PROFILE");G("LOG OUT");G("SEND FEEDBACK");var Ud=G("My Profile"),Vd=G("Live Chat Support"),Wd=G("Log Out"),Xd=G("Are you sure you want to log out?"),Yd=G("Send Feedback");G("Status");G("You have:");G("Get More");var Zd=G("Get more tokens"),$d=G("Get More Tokens"),ae=G("Chat disconnected. The broadcaster has set a new password on this room."),be=G("Private"),ce=G("Start Private Show"),de=G("Spy on Private Show"),ee=G("Private show has started."),fe=G("Private show has finished."),ge=G("Private show has been declined."),he=G("Cancel Private Request"),ie=G("Cannot cancel private show. Please try again in a few seconds."),je=G("Leave Private Show"),ke=G("Private show request has been sent. Waiting on broadcaster to approve."),le=G("Broadcaster has returned from away mode."),me=G("You were disconnected because you have joined this room again."),ne=G("The broadcaster has kicked you from the room."),oe=G("You were kicked from the room."),pe=G("signup to chat"),qe=G("About Me"),re=G("Wish List"),se=G("PURCHASED"),te=G("OR"),ue=G("Photos and Videos"),ve=G("Real Name"),we=G("Followers"),xe=G("I am"),ye=G("We are"),ze=G("Birthday"),Ae=G("Birth Date"),Be=G("Age");G("Date");G("Action");var Ce=G("Body Type"),De=G("Body Decorations"),Ee=G("Interested In"),Fe=G("Location"),Ge=G("Language(s)"),He=G("Last Broadcast"),Ie=G("Languages"),Je=G("Smoke Drink"),Ke=G("Smoke / Drink"),Le=G("User has no available BIO"),Me=G("Bio and Free Webcam");G("Unable to submit");G("Submitting...");var Ne=G("Loading"),Oe=G("loading"),Re=G("SETTINGS"),Se=G("Settings"),Te=G("Chat settings saved"),Ue=G("CHAT"),Ve=G("SEND"),We=G("Send"),Xe=G("TIP"),Ye=G("Tip"),Ze=G("Users"),$e=G("USERS"),af=G("a user"),bf=G("Report Abuse"),cf=G("REPORT ABUSE");G("Room");var df=G("More Rooms"),ef=G("spy private show"),ff=G("Unfollow");G("unfollow");var gf=G("Follow"),hf=G("Notify me"),jf=G("Always"),kf=G("Auto"),lf=G("Never"),mf=G("Refresh Rooms"),nf=G("Women"),of=G("WOMEN");G("women");var pf=G("Men"),qf=G("MEN");G("men");var rf=G("Trans"),sf=G("TRANS"),tf=G("Couples"),uf=G("COUPLES");G("couples");G("Followed");var vf=G("FOLLOWED"),wf=G("SPY SHOWS"),xf=G("SAVE"),yf=G("Save");G("Standard Emoticons");var zf=G("Recently used"),Af=G("Smileys & People"),Bf=G("Animals & Nature"),Cf=G("Food & Drink"),Df=G("Activities"),Ef=G("Travel & Places"),Ff=G("Objects"),Gf=G("Symbols"),Hf=G("Flags"),If=G("Upload"),Jf=G("Tone"),Kf=G("Your current balance:");G("Balance:");G("Token Balance");var Lf=G("You currently have: "),Mf=G("WARNING: This room has a low satisfaction rating."),Nf=G("TIP AT YOUR OWN RISK!"),Of=G("Enter tip amount:"),Pf=G("Invalid tip amount!");G("Amount:");var Qf=G("Toggle this window with CTRL-S"),Rf=G("Leave open after tipping"),Sf=G("Select One"),Tf=G("Please select a reason"),Uf=G("Loading user list"),Vf=G("refresh userlist"),Wf=G("Send private message"),Xf=G("Mention this user"),Yf=G("HIDE ALL ADS NOW"),Zf=G("Powered by ExoticAds<br>Buy/Sell Traffic"),$f=G("Show More"),ag=G("Pics & Videos"),bg=G("Pictures"),cg=G("Videos"),dg=G("Social Media"),eg=G("Unique Registered Viewers Watching"),fg=G("Points"),gg=G("Current Hour's Top Cams"),hg=G("Every hour, the cam with the most points wins a $10 prize. The cam in 2nd place wins a $5 prize.");G("Apps & Bots");G("Customize your chat room experience by launching an app or using bots to make your room unique. Explore a wide array of options, or even write your own app with javascript at the <a href='/apps/' target='_blank' rel='noopener noreferrer'>Apps and Bots page</a>.");G("Apps");G("Games");var ig=G("dismiss this message");G("Only 5 #hashtags will be applied");var jg=G("dismiss"),kg=G("Register later"),lg=G("Already have an account?"),mg=G("Login here");G("Please sign in using the form below");var ng=G("Username"),og=G("Password");G("Prove you are human");var pg=G("Keep me logged in"),qg=G("Forgot password?");G("Incorrect password");G("Incorrect captcha");G("Create Free Account");var rg=G("We've improved Chaturbate's mobile site by adding these feature(s):"),sg=G("Satisfaction Voting"),tg=G("Visit the "),ug=G("mobile site"),vg=G("survey"),wg=G(" again, or give us some "),xg=G("feedback"),yg=G(" on why you left.");G("Or ");var zg=G("or");G("the mobile site");G("Follower browser notifications");G("Would you like to receive browser notifications when a broadcaster you follow comes online?");G("Subscription failure. Please try again from the Settings & Privacy page on your profile.");G("Yes");var Ag=G("Not now"),Bg=G("This room requires a password."),Cg=G("Login to room");G("Moderators");G("Remove Moderators");G("Non-Moderators");var Dg=G("Remove Ignored Users"),Eg=G("Unignore this user"),Fg=G("Unignored Users");G("Ignore");var Gg=G("Ignore this user"),Hg=G("Report this message"),Ig=G("Ignored Users"),Jg=G("Click on a user to unignore them."),Kg=G("Select a user from the list to unignore them.");G("Click on a user to revoke their moderator status.");var Lg=G("You must be logged in to ignore a user"),Mg=G("Room is currently offline"),Ng=G("Follow broadcasters to receive instant notifications when they come online."),Og=G("UNFOLLOW"),Pg=G("FOLLOW"),Qg=G("Share"),Rg=G("Bio"),Sg=G("Contest Stats");G("Settings & Privacy");G("Settings saved");G("Token Stats");G("Memberships");var Tg=G("Submit feedback to broadcaster"),Ug=G("Optional comment for broadcaster:"),Vg=G("Submitted"),Wg=G("SATISFIED?");G("Satisfied?");var Xg=G("SCAN CAMS"),Yg=G("NEXT CAM"),Zg=G("SCAN / NEXT"),$g=G("SCAN"),ah=G("SKIP CAM"),bh=G("EXIT SCANNING"),ch=G("Token Linkcodes"),dh=G("Earn up to 10 tokens for every registered user and 500 tokens for users who broadcast (broadcasters must earn $20.00 before they qualify)."),eh=G("Please send to chaturbate using one of the link codes below."),fh=G("Embed Chaturbate's Top Cam on Your Webpage"),gh=G("the affiliate program stats"),hh=G("See details about tokens earned in "),ih=G('Your browser is outdated and may not function correctly. Update it for the best Chaturbate experience and new features. <br> We recommend <a href="https://www.google.com/chrome/">Chrome</a>, <a href="https://www.mozilla.org/firefox/">Firefox</a>, or <a href="https://www.microsoft.com/edge">Edge</a>'),jh=G('Add an extra layer of protection to your account by setting up 2-Step Verification at the <a href="/security/">Security Center</a>'),kh=G("Silence for 6 hours"),lh=G("Remove Silence"),mh=G("Theater Mode"),nh=G("Full Screen"),oh=G("Exit Full Screen"),ph=G("Split Mode"),qh=G("unknown"),rh=G("Show All"),sh=G(" to follow your favorite broadcasters and see when they are live."),th=G("Follow your favorite broadcasters to see when they are live.");G("Promote your room");G("Not enough tokens.");G("Purchase more tokens");G("You are no longer eligible to promote your room.");G("User promotion currently unavailable - please check your settings.");G("You must be logged in to promote your room.");G("You must be broadcasting to promote your room.");G("Get More Viewers");G("Add your room to a rotating promoted spot on the homepage for 5 minutes.");G("details");G("Promote now");G("In Progress");G("Get more tokens");G("Current price");G("Setting up user promotion...");G("Promotion ending...");G("Unknown error occurred while retrieving promotion purchase price. Please try again.");G("Unknown error occurred while purchasing user promotion. Please try again.");G("Loading new pricing...");G("Announce you're online");G("Announce again in ");G("You have 1 follower");G("Send email and browser notifications to your followers.");G("Add a photo");G("Update photo");G("Must be non-nude");G("Recommended size: 1280 x 720 px");G("Shown in notification and featured emails");G("Send notifications");G("In Progress");G("New photos must be approved. If not approved in 15 minutes, email notifications will be sent without a photo.");G("You have no followers to notify.");G("Are you sure you want to notify your followers without an image?");G("Please use a jpeg, gif, or png image.");G("Image must not be larger than 10 megabytes.");G("A notification has already been sent.");G("Something went wrong after submit. Please try again.");G("Something went wrong during submit. Please try again.");G("Image must be at least 200px wide and 200px tall.");G("Image is too wide.");G("Image is too tall.");G("Please wait until all pending notifications have been sent.");G("Remove approved photo?");G("Sorry, this feature is not supported in your browser. Please upgrade to a modern browser like Chrome or Firefox.");var uh=G("Close"),vh=G("Cancel");G("cancel");var wh=G("CANCEL"),xh=G("SUBMIT");G("Submit");G("You have unsaved changes, are you sure you want to leave this page?");var yh=G("Choose a category"),zh=G("Abuse Report"),Ah=G("Broadcaster is underage"),Bh=G("Broadcaster is advertising"),Ch=G("Broadcaster is abusive"),Dh=G("Broadcaster is intoxicated"),Eh=G("Using a toy that is too large"),Fh=G("Asking for offline payments"),Gh=G("Broadcasting in public"),Hh=G("Broadcasting in service uniform"),Ih=G("Broadcaster is sleeping"),Jh=G("Broadcaster is wrong gender"),Kh=G("Other");G("Please choose a category");var Lh=G("Additional comments:"),Mh=G("Please add a description"),Nh=G("Message is inappropriate"),Oh=G("Message is rude towards the broadcaster"),Ph=G("Message is spam"),Qh=G("Media is offensive"),Rh=G("Other (please describe):"),Sh=G("Report"),Th=G("REPORT"),Uh=G("Unable to send report."),Vh=G("Too many reports sent. Try slowing down."),Wh=G("There was an error requesting your private show. Please try again."),Xh=G("There was an error requesting your spy show. Please try again."),Yh=G("Private Shows"),Zh=G("Are you sure?"),$h=G("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection.");G("You may continue chatting while you wait for the broadcaster to return.");G("Performer Is Away");G("Group Show");var ai=G("LEAVE PRIVATE SHOW"),bi=G("CANCEL PRIVATE REQUEST"),ci=G("START PRIVATE SHOW");G("SPY PRIVATE SHOW");var di=G("LEAVE SPY SHOW"),ei=G("Private Show");G("Private Show in Progress");var fi=G("This feature is not currently enabled on your device."),gi=G('You must be logged in to enter a private show. Click "OK" to login.'),hi=G('You must be logged in to spy on a private show. Click "OK" to login.'),ii=G("Spy has been disabled by the broadcaster"),ji=G("More Rooms Like This"),ki=G("Here are some trending rooms instead:"),li=G("RECOMMENDED"),mi=G("OFFLINE"),ni=G("EXHIBITIONIST"),oi=G("NEW"),pi=G("HD"),qi=G("HD+"),ri=G("IN PRIVATE"),si=G("GAMING"),ti=G("CHATURBATING"),ui=G("BROADCASTING"),vi=G("HIDDEN - STAFF ONLY"),wi=G("View on Twitter"),xi=G("Show tips and messages"),yi=G("How Can We Improve?"),zi=G("Updates"),Ai=G("This user has not added any photos or videos yet.");G("This user has not added any photos yet.");G("This user has not added any videos yet.");var Bi=G("More Pics"),Ci=G("More Videos"),Di=G("More Pics & Videos"),Ei=G("FAN"),Fi=G("CLUB");G("Tokens");G("Token");var Gi=G("Uploaded"),Hi=G("If you already purchased this photo set, try reloading the page to view it."),Ii=G("If you already purchased this video, try reloading the page to view it."),Ji=G("minutes"),Ki=G("seconds"),Li=G("or"),Mi=G("View Hi-Res Image"),Oi=G('You must be logged in to purchase this photo set.  Click "OK" to login.'),Pi=G('You must be logged in to view hi-res images.  Click "OK" to login.'),Qi=G('You must be logged in to purchase this video.  Click "OK" to login.'),Ri=G('Click "OK" to get more tokens.');G("Upload more Photos");G("Re-Order Items");G("Change video thumbnail image");G("Edit Details");G("Compliance");G("Deactivate");G("STAFF");G("Audio is disabled.");var Si=G("Audio muted to remove music");G("Enable Audio");G("(Check compliance for eligibility before enabling)");G("(Removes this item from being seen on the bio but does not remove from anyone's MyCollection.  To remove from MyCollections, reject in Compliance instead of deactivating.)");var Ti=G("FAILED"),Ui=G("PENDING"),Vi=G("APPROVAL"),Wi=G("VIDEO"),Xi=G("PROCESSING"),Yi=G("ERROR"),Zi=G("Failed Approval"),$i=G("Please delete or edit offending items."),aj=G("Open in new window"),bj=G("iPad has failed to setup the broadcast. Please try again."),cj=G("Please check your internet connection or close other applications"),dj=G("No camera found."),ej=G("Permission to use your camera and microphone is currently denied."),fj=G("We need permission to use your camera and microphone in order to proceed."),gj=G("Visit our <a class=\"hrefColor\" target='_blank' href='https://support.chaturbate.com/hc/en-us/articles/360040862791'>support page</a> for help enabling your devices."),hj=G("Request Device Permissions");G("support page");var ij=G("Make sure there are no other broadcast tabs open."),jj=G("Low FPS"),kj=G("Are you sure you want to leave?"),lj=G('This private show has ended. To give you\ntime to prepare, you are now shown as "Away" to\nthose in your room. To return and be visible on\ncam, click "Exit Away Mode" below.'),mj=G("Exit Away Mode"),nj=G("Could not get devices"),oj=G("Turn your device 180 degrees."),pj=G("Turn your device into landscape mode."),qj=G("Camera"),rj=G("Resolution"),sj=G("Microphone"),tj=G("Input Level"),uj=G("Mute"),vj=G("None (Silent)"),wj=G("Start Broadcasting"),xj=G("Stop Broadcasting"),yj=G("You Are Away"),zj=G("For high quality streams we strongly recommend"),Aj=G("Use external software (OBS)"),Bj=G("Please wait. Connecting in"),Cj=G("Could not start broadcast"),Dj=G("Welcome back"),Ej=G("Could not setup preview. Please make any possible adjustments and reload the page"),Fj=G("Could not setup broadcast"),Gj=G("My Cam Preview"),Hj=G("Cam To Cam"),Ij=G("Stop Cam To Cam"),Jj=G("Unable to share cam: You are already broadcasting from another window or tab"),Kj=G("Your cam will not be visible to other users."),Lj=G("The cam icon will turn orange when the broadcaster is viewing you."),Mj=G("Error sharing cam"),Nj=G("Error sharing cam: Timed out trying to connect"),Oj=G("Error viewing cam"),Pj=G("Unable to share cam: Make sure you are connected to chat and the broadcast is playing"),Qj=G("Unable to share cam: Broadcaster is in a private show");G("You are not allowed to share your cam with this user");var Rj=G("Sharing your cam is only available to users who have purchased tokens. Click OK to purchase tokens now.");G("Sharing your cam will remove your room password");G("Viewer ");G(" started sharing their cam");G(" stopped sharing their cam");var Sj=G(" started viewing your cam"),Tj=G(" stopped viewing your cam"),Uj=G("is currently viewing your cam"),Vj=G("is not currently viewing your cam"),Wj=G("Muted"),Xj=G("Close Cam");G("Block Cam");G("Pop Out Cam");G("Report Cam");G("Are you sure you want to block");G("User is broadcasting in public");G("User is rude/abusive");G("User is intoxicated");G("User is sleeping");G("User is spamming");G("User is underage");var Yj=G("My Cam");G("View Cam");G("Stop Viewing Cam");G("Unable to view cam: A maximum of five cams can be viewed at once");G("Unable to view cam: This viewer is no longer sharing their cam");var Zj=G("Leaving this page will end your cam. Click OK to proceed."),ak=G("has left the room."),bk=G("Follow to be notified when online."),ck=G("Describe your issue or share your ideas:"),dk=G("Some account and system information may be sent to %SITE_NAME%. We will use the information you give us to help address technical issues to improve our services, subject to our Privacy Policy and Terms of Service."),ek=G("Send feedback"),fk=G("Add screenshot"),gk=G("Scroll down to capture lower on the page"),hk=G("Scroll up to capture higher on the page"),ik=G("Click to highlight or hide info"),jk=G("Highlight issues with orange or hide sensitive info with black. Hit the ESC key to finish."),kk=G("Highlight issue"),lk=G("Hide sensitive info"),mk=G("Permission to capture screen not granted"),nk=G("Could not capture screen"),pk=G("Please take screenshot again after resizing"),qk=G("Your feedback has been sent! Thank you for your feedback."),rk=G("Something went wrong. Please try again later."),sk=G("Please wait before submitting more feedback."),tk=G("Unable to submit feedback. Please contact support."),uk=G("Done"),vk=G("Watching");G("Deny Private");G("Accept Private");G("Return to Public Chat");G("Your private show has ended.");G("Your camera will remain hidden until you re-enter public chat.");G("You're about to stop the group show. Do you want to continue?");G("You're about to stop the private show. Do you want to continue?");G("Error broadcasting");var wk=G("Font Settings"),xk=G("Emoticons Settings"),yk=G("Users Settings"),zk=G("Notifications Settings"),Ak=G("Other Settings");G("You have no users ignored.");G("Back to Settings");var Bk=G("Notify on Entry For"),Ck=G("Notify on Leave For"),Dk=G("No new updates"),Ek=G("The video is currently being processed.  It may take several minutes depending on the size of the video."),Fk=G("The video is damaged or its format is not supported."),Gk=G("Please delete this video and reupload again."),Hk=G("To disable, go to "),Ik=G(' on the homepage and uncheck "Enable floating player".'),Jk=G("You must be a supporter to use this feature."),Kk=G("Options");G('You must be logged in to Follow. Click "OK" to login.');var Lk=G("Log in or sign up to use this feature"),Mk=G('<a href="/accounts/register/">Sign up</a> to use this feature.'),Nk=G("Log in to continue"),Ok=G("Don't have an account yet?"),Pk=G("Tipped Tons"),Qk=G("1000+ tokens in the past 2 weeks"),Rk=G("Tipped Lots"),Sk=G("250+ tokens in the past 2 weeks"),Tk=G("Tipped Recently"),Uk=G("50+ tokens in the past 2 weeks"),Vk=G("Purchased Tokens"),Wk=G("Has bought tokens"),Xk=G("Fan Club Member"),Yk=G("Moderator"),Zk=G("Broadcaster");G('<a class="hrefColor" href="/supporter/upgrade/" >Upgrade to supporter</a> for no ads, private messaging, and more!');var $k=G('<a href="/supporter/upgrade/">Upgrade</a> to supporter to use this feature.');G("Outbound Tip");G("Tip From");G("Transfer tokens to cash");G("Transfer tokens to advertising credit");G("Referred Member");G("Admin Adjustment");G("This has been resolved by an administrator");G("email");var al=G("Email");G("Spy Show");G("Fan Club Membership");G("Broadcaster Rules: Tokens are the only form of payment allowed. You may promote your personal website as long as it does not offer video chat. Do not provide your Skype or Yahoo Messenger to anyone, and do not ask users to chat with you elsewhere.");G("Use External Encoder to Broadcast");G("Broadcast yourself using Open Broadcaster Software (OBS)");G("Accept");G("Decline");G("User(s) Token Rate");G("Private Show Stats");G("Exit Private Show");G("Use the Apps & Bots tab below to select an app and up to 5 bots to enhance your room.");G('You must <a class="hrefColor" href="/accounts/age_verification/"> submit age verification </a> to enable the ability to receive tokens while broadcasting.');G("Disabled");G("Allowed");G("Privates");G("Broadcaster's Guide");G("Age Verification");G('All persons appearing on your cam must have approved <a href="/accounts/age_verification/" style="color:#0A5A83">age verification</a> on file prior to appearing.');G("Tutorial Videos");G('Users and broadcasters have created <a href="https://vimeo.com/chaturbate" target="_blank" style="color:#0A5A83">videos</a> to teach you how to Chaturbate and earn money. You can view them on <a href="https://vimeo.com/chaturbate" target="_blank" style="color:#0A5A83">Chaturbate\'s Vimeo channel</a>.');G("Money Making Tips");G("Get an HD camera to receive the HD tag on your room.");G("Members love hearing you. Make sure to turn your microphone on and greet users by name.");G("Ask your users to type ':tipher' in order to enable emoticons that encourage members to tip");G("Grow Your User Base");G("Encourage viewers to 'Follow' you.");G("Send private messages to blue users and use the [Tab Key] to switch between PM windows.");G("Update your bio with colors and feature top tippers and longest fan club members.");G("Encourage users to raise their spending limits and get 200 tokens for free.");G("Broadcast on a known schedule so your biggest fans always know when to find you.");G("Fan Clubs");G('Enable your fan club in the "Settings & Privacy" tab to earn extra income.');G("Click On a Username To");G("Send a user a PM");G("Add/Remove a Moderator");G("Ignore a user's messages");G("Silence a user for 6 hours");G("Kick/Ban a user for 30 days");G("Assign Moderators");G("Those you trust can help monitor your chat room and silence troublemakers");G("Change Room Subject");G("Click on the room subject at the top of your broadcast to change the text, list token goals, and input all other forms of useful information.");G('<span style="background-color: #FF3;">Tips Are Highlighted</span>');G("Be sure to thank those who are generous enough to tip you.");G("Username Colors");G('<span style="color: #DC5500">Orange</span> names are Broadcasters');G('<span style="color: #ff0000">Red</span> names are Moderators');G('<span style="color: #090">Green</span> names are fan club members');G('<span style="color: #804baa">Dark Purple</span> names have tipped at least 1000 tokens in the past 2 weeks');G('<span style="color: #be6aff">Light Purple</span> names have tipped at least 250 tokens in the past 2 weeks');G('<span style="color: #009">Dark Blue</span> names have tipped at least 50 tokens in the past 2 weeks');G('<span style="color: #69A">Light Blue</span> names own or have purchased tokens');G('<span style="color: #666">Grey</span> names have no tokens');G("Checking Stats");G('Click on the "Contest Stats" and "Token Stats" tabs to see how much money you\'ve earned broadcasting.');G("Trouble Broadcasting?");G('Ensure you are running the latest version of your browser, we recommend Chrome, Firefox or Safari. If you are still having issues, <a href="https://support.chaturbate.com/hc/en-us/requests/new" style="color:#0A5A83">contact support</a>.');G("My Broadcast");G("Your room is password protected. Users may not enter your room unless they know your password. To remove your password, edit your settings & privacy.");var bl=G("Kick/Ban"),cl=G("Remove Moderator Status"),dl=G("Promote to Moderator");G("WARNING: Never show or share your broadcast token with anyone!");G("Your broadcast token");G("RTMP/OBS Broadcasting Information");G("Click here to view our OBS Setup Guide");G("Important Information");G("Do not upscale your source input (e.g. using a 1080p camera to a 1440p stream).");G("Ensure you use the minimum video bitrate specified in this table for a given resolution");G("You may only have copyrighted content -- including music, movies, and video games -- in your stream if you are the rights holder or have the permission of all rights holders.");G("Recommended Settings Table");G("Generate a new broadcast token? \n(This will invalidate your prior RTMP / OBS token and disconnect your current broadcast)");G('This is your satisfaction score. You can hide this by setting "Show my satisfaction score" to "No" in the Settings & Privacy tab.');G("This data is updated once per day and is based on votes in the past 90 days.");G("Click on your score (%) to view your rating history.");G("Fetching rating history");G("No history to show");G("Active App");G("Active Game");G("Bot #1");G("Bot #2");G("Bot #3");G("Bot #4");G("Bot #5");G("None Selected");G("Deactivate This App");G("Choose an App");G("Choose a Bot");G("Choose a Game");G("End Game");var el=G("Stop streaming game"),fl=G("Are you a publisher?"),gl=G("Add your game.");G("Restart");G("Add new social media");G('You must be <a href="/accounts/age_verification/">age verified</a> to add new social media');G('You must purchase tokens or be <a href="/accounts/age_verification/">age verified</a> to add new photos and videos');G("Upload new pics");G("Upload new videos");G("Edit Your Bio");G("Current Contest Statistics for");G("Payout Information");G("Refresh Stats");G("See contest details");G("Manage photo sets");G("Update Bio");var hl=G("January"),il=G("February"),jl=G("March"),kl=G("April"),ll=G("May"),ml=G("June"),nl=G("July"),ol=G("August"),pl=G("September"),ql=G("October"),rl=G("November"),sl=G("December");G("Expired Fan Club Memberships");G("Expired Social Media Subscriptions");G("You Have No Active Memberships");G("Expires");G("Expired");G("Extend by 3 months");G("Renews");G("renew");G("can't renew");G("can't extend");G("No email address on file");G("Blocked countries");G("Able to view");G("Blocked regions");G("Security");G("Statistics");G("Update Settings");G("Change your password");G("View the security center and adjust Two-Step Verification settings");G("Authorize your 3rd party stats");var tl=G("Add an email address");G("Change email address");G("E-mail Verified");var ul=G("Resend verification email");G("Verification Email Sent");G("Email is Unverified. Verify to receive follower notifications and newsletters.");G("Detailed Income Stats");G("Payment Information Form");G("required for payments");G("Broadcaster Verification Form");G("Download Transaction History");G("Please wait for the file to be generated");G("Download your last 30 days of transactions?\nProcessing may take up to 20 seconds.");G("Your Account's Activity");G("Latest cashouts");G("tokens are automatically cashed out at midnight");G("Please verify your identity to enable tokens on your account");G("Transfer Tokens");G("Tokens transferred on the 1st-15th of the month will be sent by the 22nd. Tokens transferred on the 16th-31st will be sent by the 7th.");G("Listed are users currently silenced from your room. Silences expire after 6 hours by default. You can convert a silence to a ban.");G("Listed are users currently banned from your room. Bans expire after 1 month by default. You can convert a ban to a permanent ban.");G("Banned");G("Silenced");G("Actions");G("Remove");G("Make Permanent");G("Convert to Ban");G("Click here to clear hidden silences and bans");G("Add ban");G("Enter Username To Ban");G("View/Edit Bans and Silences");G("View/Edit Moderators");G("View Fan Club Members");G("View/Edit Region Block Exemptions");G("Alphabetically");G("All Users");G("Users who tipped me today");G("Users who have tipped me");G("Users who have tokens");G("1 Day");G("2 Days");G("1 Week");G("2 Weeks");G("1 Month");G("2 Months");G("6 Months");G("No");G("Yes");G("Yes, only if they're broadcasting now");G("Age Verification Required");G("Only age verified broadcasters can change this setting");G("Listed are your current fan club members, the date they last joined, and the total number of months they've been your fan (Expiring memberships have a short grace period to renew before removed from your fanclub.)");G("Listed are all of your fan club members past and present and how long they were a member for. Current members are <strong>highlighted</strong>.");G("Add username");G("Add");G("No Region Block Exemptions");G("Unique Registered Viewers");G("Your Points");G("Your Rank");G("You may use some HTML tags (a p i strong b u ul ol li h1 h2 h3 img font br span).");G("You may post links to external wish lists (amazon wish list, for example) and use some HTML tags (a p i strong b u ul ol li h1 h2 h3 img font br).");G("Display Name");G("Display Birthday");G("Interested in");G("Spoken languages");G("Wish Lists");var vl=G("Join Fan Club"),wl=G("Member");G("Fan Club Member");G("Last Joined");G("Total Months a Member");G("Improve Video Quality");var xl=G("Dark Mode");G("Search #tags or broadcasters");G("Broadcasting right now");G("Recently online");var yl=G("TAP TO UNMUTE");G("Modify Supporter Membership");G("Yes, cancel the membership");G("No, keep the features");G("Cancellation Successful");G("Send and close");G("Supporter Plan");G("Renew subscription");G("Why did you decide to cancel your membership plan? (Optional)");G("Would you like to cancel your supporter membership and lose all your supporter features?");G("You are about to renew your subscription.");G("Cancellation Failed");G("OK");G("Error, please try and refresh your window.");G("Please note that the 'Room subject' of your broadcast and the 'Location' field of your bio may not be used for promotion of social media or other websites. Thank you for your understanding.");var zl=G("Note");G("Notes");var Al=G("Loading..."),Bl=G("Enter notes about this user (only seen by you)"),Cl=G("(unsaved)");G("Type a message...");G("Close tab");G("Ctrl + l to close tab");G("One of your linked Guests has become inactive. <a href='/accounts/age_verification/'>Review your Guests</a> now.");var Dl=G("Back"),El=G("Loading More Messages");G("Report this user");var Fl=G("Send a private message");G("Private Messages");G("Don't have an account?");var Gl=G("Search users"),Hl=G("UNOPENED"),Il=G("now"),Jl=G("1 minute ago"),Kl=G("an hour ago"),Ll=G("a day ago"),Ml=G("minutes ago"),Nl=G("hours ago"),Ol=G("days ago");G("To avoid ending the private show, a new tab will open. Click OK to continue.");var Pl=G("We launched the new Cam To Cam feature last month, hoping that this would be the best way to share your cam with broadcasters you are watching. You can help improve this feature by taking 30 seconds to complete a "),Ql=G("Accept Rules"),Rl=G("Chat"),Sl=G("Unmute");G("Clean, Ad-Free Interface");G("Custom Chat Font & Color Options");G("Private Messaging");G("Anonymous Tipping");G("Animate Room Images");G("There was an error cancelling your Fan Club.");G("Are you sure you wish to remove your supporter status? You will remain a supporter until your currently paid month expires.");G("There was an error cancelling your supporter membership.");G("You can renew after membership expires.");G("Since");G("Events API");var Tl=G("Ban removed"),Ul=G("Silence removed"),Vl=G("Error removing ban, please try again"),Wl=G("Error converting to ban, please try again"),Xl=G("Error removing silence \u2013\u2013\u00a0it may have already been removed"),Yl=G("Undo"),Zl=G("Ban"),$l=G("Cam To Cam is the best way to share your cam with broadcasters you are watching.");G("trans viewers");G("and");var am=G("How is Chaturbate doing today?"),bm=G("Your feedback has been sent!"),cm=G("Describe your issues or share your ideas.");G("You will no longer receive notifications or see them in your followed tab.");G("Switch to new app system");G("Running Apps");G("All Apps");G("Customize your chat room experience with Apps");G("Create your own app");G("Switch back to legacy apps");G("Do you want to remove this app?");G("Order By:");G("Name: A to Z");G("Name: Z to A");G("Recently Updated");G("Recently Used");G("Control video panel");G("Update available");G("Rewrite chat messages");G("Tip options");G("Only one app can have this permission.");G("Add app");G("Upgrade & Apply");G("Apply");G("Settings");G("Source code");G("No Description");G("This app does not have any settings.");G("Permissions");G("All permissions granted");G("No permissions granted");G("Some permissions granted");G("The app you are adding is requesting the following permissions.");G("You have reached the maximum number of apps.");G("Use the Apps tab below to select up to 10 apps to enhance your room.");G("App is not available.");G("User has been added to your exemption list.");G("User has been removed from your exemption list.");G("An error occurred.");var dm=G("Do you really want to delete this image? This cannot be undone."),em=G("There was an error deleting your media."),fm=G("There was an error uploading your media."),gm=G("Could not load media. It may have been deleted.");G("Switch to OBS to stream games");G("Select your game from the list of approved games below.");G("Install and start the game");G("Download and and run the game.");G("Download OBS and set it up");G("Authorize this game");var hm=G("Pro tip: Viewers who use Cam To Cam tip 50% more on average than viewers who don\u2019t. Encouraging your viewers to share their cam can build a more intimate connection and potentially earn you more tokens!"),im=G("Notify me when broadcasters I follow come online with"),jm=G("POPULAR"),km=G("Browser notification"),lm=G("Browser notification enabled"),mm=G("Save notification settings"),nm=G("Email address"),om=G("Your preferences have been saved."),pm=G("Check your email inbox to verify your email!"),qm=G("Your email address has been updated on your account. Check your email inbox to"),rm=G(" verify your email"),sm=G("Error sending verification email, please try again."),tm=G("Error submitting email, please try again."),um=G("Error saving browser notification."),vm=G("Please try again from the Settings & Privacy page on your profile."),wm=G("Unable to send private message"),xm=G("Image removed for violating site rules");function ym(){this.fF=!1}ea.Object.defineProperties(ym.prototype,{current:{configurable:!0,enumerable:!0,get:function(){return this.value},set:function(a){this.fF||(this.value=a,this.fF=!0)}}});function zm(a,b,c){c=void 0===c?[]:c;if(isNaN(a)&&isNaN(b)&&"number"===typeof a&&"number"===typeof b||a===b)return!0;if(a instanceof Function)return a===b;if("function"===typeof a&&"function"===typeof b||a instanceof Date&&b instanceof Date||a instanceof RegExp&&b instanceof RegExp||a instanceof String&&b instanceof String||a instanceof Number&&b instanceof Number)return a.toString()===b.toString();if(!(a instanceof Object&&b instanceof Object)||a.isPrototypeOf(b)||b.isPrototypeOf(a)||a.constructor!==b.constructor||a.prototype!==b.prototype)return!1;for(var d in b)if(!(0<=c.indexOf(d)||b.hasOwnProperty(d)===a.hasOwnProperty(d)&&typeof b[d]===typeof a[d]))return!1;for(var e in a)if(!(0<=c.indexOf(e))){if(b.hasOwnProperty(e)!==a.hasOwnProperty(e)||typeof b[e]!==typeof a[e])return!1;switch(typeof a[e]){case "object":case "function":if(!zm(a[e],b[e],c))return!1;break;default:if(a[e]!==b[e])return!1}}return!0};function Am(){ym.apply(this,arguments)}q(Am,ym);function Bm(){this.tj=new t("RoomDossierContextUpdate",{Mf:1});this.state={A:"",Bn:"",cC:"",JA:"",jx:"",Qc:"",dC:"",host:"",qb:"",hk:[{Qw:"",Pw:""}],Ga:"public",userName:"",DD:"",cN:"m",sq:"",ED:"",oC:!1,yj:0,fk:!1,AG:"",Kz:0,le:!1,zr:"f",Bf:!1,Pe:6,Fh:0,Xk:"",iu:!1,Gb:!0,km:"",zk:!0,lg:"smart",gd:!1,uI:!1,Lb:0,ri:!1,Oq:!0,SL:"",RK:0,SK:0,WJ:!1,$b:!1,kh:[],Cy:!1,Gj:{Zj:0,Wi:0,hf:100},uf:0,iz:0,oF:!1,BH:!1,Wp:[],nH:!1,dc:"",sc:"un",fo:!1,Ek:!1,Uz:!1,yu:!1,$p:!1,wp:{ja:"",oQ:"",nQ:"",lQ:"",rO:"",sO:"",tO:""},za:{fontSize:"",Xt:"",fontFamily:"",Qe:!0,am:"5",mB:"",DK:0,bl:1,cl:1,lM:"false",fK:"",fI:"",zf:0,vI:0,Fy:""},kk:"",$w:!1,Ws:"",iI:""}}Bm.prototype.getState=function(){return Object.assign({},this.state)};function Cm(a){var b=Dm;a:{for(c in a)if(!zm(a[c],b.state[c])){var c=!0;break a}c=!1}c&&(c=b.state,b.state=Object.assign(Object.assign({},b.state),a),b.tj.j(c))}var Em=new Am,Dm=new Bm;function Fm(){var a,b;return null!==(b=null===(a=Em.current)||void 0===a?void 0:a.jJ)&&void 0!==b?b:"https://static-assets.highwebmedia.com/images/logo.svg"};var Gm={XH:"chaturbate.com",YH:"",CM:Cd,DM:"#0b5d81",Tv:"Chaturbate",bgColor:"#ffffff",KK:"#0c6a93",JF:"#ffffff",JK:"#f47321",HK:"#ffffff",IK:"url(https://static-assets.highwebmedia.com/tsdefaultassets/gender_tab_bg.gif) repeat-x",UJ:"#004B5E",Uf:"#494949",Ht:"#494949",tD:"#222222",SM:"#222222",cK:"#0A5B83",dw:"#8bb3da",tM:"#ffffff",wM:"#dde9f5",uM:"#dc5500",xM:"#5e81a4",zM:"#6D85B5",AM:"#FFF",BM:"#2472B4",EM:"#4F4F4F",FM:"#B60A42",bJ:"#FFFFFF",zI:"#F0F1F1",AI:"#ACACAC",CI:"#000",DI:"#0A5A83",yI:"#575757",BI:"#0A5A83",NM:"#e45900",LJ:"#676767",PJ:"#494949",dJ:"#494949",yK:Fm(),kM:"#f47321",zK:void 0,MJ:"",XJ:"#ffffff url(https://static-assets.highwebmedia.com/tsdefaultassets/header_bg.gif) repeat-x",KJ:"#ffffff url(https://static-assets.highwebmedia.com/tsdefaultassets/footer_bg.gif) repeat-x",TM:"#e9e9e9",XM:"#ffffff",MK:"#FCEADB",JJ:"#494949",NJ:"#0A5A83",OJ:"#dc5500",RI:"#4C4C4C",oJ:"",Nk:!1,cB:!1,YL:!1,ZL:!1,XL:!1,bM:!0,dM:!0,$L:!0,aM:!0,eB:!0,BL:"#494949",xK:"#000000",xD:"#494949",OH:"#3C87BA",UM:"#F47321",VM:"#ffffff",SB:"https://www.surveymonkey.com/r/DXYF5T8",DE:!0===window.hide_entrance_terms,GI:"#F47321",HI:"#FFFFFF",II:"#000000",JI:"#F8F9fA",KI:"#ACACAC",LI:"#6E6F70",MI:"#0A5B83",NI:"#494949"},Xc=Gm;if(void 0!==window.siteSettings){var I=window.siteSettings,Hm=I.navigation_font_color,Im=I.text_color,Jm=I.tab_inactive_color,Km=I.tab_inactive_font_color,Lm=I.content_bgcolor,Mm=I.footer_href_color,Nm=I.footer_text_color,Om=I.cam_href_color;Xc={XH:I.chaturbate_alias,YH:I.dbwl_domain,CM:I.tagline,DM:I.tagline_color,Tv:I.site_name,bgColor:I.bgcolor,KK:I.navigation_bgcolor,JF:Hm,JK:I.navigation_alt_bgcolor,HK:I.navigation_alt_2_bgcolor,IK:"",UJ:I.h1_color,Uf:Im,Ht:Gm.Ht,tD:Gm.tD,SM:Im,cK:I.href_color,dw:I.tab_border_color,tM:I.tab_active_color,wM:Jm,uM:I.tab_active_font_color,xM:Km,zM:I.tag_exhibitionist_color,AM:I.tag_font_color,BM:I.tag_hd_color,EM:I.tag_offline_color,FM:I.tag_private_group_color,bJ:Lm,zI:I.cam_background_color,AI:I.cam_border_color,CI:I.cam_text_color,DI:"#0C6A93",yI:I.cam_text_alt_color,BI:Om,NM:Om,LJ:Mm,PJ:Nm,dJ:Nm,yK:I.logo_image_name,kM:I.signup_bg_color,zK:I._logo_width,MJ:I.footer_html,XJ:"",KJ:"",TM:Lm,XM:Hm,MK:Jm,JJ:Km,NJ:Mm,OJ:Mm,RI:"#0C6A93",oJ:I.default_campaign_slug,Nk:!0,cB:!0,YL:!0,ZL:!0,XL:!0,bM:!1,dM:!1,$L:!1,aM:!1,eB:!1,BL:"#222222",xK:Im,xD:Im,BG:I.whitelabel_hit_count_referring_url,OH:I.tab_inactive_color,UM:I.tab_active_color,VM:I.tab_active_font_color,SB:Gm.SB,DE:Gm.DE,GI:I.carousel_active_circle_color,HI:I.carousel_arrow_bg_color,II:I.carousel_arrow_color,JI:I.carousel_bg_color,KI:I.carousel_border_color,LI:I.carousel_circle_color,MI:I.carousel_href_color,NI:I.carousel_title_color}}
void 0!==Xc.BG&&F("whitelabels/record_hit/",{referer:Xc.BG}).catch(function(a){w("Error recording whitelabel hit: "+a)});var Pm={enabled:!1,move:function(){},end:function(){}};function Qm(a,b){Rm(a,b,function(c){return{valid:!0,x:c.clientX,y:c.clientY}},"mousedown","mousemove","mouseup");Rm(a,b,function(c){return 1===c.touches.length&&(c=c.touches.item(0),null!==c)?{valid:!0,x:c.clientX,y:c.clientY}:{valid:!1,x:0,y:0}},"touchstart","touchmove","touchend")}
function Rm(a,b,c,d,e,f){B(d,a,function(g){var h=c(g);if(h.valid){var m=b(g,h.x,h.y);if(m.enabled){m.move(h.x,h.y);g.preventDefault();var n=function(A){A=c(A);A.valid&&m.move(A.x,A.y)},p=function(A){A.preventDefault();void 0!==A.buttons&&(Mb()?0===A.buttons:1===A.buttons)||void 0!==A.touches&&1===A.touches.length?n(A):v(A,!1)};B(e,document,p,!0);var v=function(A,D){(void 0===D||D)&&n(A);C(e,document,p,!0);C(f,document,v,!0);m.end()};B(f,document,v,!0)}}})};function Sm(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}function Tm(a){var b=0;Array.from(document.querySelectorAll("*[style*=z-index]:not(.FloatingPlayer)")).forEach(function(c){if(c instanceof HTMLElement&&!a.contains(c)&&Sm(a,c))try{b=Math.max(b,parseInt(Cc(c.style.zIndex,"0")))}catch(d){}});return b}
function J(a,b){var c=a instanceof x?a.element:a;var d=b;b instanceof Function&&(d=b(a));a=l(Object.keys(d));for(d=a.next();!d.done;d=a.next())d=d.value,c.style[d]=b[d]}function Um(a){B("mouseenter",a,function(){a.style.textDecoration="underline"});B("mouseleave",a,function(){a.style.textDecoration=""})}function Vm(a){if(null===a)return"rgba(0, 0, 0, 0)";var b=getComputedStyle(a).backgroundColor;return""===b||"rgba(0, 0, 0, 0)"===b||"transparent"===b?Vm(a.parentElement):b}
function Wm(a){function b(h,m,n){return 0===h?0===m?void 0===n?0:n:m:h}a=a.getBoundingClientRect();var c=document.body,d=document.documentElement,e=b(window.pageYOffset,d.scrollTop,c.scrollTop),f=b(window.pageXOffset,d.scrollLeft,c.scrollLeft),g=b(d.clientTop,c.clientTop);c=b(d.clientLeft,c.clientLeft);return new DOMRect(a.left+f-c,a.top+e-g,a.width,a.height)}function Xm(a){if(null===a)return 0;try{var b=parseFloat(a.substring(0,a.indexOf("px")));return isNaN(b)?0:b}catch(c){return 0}}
function Ym(a){var b=new t("hover");a=a instanceof x?a.element:a;B("mouseenter",a,function(){b.j(!0)});B("mouseleave",a,function(){b.j(!1)});return b}var Zm;function $m(){if(void 0!==Zm)return Zm;var a=document.createElement("div");a.style.visibility="hidden";a.style.width="100px";a.style.msOverflowStyle="scrollbar";document.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=document.createElement("div");c.style.width="100%";a.appendChild(c);c=c.offsetWidth;document.body.removeChild(a);return Zm=b-c}
function an(){var a=document.querySelector("#advanced_search_options"),b=document.querySelector(".advanced-search-element");return null===a?null===b?void 0:b:a}var bn=document.createElement("canvas");function cn(a){var b=tj+":",c=bn.getContext("2d");return null!==c?(c.font=a,c.measureText(b).width):0};function dn(){return document.documentElement.clientHeight!==window.outerHeight||Fb()?Math.max(window.innerHeight,document.documentElement.clientHeight):window.innerHeight}function en(){return document.documentElement.clientWidth};function fn(a,b,c){this.Xc=a;this.config=c;this.V={Lf:NaN,Xf:NaN,Cf:NaN,Rf:NaN,width:NaN,height:NaN};this.vF="window__"+b;a={Lf:NaN,Xf:NaN,Cf:NaN,Rf:NaN,width:NaN,height:NaN};if(mb()&&(b=window.localStorage.getItem(this.vF),null!==b)){a=JSON.parse(b);for(var d in a)null===a[d]&&(a[d]=NaN);isNaN(a.width)&&(a.width=this.config.Xg);isNaN(a.height)&&(a.height=this.config.Wg)}this.V=a;isNaN(this.V.width)&&(this.V.width=this.config.Xg);isNaN(this.V.height)&&(this.V.height=this.config.Wg);isNaN(this.V.Lf)&&isNaN(this.V.Rf)&&(0<=this.config.ai.indexOf(1)?this.V.Rf=$m():this.V.Lf=0<=this.config.ai.indexOf(4)?Math.max(0,en()/2-this.config.Xg/2):0);isNaN(this.V.Xf)&&isNaN(this.V.Cf)&&(0<=this.config.ai.indexOf(3)?this.V.Cf=$m():this.V.Xf=0<=this.config.ai.indexOf(4)?Math.max(0,window.innerHeight/2-this.config.Wg/2):0)}
fn.prototype.save=function(){var a=this.Xc.element.parentElement;if(null===a)w("no parent element");else{var b=this.Xc.element.offsetLeft,c=this.Xc.element.offsetTop,d=a.clientHeight-(this.Xc.element.offsetHeight+c);a=a.clientWidth-(this.Xc.element.offsetWidth+b);this.V.height=this.Xc.element.offsetHeight;this.V.width=this.Xc.element.offsetWidth;b<=a?(this.V.Lf=b,this.V.Rf=NaN):(this.V.Lf=NaN,this.V.Rf=a);c<=d?(this.V.Xf=c,this.V.Cf=NaN):(this.V.Xf=NaN,this.V.Cf=d)}mb()&&window.localStorage.setItem(this.vF,JSON.stringify(this.V))};fn.prototype.apply=function(){var a=this.Xc.element.parentElement;if(null===a)w("no parent element");else if(0!==a.clientHeight){void 0!==this.config.Bp&&this.config.Bp?(this.Xc.gb.style.position="relative",this.Xc.element.style.width="auto",this.Xc.element.style.height="auto",this.V.height=this.Xc.element.offsetHeight,this.V.width=this.Xc.element.offsetWidth):(this.config.al?(this.V.width=Math.min(this.V.width,a.clientWidth),this.V.height=Math.min(this.V.height,a.clientHeight),this.V.width=Math.max(this.V.width,this.config.minWidth),this.V.height=Math.max(this.V.height,this.config.minHeight)):(this.V.width=this.config.Xg,this.V.height=this.config.Wg+gn(this.Xc)),this.Xc.element.style.width=this.V.width+"px",this.Xc.element.style.height=this.V.height+"px");var b=!isNaN(this.V.Lf)&&!isNaN(this.V.Rf)||isNaN(this.V.Lf)&&isNaN(this.V.Rf);if(!isNaN(this.V.Xf)&&!isNaN(this.V.Cf)||isNaN(this.V.Xf)&&isNaN(this.V.Cf)||b)hn("unexpected bounds: top:"+this.V.Xf+" bottom:"+this.V.Cf+" left:"+this.V.Lf+" right: "+this.V.Rf);else{b=a.clientHeight;if(!isNaN(this.V.Xf)){if(this.V.Xf+this.V.height>b||0>this.V.Xf)hn("set topBound to container height - bounds height to make fit"),this.V.Xf=Math.max(0,b-this.V.height);this.Xc.element.style.top=this.V.Xf+"px"}else if(!isNaN(this.V.Cf)){if(this.V.Cf+this.V.height>b||0>this.V.Cf)hn("set bottomBound to container height - bounds height to make fit"),this.V.Cf=Math.max(0,b-this.V.height);this.Xc.element.style.top=b-this.V.height-this.V.Cf+"px"}a=a.clientWidth;if(!isNaN(this.V.Lf)){if(this.V.Lf+
this.V.width>a||0>this.V.Lf)hn("set leftBound to 0 to make fit"),this.V.Lf=0;this.Xc.element.style.left=this.V.Lf+"px"}else if(!isNaN(this.V.Rf)){if(this.V.Rf+this.V.width>a||0>this.V.Rf)hn("set rightBound to 0 to make fit"),this.V.Rf=0;this.Xc.element.style.left=a-this.V.width-this.V.Rf+"px"}}}};function jn(a){return{left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}function kn(a,b,c){var d=Object.assign({},a);d.top=a.top+b;d.height=a.height-b;0>d.top?(d.height+=d.top,d.top=0):d.height<c&&(d.top-=c-d.height,d.height=c);return d}function ln(a,b,c,d){var e=Object.assign({},a);e.height=a.height+b;e.top+e.height>d?e.height=d-e.top:e.height<c&&(e.height=c);return e}
function mn(a,b,c){var d=Object.assign({},a);d.left=a.left+b;d.width=a.width-b;0>d.left?(d.width+=d.left,d.left=0):d.width<c&&(d.left-=c-d.width,d.width=c);return d}function nn(a,b,c,d){var e=Object.assign({},a);e.width=a.width+b;e.left+e.width>d?e.width=d-e.left:e.width<c&&(e.width=c);return e};function on(a,b){this.ny=a;this.config=b;this.cx=this.qA=!1}function pn(a){if(1===a.config.Ce)clearTimeout(a.kJ),a.kJ=window.setTimeout(a.ny,a.config.Ad);else{var b=function(){a.cx&&2===a.config.Ce?(a.cx=!1,a.ny(),window.setTimeout(b,a.config.Ad)):a.qA=!1};a.qA?a.cx=!0:(a.qA=!0,a.ny(),window.setTimeout(b,a.config.Ad))}};function qn(a){x.call(this);var b=this;this.element.style.height="0";this.element.style.width="0";this.element.style.overflow="visible";this.element.style.position="fixed";this.element.style.top="0";this.element.style.left="0";this.Be=a.Be;this.listener=function(){b.M()};this.Be.Jt.h(this.listener);this.I(new rn(this,a));this.I(new sn(this,a));this.I(new tn(this,a));this.I(new un(this,a));this.I(new vn(this,a));this.I(new wn(this,a));this.I(new xn(this,a));this.I(new yn(this,a))}q(qn,x);qn.prototype.H=function(){};function zn(a,b,c){x.call(this);var d=this;this.options=b;this.cursor=c;this.yd=8;this.element.style.height=this.yd+"px";this.element.style.width=this.yd+"px";this.element.style.cursor=this.cursor;Qm(this.element,function(e,f,g){e.stopPropagation();void 0!==b.$F&&b.$F();var h=Object.freeze(jn(b.Be.element)),m=new on(function(){b.Be.M()},{Ad:10});return{enabled:!0,move:function(n,p){n=d.Rk(h,{x:n-f,y:p-g});p=b.Be.element;p.style.left=n.left+"px";p.style.top=n.top+"px";p.style.width=n.width+"px";p.style.height=n.height+"px";pn(m)},end:function(){void 0!==b.aG&&b.aG()}}})}q(zn,x);function rn(a,b){zn.call(this,a,b,"ns-resize")}q(rn,zn);rn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top-this.yd/2+"px";this.element.style.left=a.left+"px";this.element.style.width=a.right-a.left+"px"};rn.prototype.Rk=function(a,b){return kn(a,b.y,this.options.minHeight)};function sn(a,b){zn.call(this,a,b,"ns-resize")}q(sn,zn);sn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top+a.height-this.yd/2+"px";this.element.style.left=a.left+"px";this.element.style.width=a.width+"px"};sn.prototype.Rk=function(a,b){return ln(a,b.y,this.options.minHeight,this.options.maxHeight())};function tn(a,b){zn.call(this,a,b,"ew-resize")}q(tn,zn);tn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top+"px";this.element.style.left=a.left-this.yd/2+"px";this.element.style.height=a.bottom-a.top+"px"};tn.prototype.Rk=function(a,b){return mn(a,b.x,this.options.minWidth)};function un(a,b){zn.call(this,a,b,"ew-resize")}q(un,zn);un.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top+"px";this.element.style.left=a.right-this.yd/2+"px";this.element.style.height=a.bottom-a.top+"px"};un.prototype.Rk=function(a,b){return nn(a,b.x,this.options.minWidth,this.options.maxWidth())};function vn(a,b){zn.call(this,a,b,"nwse-resize")}q(vn,zn);vn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top-this.yd+this.yd/2+"px";this.element.style.left=a.left-this.yd+this.yd/2+"px"};vn.prototype.Rk=function(a,b){var c=kn(a,b.y,this.options.minHeight);a=mn(a,b.x,this.options.minWidth);return{top:c.top,height:c.height,left:a.left,width:a.width}};function wn(a,b){zn.call(this,a,b,"nesw-resize")}q(wn,zn);wn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.top-this.yd+this.yd/2+"px";this.element.style.left=a.right-this.yd/2+"px"};wn.prototype.Rk=function(a,b){var c=kn(a,b.y,this.options.minHeight);a=nn(a,b.x,this.options.minWidth,this.options.maxWidth());return{top:c.top,height:c.height,left:a.left,width:a.width}};function xn(a,b){zn.call(this,a,b,"nesw-resize")}q(xn,zn);xn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.bottom-this.yd/2+"px";this.element.style.left=a.left-this.yd+this.yd/2+"px"};xn.prototype.Rk=function(a,b){var c=ln(a,b.y,this.options.minHeight,this.options.maxHeight());a=mn(a,b.x,this.options.minWidth);return{top:c.top,height:c.height,left:a.left,width:a.width}};function yn(a,b){zn.call(this,a,b,"nwse-resize")}q(yn,zn);yn.prototype.H=function(){var a=this.options.Be.element.getBoundingClientRect();this.element.style.top=a.bottom-this.yd/2+"px";this.element.style.left=a.right-this.yd/2+"px"};yn.prototype.Rk=function(a,b){var c=ln(a,b.y,this.options.minHeight,this.options.maxHeight());a=nn(a,b.x,this.options.minWidth,this.options.maxWidth());return{top:c.top,height:c.height,left:a.left,width:a.width}};function An(a){a=Bn(a);a!==document.location.search&&"replaceState"in window.history&&window.history.replaceState("","",Cc(a,location.pathname))}function Bn(a){var b=new URLSearchParams(window.location.search);a.forEach(function(c,d){""===c?b.delete(d):b.set(d,c)});a=b.toString().replace(/%2C/g,",");return""===a?"":"?"+a}
function Cn(a){for(var b="",c=l(Object.keys(a)),d=c.next();!d.done;d=c.next()){d=d.value;""!==b&&(b+="&");var e=a[d];void 0===e&&(e="");b+=encodeURIComponent(d)+"="+encodeURIComponent(e)}return b}function Dn(){var a=window.location.search;0<a.length&&"?"===a[0]&&(a=a.slice(1));var b={};a=l(a.split("&"));for(var c=a.next();!c.done;c=a.next())c=c.value,c.includes("=")&&(c=c.split("="),0<c[0].length&&(b[decodeURIComponent(c[0])]=0<c[1].length?decodeURIComponent(c[1]):void 0));return b};var En=window.newrelic,Fn,Gn,Hn;function L(a,b,c){b=void 0===b?{}:b;try{-1!==In&&(b.PlayerVol=In);-1!==(0===In?0:Jn)&&(b.TipVol=0===In?0:Jn);var d={};d["attributes.room_user"]=Fn;for(var e in b)d["attributes."+e]=b[e];if(void 0!==c&&c&&Bb()){var f=window.performance.now();d["attributes.timeSinceLoad"]=f/1E3;d["attributes.timeSinceLoadMS"]=f}void 0!==Gn&&(d["attributes.player"]=Gn);void 0!==Hn&&(d["attributes.currentMode"]=Hn);Dn();void 0!==En&&(d==={}?En.addPageAction(a):En.addPageAction(a,d))}catch(g){w("New Relic Error in addPageAction: "+g)}}
function Kn(){C("load",window,Kn);for(var a=l(document.getElementsByTagName("script")),b=a.next();!b.done;b=a.next())b=b.value,null!==b.src.match(/https:\/\/js-agent\.newrelic\.com\/.*/)&&B("error",b,function(){w("Ad blocker stopped analytics collection");F("api/adblocker/",{})})}var Jn=-1,In=-1;B("load",window,Kn);function Ln(a,b,c){x.call(this);var d=this;this.W=a;this.content=b;this.config=c;this.XE=!1;this.CD=new t("draggingOrResizingChanged");this.hd=!1;y(this.element,"draggableCanvasWindow");this.element.style.overflow="visible";this.gb=document.createElement("div");y(this.gb,"innerDiv");this.gb.style.height="100%";this.gb.style.width="100%";this.gb.style.position="absolute";this.gb.style.overflow="visible";this.gb.style.boxSizing="border-box";this.gb.style.borderWidth="2px";this.gb.style.borderStyle="solid";this.gb.style.borderRadius="4px";this.YI=void 0!==c.title;var e=this.sb=document.createElement("div");y(this.sb,"closeButton");this.sb.id=(this.config.Kg+"-close-btn").toLowerCase();this.sb.style.position="absolute";this.sb.style.right="4px";this.sb.style.height="10px";this.sb.style.width="10px";this.sb.style.cursor="pointer";this.sb.style.borderWidth="1px";this.sb.style.borderStyle="solid";this.sb.style.borderRadius="2px";B("mouseenter",this.sb,function(){e.style.backgroundImage="url(https://static-assets.highwebmedia.com/tsdefaultassets/grey-close.svg)";e.style.backgroundSize="10px"});B("mouseleave",this.sb,function(){e.style.backgroundImage=""});void 0!==c.title?(this.Se=document.createElement("div"),y(this.Se,"titleBar"),this.Se.style.position="relative",this.Se.style.fontSize="13px",this.Se.style.fontWeight="bold",this.Se.style.padding="3px 3px 3px 5px",this.Se.style.borderRadius="4px 4px 0 0",this.Se.style.minHeight="10px",this.Ji=document.createElement("div"),this.Ji.style.height="100%",this.Ji.style.whiteSpace="nowrap",this.Ji.style.overflow="hidden",this.Ji.style.textOverflow="ellipsis",this.Se.appendChild(this.Ji),this.kw=document.createElement("span"),this.kw.innerText=c.title,this.Ji.appendChild(this.kw),this.xi=c.xi,this.Se.appendChild(this.sb),this.gb.appendChild(this.Se),B("click",this.sb,function(f){f.stopPropagation();d.W.removeChild(d)})):(this.sb.style.top="8px",this.sb.style.zIndex="1",this.element.appendChild(this.sb),B("click",this.sb,function(f){f.stopPropagation();d.element.style.display="none";d.hd=!1}));this.I(this.content,this.gb);this.eA=new fn(this,this.config.Kg,this.config);this.sH=function(){d.eA.save();d.M()};void 0===c.xy&&(c.xy=void 0!==this.Ji?[this.Ji]:[this.element]);Mn(this.element,{AD:function(){Nn(d.W,d);On(d,!0)},BD:function(){On(d,!1);d.sH();L("MoveDraggableWindow",{window:d.config.Kg,left:d.element.offsetLeft,top:d.element.offsetTop,windowWidth:window.innerWidth,windowHeight:window.innerHeight})},LC:function(){return!d.XE}},c.xy);!0===c.al&&Pn(this);this.element.appendChild(this.gb)}q(Ln,x);k=Ln.prototype;k.Lv=function(a){void 0!==this.kw&&(this.kw.innerText=a)};function Pn(a){void 0===a.Fo&&(a.Fo=a.I(new qn({minWidth:a.config.minWidth,minHeight:a.config.minHeight,maxWidth:function(){return a.W.element.clientWidth},maxHeight:function(){return a.W.element.clientHeight},Be:a,$F:function(){Nn(a.W,a);On(a,!0)},aG:function(){On(a,!1);a.sH();L("ResizeDraggableWindow",{window:a.config.Kg,width:a.element.clientWidth,height:a.element.clientHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight})}})),a.Fo.M())}
k.resize=function(a,b){this.config.Wg=a;this.config.Xg=b;this.H()};function On(a,b){a.XE=b;a.CD.j(b)}function Qn(a){if(void 0!==a.Fo){var b=a.Fo;b.Be.Jt.removeListener(b.listener);a.removeChild(a.Fo);a.Fo=void 0}}
k.H=function(){this.content.element.style.height=void 0!==this.config.Bp&&this.config.Bp?"auto":this.element.clientHeight-gn(this)-4+"px";void 0!==this.Se&&(void 0===this.sb?w("expected close button to be defined"):void 0===this.Ji?w("expected title bar div inner to be defined"):(this.Ji.style.maxWidth=this.Se.clientWidth-this.sb.offsetWidth-5-8+"px",this.sb.style.top=(this.Se.offsetHeight-this.sb.offsetHeight)/2+"px"))};k.show=function(){this.element.style.opacity="1"};k.D=function(){this.element.style.opacity="0"};function gn(a){return void 0===a.Se?0:a.Se.offsetHeight}k.blur=function(){this.W.he===this&&Nn(this.W,void 0)};function Rn(a,b){return void 0!==a.config.Nz?a.config.Nz(b):!1}
function Mn(a,b,c){c=l(c);for(var d=c.next();!d.done;d=c.next())d=d.value,d.style.cursor="move",Qm(d,function(e,f,g){if(void 0!==b.LC&&!1===b.LC())return Pm;var h=a.offsetLeft,m=a.offsetTop,n=a.offsetHeight,p=a.offsetWidth;if(null===a.parentElement)return w("draggable without parent element"),Pm;var v=a.parentElement.clientHeight,A=a.parentElement.clientWidth,D=f,R=g;void 0!==b.AD&&b.AD();return{enabled:!0,move:function(K,ca){D=K;R=ca;K=m+(R-g);ca=h+(D-f);0>K?K=0:K+n>v&&(K=v-n);0>ca?ca=0:ca+p>A&&(ca=A-p);a.style.top=K+"px";a.style.left=ca+"px"},end:function(){void 0!==b.BD&&b.BD()}}})};function Sn(a,b,c,d,e){e=void 0===e?!0:e;this.label=document.createElement("label");this.label.htmlFor=c;this.label.innerText=d;"textarea"===b?this.input=document.createElement("textarea"):(this.input=document.createElement("input"),this.input.type=b);this.input.name=c;e&&(this.input.required=e);this.error=document.createElement("p");a.appendChild(this.label);a.appendChild(this.input);a.appendChild(this.error)};var M=new t("roomLoaded",{ef:100,Mf:1}),Tn=new t("roomCleanup",{ef:20}),Un=new t("userViewedPm");new t("tipSent");var Vn=new t("externalChatMessage"),Wn=new t("context"),Xn=new t("context");function N(a){this.NH={};if("string"===typeof a){this.Sf=a;try{this.parsed=JSON.parse(a)}catch(b){this.parsed={},w("Cannot JSON parse",{message:a})}}else"object"===typeof a?(this.parsed=a,this.Sf=JSON.stringify(a)):w("Invalid input type",{message:a})}N.prototype.keys=function(){return this.parsed!=={}?Object.keys(this.parsed):[]};N.prototype.og=function(a){this.NH[a]=!0};function O(a,b){a.og(b);if(null!==a.parsed[b])return a.parsed[b]}
function Yn(a,b){a.og(b);if(null!==a.parsed[b]&&void 0!==a.parsed[b])return a.parsed[b].map(function(c){return new N(c)})}function Zn(a,b){a.og(b);return Array.isArray(a.parsed[b])?a.parsed[b].map(function(c){return c}):[]}N.prototype.getAsString=function(a){return""+O(this,a)};function P(a,b,c){c=void 0===c?!0:c;var d=O(a,b);if("string"!==typeof d)c&&void 0!==d&&u("getStringOrUndefined("+b+"): "+d+" is wrong type",{message:a.Sf});else return d}
function Q(a,b,c){c=void 0===c?!0:c;var d=O(a,b);return"string"!==typeof d?(c&&u("getString("+b+"): "+d+" is wrong type",{message:a.Sf}),""):d}function S(a,b,c){c=void 0===c?!0:c;var d=O(a,b);return"string"!==typeof d&&"number"!==typeof d?(c&&u("getStringWithNumbers("+b+"): "+d+" is wrong type",{message:a.Sf}),""):""+d}function T(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?!0:d;var e=O(a,b);return"boolean"!==typeof e?(d&&u("getBoolean("+b+"): "+e+" is wrong type",{message:a.Sf}),c):e}
function U(a,b,c){c=void 0===c?!0:c;var d=O(a,b);return"number"!==typeof d?(c&&u("getNumber("+b+"): "+d+" is wrong type",{message:a.Sf}),NaN):d}function $n(a,b,c){c=void 0===c?!0:c;var d=O(a,b);if("number"!==typeof d)c&&void 0!==d&&u("getNumberOrUndefined("+b+"): "+d+" is wrong type",{message:a.Sf});else return d}function ao(a,b){return new N(bo(a,b))}function co(a,b){a=eo(a,b,!0);return""===a?new N("{}"):new N(a)}
function eo(a,b,c){c=void 0===c?!0:c;var d=O(a,b);return"object"!==typeof d?(c&&u("getObjectString("+b+"): "+d+" is wrong type",{message:a.Sf}),""):JSON.stringify(d)}function fo(a,b,c){c=void 0===c?!0:c;var d=O(a,b);if("object"!==typeof d)c&&void 0!==d&&u("getObjectStringOrUndefined("+b+"): "+d+" is wrong type",{message:a.Sf});else return JSON.stringify(d)}
function bo(a,b){var c=void 0===c?!0:c;var d=O(a,b);return"object"!==typeof d?(c&&u("getObject("+b+"): "+d+" is wrong type",{message:a.Sf}),{}):d}function go(a,b,c){c=void 0===c?!0:c;var d=O(a,b);if("object"!==typeof d)c&&void 0!==d&&u("getObjectOrUndefined("+b+"): "+d+" is wrong type",{message:a.Sf});else return d}function ho(a){var b=[],c;for(c in a.parsed)!0!==a.NH[c]&&b.push(c);b=l(b);for(c=b.next();!c.done;c=b.next())c=c.value,"object"===typeof a.parsed[c]&&JSON.stringify(a.parsed[c])};function io(){this.wE=[]}function jo(a,b){a.wE.push(b)}function ko(a,b){a=l(a.wE);for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.which===c.keyCode&&(!c.Sm||b.ctrlKey||b.metaKey))return c.Z(b),!0;return!1};function lo(){var a=this;this.message=document.createElement("div");this.tb=document.createElement("div");this.td=document.createElement("div");this.title=document.createElement("div");this.De=document.createElement("div");this.accept=document.createElement("div");this.Xr=function(){};this.Yk=[];y(this.tb,"modalAlert");this.tb.style.display="none";this.tb.style.position="fixed";this.tb.style.overflow="auto";this.tb.style.top="0";this.tb.style.left="0";this.tb.style.width="100%";this.tb.style.height="100%";this.tb.style.zIndex="2000";y(this.td,"dialog");this.td.style.width="440px";this.td.style.position="relative";this.td.style.display="inline-block";this.td.style.borderRadius="10px";this.td.style.textAlign="left";this.td.style.overflow="hidden";this.td.style.zIndex="2001";this.td.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.title.style.display="block";this.title.style.fontSize="20px";this.title.style.paddingTop="20px";this.title.style.paddingLeft="20px";this.title.style.paddingRight="20px";this.title.style.whiteSpace="nowrap";this.title.style.fontWeight="bold";this.title.style.overflow="hidden";this.title.style.textOverflow="ellipsis";this.td.appendChild(this.title);this.message.style.display="inline-block";this.message.style.wordWrap="break-word";this.message.style.padding="20px";this.message.style.textAlign="left";this.td.appendChild(this.message);var b=document.createElement("div");y(b,"dialogForm");b.style.borderTopWidth="1px";b.style.borderTopStyle="solid";b.style.textAlign="center";b.style.height="40px";y(this.accept,"accept");this.accept.style.minWidth="70px";this.accept.style.padding="3px";this.accept.style.display="inline-block";this.accept.style.cssFloat="right";this.accept.style.position="relative";this.accept.style.top="7px";this.accept.style.right="10px";this.accept.style.boxSizing="border-box";this.accept.innerText="OK";this.accept.style.cursor="pointer";this.accept.style.borderWidth="1px";this.accept.style.borderStyle="solid";this.accept.onclick=function(c){c.stopPropagation();void 0!==a.qn&&a.qn();mo.Xr()};b.appendChild(this.accept);y(this.De,"decline");this.De.style.minWidth="70px";this.De.style.padding="3px";this.De.style.display="inline-block";this.De.style.cssFloat="right";this.De.style.position="relative";this.De.style.top="7px";this.De.style.right="25px";this.De.innerText="Cancel";this.De.style.cursor="pointer";this.De.onclick=function(c){c.stopPropagation();void 0!==a.Tq?a.Tq():void 0!==a.qn&&a.qn();mo.Xr()};b.appendChild(this.De);this.td.appendChild(b);this.tb.appendChild(this.td)}
lo.prototype.resize=function(){this.td.style.width=Math.min(440,document.documentElement.clientWidth-40)+"px";this.td.style.left=Math.max(0,(this.tb.offsetWidth-this.td.offsetWidth)/2)+"px";this.td.style.top=Math.max(0,(this.tb.offsetHeight-80-this.td.offsetHeight)/2)+"px"};lo.prototype.display=function(a,b,c,d,e){var f=this;d=void 0===d?!1:d;if(this.active)this.Yk.push({FK:a,qn:b,Tq:c,innerHTML:d,config:e});else{d?this.message.innerHTML=a:this.message.innerText=a;no(this,e);this.tb.style.display="block";this.qn=b;void 0===c?mo.De.style.display="none":(this.Tq=c,mo.De.style.display="");var g=new io,h=function(n){n.stopPropagation();n.preventDefault();ko(g,n)};jo(g,{keyCode:13,Sm:!1,Z:function(){b();f.Xr()}});jo(g,{keyCode:27,Sm:!1,Z:function(){void 0!==c?c():b();f.Xr()}});this.active=!0;var m=function(){f.resize()};B("keydown",document,h,!0);B("resize",window,m);B("orientationchange",window,m);this.Xr=function(){try{C("keydown",document,h,!0)}catch(p){}try{C("resize",window,m)}catch(p){}f.tb.style.display="none";f.active=!1;f.tb.parentElement===document.body&&document.body.removeChild(f.tb);f.qn=void 0;f.Tq=void 0;var n=f.Yk.shift();void 0!==n&&f.display(n.FK,n.qn,n.Tq,n.innerHTML)};a=gb();void 0!==a&&a?a.appendChild(this.tb):document.body.appendChild(this.tb);this.resize()}};function no(a,b){void 0!==(null===b||void 0===b?void 0:b.title)?(a.title.style.display="block",a.title.innerText=b.title):a.title.style.display="none";a.accept.innerText=void 0!==(null===b||void 0===b?void 0:b.ZH)?b.ZH:"OK";a.De.innerText=void 0!==(null===b||void 0===b?void 0:b.nJ)?b.nJ:"Cancel"}var mo=new lo;function V(a,b,c){void 0===b&&(b=function(){});mo.display(a,b,void 0,void 0===c?!1:c,void 0)}
function oo(a,b,c){mo.display(a,null!==b&&void 0!==b?b:function(){},null!==c&&void 0!==c?c:function(){},!1,void 0)}function po(){lo.call(this)}q(po,lo);new po;function qo(a){function b(d,e){e=String(e.getAttribute("data-callback"));"null"!==e&&(window[e]=function(){d.dF=!0;d.Dn()})}var c={name:"",Ef:"",Zx:"",aF:!1,vu:!1,Cq:!1,WE:!1,du:!0,nK:!1,bz:!1,bO:"",dF:!1,JE:a,fd:function(){c.Zx=String(a.tagName.toLowerCase());var d=c.ji();c.name=null!==d?d:"";c.Ef=c.name;if("captcha"===a.getAttribute("data-type"))c.bz=!0,b(c,a);else{var e=String(a.getAttribute("id")).split("_"),f=["day","month","year"];d=!1;if(-1<f.indexOf(e[e.length-1])){e.pop();e=e.join("_");d=!0;f=l(f);for(var g=f.next();!g.done;g=f.next())null===document.querySelector("#"+(e+"_"+g.value))&&(d=!1)}d&&(c.nK=!0,d=String(a.getAttribute("id")).split("_"),d.shift(),d.pop(),c.Ef=d.join("_"))}d=String(a.getAttribute("type"));"checkbox"===d?c.vu=!0:"hidden"===d?c.Cq=!0:"select"===c.Zx&&"select-multiple"===a.type&&(c.aF=!0);c.WE=null!==a.getAttribute("disabled");c.xE()&&(c.du=!1)},ji:function(){if("captcha"===a.getAttribute("data-type")){var d=String(a.getAttribute("id")).split("_");d.shift();d=d.join("_")}else d=a.getAttribute("name");return d},hM:function(){if(!c.Cq&&!c.bz){var d=document.querySelector("#"+c.Ef+"_spinner");null!==d&&d.classList.remove("formvalidate_hidden")}},ZJ:function(){var d=document.querySelector("#"+c.Ef+"_spinner");null!==d&&d.classList.add("formvalidate_hidden")},na:function(){return String(a.getAttribute("id"))},cu:function(){return c.vu?a.checked?"on":"":a.value},RC:function(){c.du=!1},xE:function(){if(c.Cq)return!1;var d=document.querySelector("."+c.Ef+"_error");return null!==d&&"none"!==d.style.display},kH:function(d,e){c.Cq||(e&&(c.du=!1),c.du||(document.querySelector("."+c.Ef+"_error .error_msg").appendChild(document.createTextNode(d)),d=document.querySelector("."+c.Ef+"_error"),d.style.display="tr"===String(d.tagName.toLowerCase())?"table-row":"block",d=document.querySelector("."+c.Ef+"_label"),null!==d&&d.classList.add("formvalidate_error")))},Dn:function(){if(!c.Cq){for(var d=document.querySelector("."+c.Ef+"_error .error_msg");null!==d.firstChild;)d.removeChild(d.firstChild);document.querySelector("."+c.Ef+"_error").style.display="none";d=document.querySelector("."+c.Ef+"_label");null!==d&&d.classList.remove("formvalidate_error")}}};c.fd();return c}
function ro(a){function b(){var f=document.createElement("button");f.style.display="none";a.appendChild(f);window.setTimeout(function(){f.click();a.removeChild(f)},0)}var c=!1;c=void 0===c?!0:c;var d="1"===a.getAttribute("data-formvalidate-disable-on-submit")?[].concat(ja(a.querySelectorAll("button:not([type=button]),input[type=submit]"))):[],e={Zb:[],vO:a,si:!0,io:!1,ko:!1,QH:"",gy:{},iF:{},Om:!1,$y:!1,kr:[],fd:function(){e.QH=String(a.getAttribute("data-formvalidate")).substring(1);if(c){B("submit",a,function(p){e.io?p.preventDefault():(e.io=!0,e.si&&!e.ko?e.sG(p):(e.$y=!1,d.map(function(v){return v.disabled=!0}),e.validate(!0).then(function(){e.si?e.sG(p):(e.io=!1,d.map(function(v){return v.disabled=!1}))}).catch(function(){e.io=!1;d.map(function(v){return v.disabled=!1})}),p.preventDefault()))});var f=a.getAttribute("data-formvalidate-eagerness")?Number(a.getAttribute("data-formvalidate-eagerness")):2,g;"1"===a.getAttribute("data-formvalidate-debounce")&&(g=new on(function(){e.validate()},{Ad:1E3,Ce:2}));for(var h=l(a.querySelectorAll("input[type=text], input[type=checkbox], input[type=password], input[type=email], select")),m=h.next();!m.done;m=h.next()){m=m.value;var n=m.getAttribute("data-formvalidate-eagerness")?Number(m.getAttribute("data-formvalidate-eagerness")):f;1<=n&&B("change",m,function(p){e.Zb[e.gy[String(p.target.getAttribute("id"))]].RC();e.validate()});2<=n&&B("input",m,function(p){e.Zb[e.gy[String(p.target.getAttribute("id"))]].RC();void 0!==g?pn(g):e.validate()})}}f=0;h=l(a.querySelectorAll("input[type=text], input[type=checkbox], input[type=hidden], input[type=password], input[type=email], select, .g-recaptcha"));for(m=h.next();!m.done;m=h.next())m=qo(m.value),e.Zb.push(m),e.gy[m.na()]=f,f+=1},Ym:function(){return e.Zb.map(function(f){if(""!==f.name&&!f.WE){if(f.aF)return Array.from(f.JE.options).filter(function(h){return h.selected}).map(function(h){return encodeURIComponent(f.name)+"="+encodeURIComponent(h.value)}).join("&");if(!f.vu&&"radio"!==f.Zx||f.JE.checked){var g=f.cu();return encodeURIComponent(f.name)+"="+encodeURIComponent(g)}}}).filter(function(f){return void 0!==f}).join("&").replace(/%20/g,"+")},validate:function(f){f=void 0===f?!1:f;if(e.ko&&!f)return e.Om=!0,Promise.resolve();e.ko=!0;for(var g={},h={},m=!1,n=l(e.Zb),p=n.next();!p.done;p=n.next())if(p=p.value,h[p.name]=p.cu(),p.vu&&""===p.cu()||(g[p.name]=p.cu()),h[p.name]!==e.iF[p.name]||f)p.hM(),m=!0;if(!m)return e.ko=!1,e.Om&&(e.Om=!1,e.validate()),Promise.resolve();e.iF=Object.assign({},h);return F(e.QH,g).then(function(v){v=JSON.parse(v.responseText);e.si=v.valid;for(var A=l(e.Zb),D=A.next();!D.done;D=A.next())D=D.value,D.bz&&!D.dF?(D.Dn(),D.kH("Captcha has to be completed",f)):void 0!==v.errors[D.Ef]?(D.Dn(),D.kH(v.errors[D.Ef],f)):D.Dn(),D.ZJ();e.VI();if(void 0!==v.errors.__all__){v=l(v.errors.__all__);for(A=v.next();!A.done;A=v.next())e.bI(A.value);e.eM()}e.ko=!1;e.Om&&(e.Om=!1,e.validate())}).catch(function(v){hn("error: "+v);e.ko=!1;if(e.Om)e.Om=!1,e.validate();else throw v;})},sG:function(f){d.map(function(g){return g.disabled=!0});if(e.$y||0===e.kr.length)return window.setTimeout(function(){d.map(function(g){return g.disabled=!1})},700),Promise.resolve();f.preventDefault();return Promise.all(e.kr.map(function(g){return g()})).then(function(g){e.io=!1;window.setTimeout(function(){d.map(function(h){return h.disabled=!1})},10);g.reduce(function(h,m){return h&&m},!0)&&(e.$y=!0,b())}).catch(function(g){w("Can't complete preSubmitValidation in form "+a.action,g);e.io=!1;d.map(function(h){return h.disabled=!1});throw g;})},bI:function(f){var g=document.querySelector("#error_notice > .errorlist"),h=document.createElement("li");h.appendChild(document.createTextNode(f));g.appendChild(h)},VI:function(){var f=document.querySelector("#error_notice");if(null!==f&&(f.classList.add("formvalidate_hidden"),f=document.querySelector("#error_notice > .errorlist"),null!==f))for(;null!==f.firstChild;)f.removeChild(f.firstChild)},eM:function(){var f=document.querySelector("#error_notice");null!==f&&f.classList.remove("formvalidate_hidden")},JO:function(){for(var f=!1,g=l(e.Zb),h=g.next();!h.done;h=g.next())h=h.value,f=f||h.xE();g=0!==Array.from(a.getElementsByClassName("errorlist")).filter(function(m){return""!==m.innerHTML.trim()}).length;return f||g},lN:function(f){e.kr.push(f);var g=!1;return function(){g||(e.kr.splice(e.kr.indexOf(f),1),g=!0)}}};e.fd();return e};var so="https://cbjpeg.stream.highwebmedia.com/",to="https://roomimg.stream.highwebmedia.com/";var uo=Eb()&&!Kb();function vo(a,b,c){c=void 0===c?{}:c;this.K=a;this.cf=b;this.Ew=this.rp=!1;this.cy=this.Ok=0;this.options=Object.assign(Object.assign({},{Pj:!1,uF:!0,MD:2E3}),c);a=navigator.userAgent.match(/Puffin\/(\d)/);this.rM=null!==a&&8>parseInt(a[1])?1500:140;this.options.Pj?this.Pj():this.options.uF&&wo(this,0)}vo.prototype.Fj=function(){this.Ew||(xo(this,!1),this.cy=0,wo(this,0))};function yo(a){return!a.rp&&0<a.options.MD&&(new Date).getTime()<=a.cy}
function xo(a,b){a.cy=b?0:(new Date).getTime()+a.options.MD;a.rp=b}function wo(a,b){0===a.Ok&&(a.Ok=b);if(!(0===b||b-a.Ok>a.rM))return Promise.resolve();a.Ok=b;var c=a.rp||yo(a)?so+"minifwap/"+a.K+".jpg?f="+Math.random():to+"riw/"+a.K+".jpg?"+Math.floor((new Date).getTime()/3E4);return new Promise(function(d,e){var f=new Image;f.onload=function(){a.cf.onload=function(){a.Ew=!0};a.Ew=!1;a.cf.src=f.src;d()};f.onerror=function(){e("Error downloading image "+c)};f.src=c})}
vo.prototype.Pj=function(){var a=this;if(!Nb()){var b=this.rp||yo(this);xo(this,!0);if(!b){var c=function(d){(a.rp||yo(a))&&wo(a,d).then(function(){requestAnimationFrame(function(e){c(e)})}).catch(function(){c(0)})};c(0)}}};function zo(a,b,c,d){d=void 0===d?3:d;var e=document.createElement("div");e.style.position="absolute";e.style.height="0";e.style.width="0";e.style.top="-8px";e.style.left=c;c=document.createElement("div");y(c,"divotBorder");c.style.borderLeft="8px solid transparent";c.style.borderRight="8px solid transparent";c.style.borderBottomWidth="8px";c.style.borderBottomStyle="solid";""!==a&&(c.style.borderBottomColor=""+a);e.appendChild(c);a=8-d;var f=document.createElement("div");y(f,"divotBackground");f.style.position="absolute";f.style.top=d+"px";f.style.left=d+"px";f.style.borderLeft=a+"px solid transparent";f.style.borderRight=a+"px solid transparent";f.style.borderBottomWidth=a+"px";f.style.borderBottomStyle="solid";""!==b&&(f.style.borderBottomColor=""+b);c.appendChild(f);return e}
function Ao(a,b,c,d){d=void 0===d?3:d;var e=document.createElement("div");e.style.position="absolute";e.style.height="0";e.style.width="0";e.style.bottom="0";e.style.left=c;c=document.createElement("div");y(c,"divotBorder");c.style.borderLeft="8px solid transparent";c.style.borderRight="8px solid transparent";c.style.borderTopWidth="8px";c.style.borderTopStyle="solid";""!==a&&(c.style.borderTopColor=""+a);e.appendChild(c);a=8-d;var f=document.createElement("div");y(f,"divotBackground");f.style.position="absolute";f.style.top="0";f.style.left=d+"px";f.style.borderLeft=a+"px solid transparent";f.style.borderRight=a+"px solid transparent";f.style.borderTopWidth=a+"px";f.style.borderTopStyle="solid";""!==b&&(f.style.borderTopColor=""+b);c.appendChild(f);return e}
function Bo(a,b,c,d){d=void 0===d?3:d;var e=document.createElement("div");e.style.position="absolute";e.style.height="0";e.style.width="0";e.style.left="-8px";e.style.top=c;c=document.createElement("div");y(c,"divotBorder");c.style.borderTop="8px solid transparent";c.style.borderBottom="8px solid transparent";c.style.borderRightWidth="8px";c.style.borderRightStyle="solid";""!==a&&(c.style.borderRightColor=""+a);e.appendChild(c);a=8-d;var f=document.createElement("div");y(f,"divotBackground");f.style.position="absolute";f.style.top=d+"px";f.style.left=d+"px";f.style.borderTop=a+"px solid transparent";f.style.borderBottom=a+"px solid transparent";f.style.borderRightWidth=a+"px";f.style.borderRightStyle="solid";""!==b&&(f.style.borderRightColor=""+b);c.appendChild(f);return e}
function Co(a,b,c,d){d=void 0===d?3:d;var e=document.createElement("div");e.style.position="absolute";e.style.height="0";e.style.width="0";e.style.right="0";e.style.top=c;c=document.createElement("div");y(c,"divotBorder");c.style.borderTop="8px solid transparent";c.style.borderBottom="8px solid transparent";c.style.borderLeftWidth="8px";c.style.borderLeftStyle="solid";""!==a&&(c.style.borderLeftColor=""+a);e.appendChild(c);a=8-d;var f=document.createElement("div");y(f,"divotBackground");f.style.position="absolute";f.style.top=d+"px";f.style.right="-"+a+"px";f.style.borderTop=a+"px solid transparent";f.style.borderBottom=a+"px solid transparent";f.style.borderLeftWidth=a+"px";f.style.borderLeftStyle="solid";""!==b&&(f.style.borderLeftColor=""+b);c.appendChild(f);return e};function Do(){return"FRAGMENT"}
function Eo(a,b,c){var d=Fo(a)?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);c=Go(c);d.appendChild(c);var e=null===b?{}:b;Object.keys(e).forEach(function(f){if("style"===f)Object.assign(d.style,e[f]);else if("ref"===f&&"function"===typeof e.ref)e.ref(d,e);else if("className"===f||"class"===f)d.classList.add.apply(d.classList,ja(e[f].split(" ")));else if("colorClass"===f)f=e[f],Array.isArray(f)?f.forEach(function(m){""!==m&&d.classList.add(m)}):d.classList.add(f);else if("htmlFor"===f)d.setAttribute("for",e[f]);else if("xlinkHref"===f)d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e[f]);else if("dangerouslySetInnerHTML"===f)d.innerHTML=e[f].jN;else if(0===f.indexOf("on")){var g=f.toLowerCase(),h=!1;-1<f.indexOf("Capture",f.length-7)&&(h=!0,g=g.slice(-7));null===d[g]?B(g.slice(2),d,e[f],h):u("Event declared for JSX element that does not exist on type "+a+": "+f)}else d.setAttribute(f,e[f])});return d}
function Ho(a,b){"function"===typeof a.ref&&a.ref(b,a)}function Fo(a){var b=new RegExp("^"+a+"$","i");return["path","svg","use","g"].some(function(c){return b.test(c)})}
function Go(a){function b(d){d instanceof HTMLElement||d instanceof SVGElement||d instanceof Comment||d instanceof DocumentFragment?c.appendChild(d):"string"===typeof d||"number"===typeof d?c.appendChild(document.createTextNode(""+d)):d instanceof Array?d.forEach(b):!1===d||null===d||void 0===d||u("Unexpected child in Tsx fragment: "+d)}var c=document.createDocumentFragment();a.forEach(b);return c}
function W(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if("function"===typeof a)if(void 0===a.prototype||void 0===a.prototype.render){e=Object.assign({},{},b,{children:d});var f=a(e);d="FRAGMENT"===f?Go(d):f;Ho(e,d)}else d=Object.assign({},{},b,{children:d}),e=[],void 0!==d.unsafeArgs&&(e=d.unsafeArgs),e=new(Function.prototype.bind.apply(a,[null,d].concat(ja(e)))),f=e.render(),"function"===typeof d.classRef&&d.classRef(e,d),Ho(d,f),d=f;else d=Eo(a,b,d);return d};function Io(a){a=void 0===a?"16px":a;return W("a",{className:"closeBtnContainer",style:{height:a,borderRadius:"5px",color:"inherit"}},W("svg",{style:{width:a,height:a},width:"12",height:"12",viewBox:"0 0 12 12"},W("path",{d:"M7.15006 6.08867C7.13842 6.07705 7.12919 6.06326 7.12288 6.04807C7.11658 6.03289 7.11334 6.01661 7.11334 6.00017C7.11334 5.98372 7.11658 5.96744 7.12288 5.95226C7.12919 5.93707 7.13842 5.92328 7.15006 5.91167L11.7816 1.28067C11.9222 1.13984 12.0011 0.94891 12.001 0.749887C12.0008 0.550864 11.9216 0.360048 11.7808 0.219417C11.64 0.0787862 11.4491 -0.000140462 11.25 1.87661e-07C11.051 0.000140838 10.8602 0.0793373 10.7196 0.220167L6.08856 4.84917C6.07695 4.86081 6.06316 4.87004 6.04797 4.87634C6.03278 4.88265 6.0165 4.88589 6.00006 4.88589C5.98362 4.88589 5.96734 4.88265 5.95215 4.87634C5.93697 4.87004 5.92317 4.86081 5.91156 4.84917L1.28056 0.220167C1.21093 0.150501 1.12826 0.0952322 1.03726 0.0575166C0.946271 0.0198009 0.84874 0.000376944 0.75024 0.00035373C0.551311 0.000306846 0.360511 0.0792862 0.219814 0.219917C0.0791162 0.360548 4.6905e-05 0.551311 2.08617e-08 0.75024C-4.68632e-05 0.94917 0.0789325 1.13997 0.219564 1.28067L4.85006 5.91167C4.8617 5.92328 4.87094 5.93707 4.87724 5.95226C4.88354 5.96744 4.88679 5.98372 4.88679 6.00017C4.88679 6.01661 4.88354 6.03289 4.87724 6.04807C4.87094 6.06326 4.8617 6.07705 4.85006 6.08867L0.219564 10.7202C0.14993 10.7898 0.0947003 10.8725 0.0570276 10.9635C0.0193548 11.0546 -2.31938e-05 11.1521 2.08617e-08 11.2506C4.6905e-05 11.4495 0.0791162 11.6403 0.219814 11.7809C0.28948 11.8505 0.372179 11.9058 0.46319 11.9435C0.554201 11.9811 0.651741 12.0005 0.75024 12.0005C0.94917 12.0004 1.13993 11.9214 1.28056 11.7807L5.91156 7.14917C5.92317 7.13753 5.93697 7.12829 5.95215 7.12199C5.96734 7.11569 5.98362 7.11244 6.00006 7.11244C6.0165 7.11244 6.03278 7.11569 6.04797 7.12199C6.06316 7.12829 6.07695 7.13753 6.08856 7.14917L10.7196 11.7807C10.8602 11.9214 11.051 12.0004 11.2499 12.0005C11.4488 12.0005 11.6396 11.9215 11.7803 11.7809C11.921 11.6403 12.0001 11.4495 12.0001 11.2506C12.0002 11.0517 11.9212 10.8609 11.7806 10.7202L7.15006 6.08867Z"})))}
function Jo(){return W("div",{style:{display:"inline-block"}},W("svg",{style:{height:"1em"},width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},W("path",{d:"M3.482 7.91071C3.45013 7.89982 3.4223 7.87953 3.40219 7.85252C3.38208 7.8255 3.37062 7.79303 3.36933 7.75937C3.36827 7.72563 3.37736 7.69233 3.39542 7.66381C3.41349 7.63528 3.4397 7.61284 3.47067 7.59937C3.92472 7.40632 4.29812 7.06231 4.52765 6.62556C4.75718 6.18882 4.82875 5.68617 4.73025 5.20272C4.63174 4.71927 4.3692 4.2847 3.98708 3.97259C3.60495 3.66048 3.12672 3.48999 2.63333 3.48999C2.13995 3.48999 1.66171 3.66048 1.27959 3.97259C0.897467 4.2847 0.63493 4.71927 0.536421 5.20272C0.437912 5.68617 0.509482 6.18882 0.739017 6.62556C0.968551 7.06231 1.34195 7.40632 1.796 7.59937C1.82712 7.61253 1.85351 7.63484 1.87166 7.66334C1.88982 7.69184 1.89888 7.72518 1.89765 7.75895C1.89642 7.79271 1.88496 7.82531 1.86478 7.85241C1.8446 7.87952 1.81666 7.89985 1.78467 7.91071C1.26465 8.08858 0.813146 8.4244 0.4932 8.87127C0.173253 9.31815 0.000829249 9.85377 0 10.4034L0 12.3787C0 12.4661 0.0346975 12.5498 0.0964595 12.6116C0.158221 12.6733 0.241989 12.708 0.329333 12.708H0.916667C0.95808 12.7081 0.997978 12.7236 1.02847 12.7516C1.05896 12.7797 1.07783 12.8181 1.08133 12.8594L1.318 15.6987C1.32486 15.7809 1.36241 15.8576 1.42317 15.9134C1.48394 15.9692 1.56348 16.0002 1.646 16H3.62133C3.70374 16 3.78311 15.969 3.84374 15.9132C3.90436 15.8574 3.94181 15.7808 3.94867 15.6987L4.186 12.8594C4.18935 12.8182 4.20807 12.7797 4.23846 12.7517C4.26884 12.7237 4.30866 12.7081 4.35 12.708H4.938C4.98122 12.708 5.02401 12.6995 5.06393 12.683C5.10385 12.6664 5.14011 12.6421 5.17064 12.6115C5.20117 12.5809 5.22536 12.5446 5.24184 12.5047C5.25832 12.4647 5.26675 12.4219 5.26667 12.3787V10.4034C5.26604 9.85372 5.09369 9.31801 4.77372 8.8711C4.45374 8.42418 4.00213 8.08841 3.482 7.91071Z"}),W("path",{d:"M14.2154 7.91071C14.1834 7.89985 14.1555 7.87952 14.1353 7.85241C14.1151 7.82531 14.1036 7.79271 14.1024 7.75895C14.1012 7.72518 14.1102 7.69184 14.1284 7.66334C14.1466 7.63484 14.1729 7.61253 14.2041 7.59937C14.6581 7.40632 15.0315 7.06231 15.261 6.62556C15.4906 6.18882 15.5622 5.68617 15.4636 5.20272C15.3651 4.71927 15.1026 4.2847 14.7205 3.97259C14.3384 3.66048 13.8601 3.48999 13.3667 3.48999C12.8733 3.48999 12.3951 3.66048 12.013 3.97259C11.6309 4.2847 11.3683 4.71927 11.2698 5.20272C11.1713 5.68617 11.2429 6.18882 11.4724 6.62556C11.7019 7.06231 12.0753 7.40632 12.5294 7.59937C12.5605 7.61259 12.5868 7.63496 12.6049 7.6635C12.623 7.69204 12.632 7.72541 12.6307 7.75918C12.6294 7.79295 12.6179 7.82553 12.5977 7.85259C12.5774 7.87965 12.5494 7.89992 12.5174 7.91071C11.9974 8.08861 11.546 8.42445 11.2262 8.87134C10.9064 9.31822 10.7341 9.85383 10.7334 10.4034V12.3787C10.7333 12.4219 10.7417 12.4647 10.7582 12.5047C10.7747 12.5446 10.7989 12.5809 10.8294 12.6115C10.86 12.6421 10.8962 12.6664 10.9361 12.683C10.9761 12.6995 11.0188 12.708 11.0621 12.708H11.6501C11.6914 12.7081 11.7312 12.7237 11.7616 12.7517C11.792 12.7797 11.8107 12.8182 11.8141 12.8594L12.0514 15.6987C12.0583 15.7808 12.0957 15.8574 12.1563 15.9132C12.217 15.969 12.2963 16 12.3787 16H14.3541C14.4366 16.0002 14.5161 15.9692 14.5769 15.9134C14.6377 15.8576 14.6752 15.7809 14.6821 15.6987L14.9187 12.8594C14.9222 12.8181 14.9411 12.7797 14.9716 12.7516C15.0021 12.7236 15.042 12.7081 15.0834 12.708H15.6707C15.7581 12.708 15.8418 12.6733 15.9036 12.6116C15.9654 12.5498 16.0001 12.4661 16.0001 12.3787V10.4034C15.9992 9.85377 15.8268 9.31815 15.5069 8.87127C15.1869 8.4244 14.7354 8.08858 14.2154 7.91071Z"}),W("path",{d:"M8.78198 3.75737C8.75083 3.74636 8.72367 3.7263 8.70399 3.69976C8.68431 3.67323 8.67299 3.64142 8.67148 3.60842C8.66998 3.57541 8.67836 3.54271 8.69555 3.51449C8.71274 3.48628 8.73796 3.46384 8.76798 3.45004C9.14122 3.27559 9.4438 2.97908 9.62578 2.60945C9.80775 2.23983 9.85823 1.8192 9.76889 1.41701C9.67954 1.01482 9.4557 0.655134 9.13434 0.39733C8.81298 0.139525 8.4133 -0.000976562 8.00131 -0.000976562C7.58932 -0.000976562 7.18965 0.139525 6.86828 0.39733C6.54692 0.655134 6.32309 1.01482 6.23374 1.41701C6.14439 1.8192 6.19487 2.23983 6.37685 2.60945C6.55882 2.97908 6.86141 3.27559 7.23465 3.45004C7.26467 3.46384 7.28988 3.48628 7.30707 3.51449C7.32426 3.54271 7.33264 3.57541 7.33114 3.60842C7.32964 3.64142 7.31832 3.67323 7.29863 3.69976C7.27895 3.7263 7.2518 3.74636 7.22065 3.75737C6.7746 3.91826 6.38891 4.21259 6.116 4.60036C5.8431 4.98813 5.69621 5.45053 5.69531 5.9247V6.91337C5.69635 7.00039 5.73138 7.08356 5.79292 7.1451C5.85446 7.20663 5.93762 7.24166 6.02465 7.2427H6.57065C6.61112 7.24247 6.65024 7.25728 6.68042 7.28426C6.7106 7.31123 6.72968 7.34845 6.73398 7.3887L7.01398 9.91337C7.023 9.99387 7.06137 10.0682 7.12176 10.1222C7.18214 10.1762 7.26031 10.206 7.34131 10.206H8.65865C8.73958 10.206 8.81766 10.1762 8.87794 10.1222C8.93821 10.0682 8.97645 9.99381 8.98531 9.91337L9.26598 7.3887C9.27057 7.34846 9.28984 7.31131 9.32009 7.28438C9.35035 7.25744 9.38947 7.24261 9.42998 7.2427H9.97531C10.0627 7.2427 10.1464 7.208 10.2082 7.14624C10.2699 7.08448 10.3046 7.00071 10.3046 6.91337V5.92404C10.304 5.45025 10.1575 4.98815 9.8851 4.60051C9.61268 4.21287 9.22753 3.91849 8.78198 3.75737Z"})))}
function Ko(a){return W("div",{style:{display:"inline-block",paddingTop:(void 0===a?1:a)+"px",fill:"currentColor"}},W("svg",{style:{height:"1.2em"},width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},W("path",{d:"M14.9474 6.50932L14.1034 6.20998C13.9826 6.16702 13.8721 6.09916 13.7791 6.01078C13.6862 5.92241 13.6128 5.8155 13.5638 5.69697C13.5148 5.57845 13.4912 5.45094 13.4946 5.32272C13.498 5.19451 13.5282 5.06843 13.5834 4.95265L13.9674 4.14398C14.1075 3.84868 14.1528 3.51727 14.0971 3.19521C14.0414 2.87315 13.8874 2.57621 13.6563 2.3451C13.4252 2.11398 13.1283 1.96002 12.8062 1.90432C12.4842 1.84862 12.1528 1.89391 11.8574 2.03398L11.0488 2.41865C10.9329 2.47361 10.8069 2.50365 10.6787 2.50683C10.5505 2.51002 10.4231 2.48628 10.3046 2.43715C10.1862 2.38802 10.0794 2.31458 9.99111 2.2216C9.90283 2.12861 9.83504 2.01814 9.79211 1.89732L9.49211 1.05398C9.38235 0.746123 9.18003 0.479756 8.91292 0.291408C8.6458 0.103059 8.32696 0.00195313 8.00011 0.00195312C7.67327 0.00195312 7.35443 0.103059 7.08731 0.291408C6.82019 0.479756 6.61788 0.746123 6.50811 1.05398L6.20811 1.89798C6.16512 2.01875 6.09728 2.12915 6.00897 2.22206C5.92066 2.31498 5.81384 2.38834 5.69541 2.4374C5.57699 2.48647 5.44959 2.51015 5.32144 2.50692C5.19329 2.50369 5.06725 2.47362 4.95145 2.41865L4.14278 2.03398C3.84747 1.89391 3.51607 1.84862 3.19401 1.90432C2.87195 1.96002 2.575 2.11398 2.34389 2.3451C2.11278 2.57621 1.95882 2.87315 1.90312 3.19521C1.84742 3.51727 1.89271 3.84868 2.03278 4.14398L2.41678 4.95265C2.47188 5.06844 2.50207 5.19451 2.5054 5.3227C2.50873 5.45089 2.48513 5.57835 2.43613 5.69685C2.38712 5.81535 2.31379 5.92224 2.22089 6.01063C2.12799 6.09902 2.01757 6.16693 1.89678 6.20998L1.05278 6.50998C0.744848 6.61958 0.478381 6.8218 0.289952 7.08887C0.101523 7.35595 0.000366211 7.6748 0.000366211 8.00165C0.000366211 8.32851 0.101523 8.64735 0.289952 8.91443C0.478381 9.1815 0.744848 9.38372 1.05278 9.49332L1.89678 9.79332C2.01755 9.83629 2.12795 9.90414 2.22085 9.99246C2.31375 10.0808 2.38708 10.1876 2.43609 10.3061C2.4851 10.4245 2.50871 10.5519 2.50538 10.6801C2.50206 10.8082 2.47187 10.9342 2.41678 11.05L2.03278 11.8587C1.89271 12.154 1.84742 12.4854 1.90312 12.8074C1.95882 13.1295 2.11278 13.4264 2.34389 13.6575C2.575 13.8887 2.87195 14.0426 3.19401 14.0983C3.51607 14.154 3.84747 14.1087 4.14278 13.9687L4.95145 13.5847C5.06722 13.5295 5.19329 13.4992 5.3215 13.4959C5.44971 13.4926 5.57718 13.5162 5.69566 13.5653C5.81415 13.6144 5.92099 13.6878 6.00927 13.7809C6.09755 13.8739 6.1653 13.9844 6.20811 14.1053L6.50811 14.9487C6.61788 15.2565 6.82019 15.5229 7.08731 15.7112C7.35443 15.8996 7.67327 16.0007 8.00011 16.0007C8.32696 16.0007 8.6458 15.8996 8.91292 15.7112C9.18003 15.5229 9.38235 15.2565 9.49211 14.9487L9.79211 14.1047C9.83509 13.9839 9.90293 13.8735 9.99126 13.7806C10.0796 13.6877 10.1864 13.6144 10.3049 13.5653C10.4233 13.5163 10.5507 13.4927 10.6789 13.496C10.807 13.4994 10.933 13.5296 11.0488 13.5847L11.8574 13.9687C12.1528 14.1087 12.4842 14.154 12.8062 14.0983C13.1283 14.0426 13.4252 13.8887 13.6563 13.6575C13.8874 13.4264 14.0414 13.1295 14.0971 12.8074C14.1528 12.4854 14.1075 12.154 13.9674 11.8587L13.5834 11.05C13.5284 10.9342 13.4982 10.8082 13.4948 10.6801C13.4915 10.5519 13.5151 10.4245 13.5641 10.3061C13.6131 10.1876 13.6865 10.0808 13.7794 9.99246C13.8723 9.90414 13.9827 9.83629 14.1034 9.79332L14.9474 9.49265C15.2554 9.38305 15.5218 9.18084 15.7103 8.91376C15.8987 8.64669 15.9999 8.32784 15.9999 8.00098C15.9999 7.67413 15.8987 7.35528 15.7103 7.08821C15.5218 6.82113 15.2554 6.61892 14.9474 6.50932ZM8.00011 11.1907C7.37045 11.1815 6.75667 10.9917 6.2318 10.6437C5.70693 10.2958 5.29306 9.80438 5.03945 9.22798C4.71516 8.44275 4.71553 7.56095 5.04046 6.77598C5.3654 5.99102 5.98838 5.36695 6.77278 5.04065C7.55892 4.72626 8.43681 4.73154 9.21911 5.05537C10.0014 5.3792 10.6262 5.99594 10.9601 6.77398C11.2844 7.55922 11.284 8.44102 10.9591 9.22598C10.6342 10.011 10.0112 10.635 9.22678 10.9613C8.83799 11.1212 8.42042 11.1993 8.00011 11.1907Z"})))}
function Lo(a){var b=W("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W("path",{d:"M9.41624 6.5001C8.36101 5.49058 6.91921 5.42139 6.31151 5.44408C6.2877 5.44511 6.26454 5.43559 6.2474 5.41774C6.23026 5.39989 6.22063 5.37525 6.22074 5.34955V4.37708C6.22037 4.2304 6.1414 4.09718 6.01813 4.0353C5.89485 3.97341 5.74953 3.99404 5.64528 4.08821L3.01893 6.49519C2.93812 6.56704 2.89133 6.67411 2.89136 6.78708C2.89077 6.89782 2.93585 7.00312 3.01437 7.07444L5.64739 9.58388C5.75212 9.677 5.89728 9.69652 6.02 9.63396C6.14272 9.57141 6.22092 9.43803 6.22074 9.29161V8.14408C6.22076 8.09924 6.25009 8.06064 6.29083 8.05182C6.95951 7.90058 9.14183 7.61398 10.2721 9.90072C10.3101 9.97676 10.3911 10.0153 10.4688 9.99434C10.5465 9.97338 10.6011 9.89827 10.6015 9.81187C10.6015 8.36716 10.2027 7.25328 9.41624 6.5001Z"}));return W("div",{colorClass:"replyIconSvg",style:a},b)};function Mo(a){B(hb(),document,function(){jb()?window.setTimeout(function(){"fullscreen"!==a.xf&&No("noninteractive-fullscreen")},0):No(a.kF)})}function Oo(a,b,c){if((void 0===c||!c)&&b===a.xf)return!1;-1===["noninteractive-fullscreen","fullscreen","fullvideo"].indexOf(a.xf)&&(a.kF=a.xf);a.nF=a.xf;a.xf=b;return!0}function No(a){var b=Po;Oo(b,a,!1)&&(a=b.xf,"videoonly"!==a&&(Hn=a),b.od.j({jg:b.xf,fL:b.nF}))}
function Qo(){var a=Po;mb()&&window.localStorage.setItem(a.dn,JSON.stringify({isTheaterMode:"theater"===a.xf}))}function Ro(){var a=Po,b=a.xf;mb()&&(a=window.localStorage.getItem(a.dn),null!==a&&(b=JSON.parse(a).isTheaterMode?"theater":"split"));return b}function X(){return Po.xf}var Po=new function(){this.dn="isTheaterMode";this.od=new t("changeVideoMode");this.xf="split";this.nF="theater";this.kF="split";Mo(this)};function So(a){x.call(this);var b=this;this.X=a;this.state={videoWidth:500,videoHeight:300};this.Lk=!1;this.$k=[];To(this);this.element.style.display="inline-block";this.element.style.width="8px";this.element.style.boxSizing="border-box";B("mousedown",this.element,function(c){c.preventDefault();b.X.element.onmousemove=function(d){d=d.pageX-a.Qb.element.getBoundingClientRect().left-b.element.offsetWidth/2;b.mg(d);b.X.M()};b.X.element.onmouseup=function(){Uo(b)};b.X.element.onmouseleave=function(){Uo(b)};b.Lk=!0});B("touchmove",this.element,function(c){c.preventDefault();1===c.targetTouches.length&&(b.X.element.ontouchmove=function(){var d=c.targetTouches.item(0);null!==d&&(d=d.pageX-a.Qb.element.getBoundingClientRect().left-b.element.offsetWidth/2,b.mg(d),b.X.M())},b.X.element.ontouchend=function(){Uo(b)},b.Lk=!0)});window.setTimeout(function(){b.element.style.cursor=Vo(b);y(b.element,"resizeHandle");b.mg();Uo(b)},0);Po.od.h(function(){"split"===X()&&(To(b),b.mg())})}q(So,x);So.prototype.mg=function(a){a=void 0===a?this.state.videoWidth:a;a=Math.max(a,502);a=Math.min(Wo(this),a);var b=X();switch(b){case "split":if(0===this.element.offsetWidth)return;this.X.Qb.element.style.width=a+"px";var c=a*Xo(this)+this.X.Qb.F.J.cd();this.X.Qb.F.element.style.height=c+"px";this.X.Da.element.style.height=c+Yo(this.X.Qb)-2+"px";this.element.style.height=c+Yo(this.X.Qb)+"px";this.X.Da.element.style.width=this.X.element.clientWidth-a-this.element.offsetWidth-2*this.X.yr+"px";this.X.Qb.jn();Zo.j();break;case "theater":this.X.Qb.element.style.width=this.X.element.clientWidth-2*this.X.yr+"px";break;case "fullscreen":this.X.Qb.element.style.width=window.innerWidth+"px";break;case "videoonly":break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+b)}this.state.videoWidth=a;"split"===b&&(a=Vo(this),this.element.style.cursor=a,this.X.element.style.cursor=a)};function $o(a){var b=a.$k[a.$k.length-1],c={videoWidth:a.state.videoWidth,videoHeight:a.state.videoHeight,UC:parseInt(a.X.Da.element.style.width),SC:parseInt(a.X.Da.element.style.height)};void 0!==b&&b.videoWidth===c.videoWidth&&b.videoHeight===c.videoHeight||a.$k.push(c)}
function Uo(a){$o(a);2<a.$k.length&&(a.$k=a.$k.slice(1));if(2===a.$k.length){var b=l(a.$k),c=b.next().value;b=b.next().value;L("VideoResized",{video_width_old:c.videoWidth,video_height_old:c.videoHeight,video_width_new:b.videoWidth,video_height_new:b.videoHeight,chat_width_old:c.UC,chat_height_old:c.SC,chat_width_new:b.UC,chat_height_new:b.SC})}"split"===X()&&0!==a.element.offsetWidth&&(a.Ec(),a.X.element.onmousemove=function(){},a.X.element.onmouseup=function(){},a.X.element.onmouseleave=function(){},a.X.element.ontouchend=function(){},a.X.element.ontouchmove=function(){},a.X.element.style.cursor="",a.Lk=!1)}function Wo(a){return"split"===X()?a.X.element.clientWidth-155:a.X.element.clientWidth-2*a.X.yr}function Vo(a){var b=a.X.Qb.element.offsetWidth;return 500>=b?"e-resize":b>=Wo(a)?"w-resize":"ew-resize"}
function To(a){if(mb()){var b=window.localStorage.getItem("defaultVideoWidth");if(null!==b){b=JSON.parse(b);a.state={videoWidth:b.videoWidth,videoHeight:b.videoHeight};return}}if("split"===X()&&0!==a.element.offsetWidth){b={yF:!0};b=(void 0===b?{yF:!1}:b).yF;var c=en();if(Wo(a)-95>c/2){if(b){var d=dn();d=d/c>Xo(a)?Wo(a)-95:(d-200)/Xo(a)}else d=c/2;c=d*Xo(a)}else c=window.innerHeight-166,d=c/Xo(a);!b&&c>window.innerHeight-166&&(c=window.innerHeight-166,d=c/Xo(a));500>d&&(d=500);a.state.videoWidth=d}}So.prototype.Ec=function(){mb()&&window.localStorage.setItem("defaultVideoWidth",JSON.stringify({videoWidth:this.state.videoWidth,videoHeight:this.state.videoHeight}))};So.prototype.H=function(){this.mg();this.Lk||Uo(this)};function Xo(a){return a.X.Qb.F.le?.5625:.75}var Zo=new t("splitModeDragResize");function ap(){t.apply(this,arguments)}q(ap,t);ap.prototype.h=function(a,b){a=t.prototype.h.call(this,a,void 0===b?!0:b);pn(bp);return a};var cp=new ap("resizeDebounceEvent"),bp=dp(function(){cp.j(!1)});function ep(a,b,c,d,e,f,g){function h(){var m=c instanceof Function?c():c,n=d instanceof Function?d():d,p=m+(n-m)*(Math.max(Math.min(document.body.clientWidth,f),e)-e)/(f-e),v=a instanceof x?a.element:a;b instanceof Array?b.forEach(function(A){v.style[A]=p+"px"}):v.style[b]=p+"px";a instanceof x&&a.M();void 0!==g&&g(p)}e=void 0===e?500:e;f=void 0===f?1003:f;cp.h(h);window.setTimeout(function(){h()});return h}
function fp(){var a=new t("width-less-than620"),b=!1;cp.h(function(){620>en()?b||(b=!0,a.j(!0)):b&&(b=!1,a.j(!1))});return a}function dp(a){var b=new on(function(){a(!0)},{Ad:80,Ce:2}),c=new on(function(){a(!1)},{Ad:200,Ce:1});B("resize",window,function(){pn(b);pn(c)});B("orientationchange",window,function(){a(!1);window.setTimeout(function(){a(!1)},80)});return c}
if(Hb()&&Eb()){var gp=document.createElement("div");J(gp,{position:"absolute",width:"100%"});document.body.appendChild(gp);var hp=gp.offsetWidth;window.setInterval(function(){hp!==gp.offsetWidth&&(cp.j(!0),hp=gp.offsetWidth)},150)};function ip(a,b,c,d){d=void 0===d?document.body:d;var e,f;x.call(this);var g=this;this.target=a;this.dn=b;this.aL=d;this.P=new La;this.ki=function(){return 0};this.Ni=function(){return 0};this.element=jp(c);this.element.style.paddingRight="40px";y(this,"modern");!0!==c.PP&&kp(this);this.ud=c.ud;this.fe=c.fe;this.ki=null!==(e=c.ki)&&void 0!==e?e:this.ki;this.Ni=null!==(f=c.Ni)&&void 0!==f?f:this.Ni;r(cp.h(function(){lp(g)}),this.P);r(mp.h(function(h){g.dn===h&&g.Eb()}),this.P);void 0!==c.Ov&&(this.kp=c.Ov,r(Po.od.h(function(){lp(g);np(g)}),this.P),r(Zo.h(function(){lp(g)}),this.P));lp(this);np(this);d.appendChild(this.element)}q(ip,x);function op(a){a.Eb();void 0!==a.dn&&(mp.j(a.dn),mb()&&localStorage.setItem(a.dn,"true"))}ip.prototype.Eb=function(){var a,b;this.D();null===(a=this.parent)||void 0===a?void 0:a.removeChild(this);null===(b=this.element.parentElement)||void 0===b?void 0:b.removeChild(this.element);Ma(this.P)};function kp(a){var b=Io("12px");b.style.position="absolute";b.style.right="5px";b.style.top="5px";y(b,"tooltipCloseButton");B("click",b,function(){op(a)});a.element.appendChild(b)}
function lp(a){var b=a.aL.getBoundingClientRect(),c=a.target.getBoundingClientRect(),d=c.top-b.top;b=c.left-b.left;c=Xm(a.fe);1===a.ud?(a.element.style.top=d-a.element.clientHeight-a.target.clientHeight+a.Ni(a.target)+"px",a.element.style.left=b-c+a.ki(a.target)+"px"):0===a.ud?(a.element.style.top=d+a.target.clientHeight+a.Ni(a.target)+"px",a.element.style.left=b-c+a.ki(a.target)+"px"):2===a.ud?(a.element.style.top=d-c+a.Ni(a.target)+"px",a.element.style.left=b+a.target.clientWidth+a.ki(a.target)+
"px"):3===a.ud&&(a.element.style.top=d-c+a.Ni(a.target)+"px",a.element.style.left=b-a.element.clientWidth+a.ki(a.target)+"px")}function pp(a,b,c){var d;a.fe=null!==c&&void 0!==c?c:a.fe;a.ud=b;b=a.element.querySelector(".divot");null===(d=null===b||void 0===b?void 0:b.parentElement)||void 0===d?void 0:d.removeChild(b);d=qp(a.ud,a.fe);void 0!==d&&a.element.appendChild(d);lp(a)}ip.prototype.show=function(){np(this)};function np(a){void 0===a.kp||a.kp.includes(X())?a.element.style.display="block":a.D()}ip.prototype.D=function(){this.element.style.display="none"};function rp(a,b,c){if(!0===b.BQ||!mb()||"true"!==localStorage.getItem("showMyCamTip"))return new ip(a,"showMyCamTip",b,c)}var mp=new t("key");function jp(a){var b=void 0===a.hasHTML?a:{content:a.content,li:"true"===a.hasHTML,width:parseInt(a.width),ud:parseInt(a.divotPosition),fe:a.divotLeftOrTop,borderWidth:void 0!==a.borderWidth?parseInt(a.borderWidth):void 0};a=document.createElement("div");y(a,"tooltip");b.li?a.innerHTML=b.content:a.textContent=b.content;a.style.width=b.width+"px";a.style.borderWidth="2px";a.style.position="absolute";a.style.borderStyle="solid";a.style.borderRadius="6px";a.style.fontSize="12px";a.style.padding="8px";a.style.display="none";a.style.zIndex="5";b=qp(b.ud,b.fe,b.borderWidth);void 0!==b&&a.appendChild(b);return a}function qp(a,b,c){var d="";switch(a){case 0:a=zo;d="divotTop";break;case 1:a=Ao;d="divotBottom";break;case 2:a=Bo;d="divotLeft";break;case 3:a=Co;d="divotRight";break;default:a=void 0}if(void 0!==a)return b=a("","",b,void 0===c?3:c),y(b,d),y(b,"divot"),b};function sp(a,b,c){b=void 0===b?!0:b;x.call(this,"div",c);var d=this;this.Xj=new t("dropDownToggled",{qe:!1});this.Wf=a;void 0!==a&&(B("click",a,function(e){e instanceof MouseEvent&&(e.metaKey||e.ctrlKey)||(d.$a()?d.Sa(e):d.ob(void 0,e))},!1),B("keydown",a,function(e){if(32===e.keyCode||"Space"===e.code)e.preventDefault(),d.$a()?d.Sa(e):d.ob(void 0,e)}));tp(this,b)}q(sp,x);sp.prototype.Na=function(a){x.prototype.Na.call(this,a);this.element.style.overflow="visible";this.element.style.position="absolute";this.element.style.top="0";this.element.style.left="0";this.element.style.right="auto";this.element.style.bottom="auto";this.element.style.width="";this.element.style.height="";this.element.style.display="none"};sp.prototype.ob=function(a,b){if(this.$a())return!1;this.element.style.display=void 0===a?"block":a;this.Xj.j(new up(!0,b));return!0};sp.prototype.Sa=function(a){if(!this.$a())return!1;this.element.style.display="none";this.Xj.j(new up(!1,a));return!0};function tp(a,b){b=void 0===b?!0:b;a.uJ=vp.h(function(c){!(a.$a()&&c.target instanceof Element)||b&&a.element.contains(c.target)||void 0!==a.Wf&&a.Wf.contains(c.target)||a.Sa(c)})}sp.prototype.Eb=function(){this.uJ.removeListener()};function wp(a){sp.call(this,a)}q(wp,sp);wp.prototype.Na=function(){sp.prototype.Na.call(this);this.element.style.display="block"};wp.prototype.ob=function(){var a=this.element.parentElement;if(null===a)return!1;a.classList.toggle("pushmenu-animate",!0);this.Xj.j(new up(!0));return!0};wp.prototype.Sa=function(){var a=this.element.parentElement;if(null===a)return!1;a.classList.toggle("pushmenu-animate",!1);this.Xj.j(new up(!1));return!0};wp.prototype.$a=function(){var a=this.element.parentElement;return null===a?!1:a.classList.contains("pushmenu-animate")};function up(a,b){this.nb=a;this.event=b}
var vp=new t("documentClick"),xp=!1,yp;B("touchmove",document,function(){xp=!0});B("touchstart",document,function(){xp=!1});B("click",document,function(a){vp.j(a);void 0!==yp&&(clearTimeout(yp),yp=void 0)});(Hb()||Ib())&&B("touchend",document,function(a){xp||(yp=window.setTimeout(function(){yp=void 0;vp.j(a)},200))},!1);function zp(a,b){sp.call(this,a,!1);var c=this;this.Wf=a;this.dI=!0===b;this.px=new Ap;this.I(this.px);this.sL=cp.h(function(){c.$a()&&c.xh()})}q(zp,sp);zp.prototype.ob=function(a,b){if(!sp.prototype.ob.call(this,void 0===a?"block":a,b))return!1;this.Wf.classList.add("active");document.body.appendChild(this.element);this.xh();return!0};zp.prototype.Sa=function(a){if(!sp.prototype.Sa.call(this,a))return!1;this.Wf.classList.remove("active");document.body.removeChild(this.element);return!0};zp.prototype.xh=function(){var a=Wm(this.Wf),b=this.dI||this.element.offsetWidth+a.left>document.documentElement.clientWidth&&0<a.right-this.element.offsetWidth;this.element.style.position="absolute";this.element.style.backgroundColor=Vm(this.Wf);"0px"!==Bp(this,b?"borderRightWidth":"borderLeftWidth")&&(this.element.style.borderWidth=Bp(this,b?"borderRightWidth":"borderLeftWidth"),this.element.style.borderStyle=Bp(this,b?"borderRightStyle":"borderLeftStyle"),this.element.style.borderColor=Bp(this,b?"borderRightColor":"borderLeftColor"));var c=Bp(this,b?"borderTopRightRadius":"borderTopLeftRadius");""!==c&&(this.element.style.borderRadius=(b?c+" 0":"0 "+c)+" "+c+" "+c);c=Xm(getComputedStyle(this.element).borderBottomWidth)-Xm(getComputedStyle(this.Wf).borderLeftWidth);this.element.style.top=a.bottom+4+"px";b?(this.element.style.left="",a=document.documentElement.clientWidth-a.right-c,this.element.style.right=a+"px",this.element.style.right=a-Cp(this.Wf,this.element)-c+"px"):(this.element.style.right="",a=a.left-c,this.element.style.left=a+"px",this.element.style.left=a+Dp(this.Wf,this.element)-c+"px");a=this.px;var d=this.Wf,e=getComputedStyle(this.element);a.element.style.borderLeftWidth=e.borderLeftWidth;a.element.style.borderLeftStyle=e.borderLeftStyle;a.element.style.borderLeftColor=e.borderLeftColor;a.element.style.borderRightWidth=e.borderLeftWidth;a.element.style.borderRightStyle=e.borderLeftStyle;a.element.style.borderRightColor=e.borderLeftColor;var f=Xm(getComputedStyle(d).width)+2*c;a.element.style.width=f+"px";var g=this.element.offsetTop-Wm(d).bottom+1;a.element.style.height=g+2+"px";a.element.style.top="-"+(g+2)+"px";a.element.style.backgroundColor=e.backgroundColor;g=Cc(e.borderWidth,e.borderLeftWidth);a.element.style.right=b?"-"+g:"";a.element.style.left=b?"":"-"+g;a.element.style.zIndex=""+(parseInt(Cc(e.zIndex,"0"))+1);a.element.style.width=b?f-Dp(d,a.element)+c+"px":f+Cp(d,a.element)+c+"px";this.element.style.zIndex=getComputedStyle(this.px.element).zIndex};zp.prototype.Eb=function(){sp.prototype.Eb.call(this);this.sL.removeListener()};function Bp(a,b){return Cc(a.Wf.style[b],getComputedStyle(a.Wf)[b])}function Ap(){x.call(this);J(this.element,{position:"absolute",zIndex:4})}q(Ap,x);function Dp(a,b){return a.getBoundingClientRect().left-b.getBoundingClientRect().left}function Cp(a,b){return a.getBoundingClientRect().right-b.getBoundingClientRect().right};var Ep={};function Fp(a){this.$l=this.active=!1;this.name=a;var b=window.experiments;if(void 0!==b){var c=b.active;this.active=void 0!==c&&-1!==c.indexOf(a);b=b.eligible;this.$l=void 0!==b&&-1!==b.indexOf(a)}}Fp.prototype.sA=function(){if(this.$l&&!Ep[this.name]){var a={experimentName:this.name,experimentGroup:"inactive"};this.active&&(a.experimentGroup="active");L("ExperimentEntered",a,!0);Ep[this.name]=!0}};var Gp={};function Hp(a,b){this.zz=b;this.$l=this.active=!1;var c=window.experiments;if(void 0!==c){b=c.active;var d=c.eligible;if(void 0!==d){var e=l(a);for(c=e.next();!c.done;c=e.next())if(-1!==d.indexOf(c.value)){this.$l=!0;break}if(this.$l&&void 0!==b)for(a=l(a),c=a.next();!c.done;c=a.next())if(c=c.value,-1!==b.indexOf(c)){this.active=!0;this.Ls=c;break}}}}
Hp.prototype.sA=function(){if(this.$l&&!Gp[this.zz]){var a={experimentName:this.zz,experimentGroup:"inactive",experimentTreatment:this.Ls};this.active&&(a.experimentGroup="active");L("ExperimentEntered",a,!0);Gp[this.zz]=!0}};var Ip={};function Jp(){void 0===Ip.NewChatStyles&&(Ip.NewChatStyles=(new Fp("NewChatStyles")).active);return Ip.NewChatStyles};function Kp(a,b,c){new Promise(function(d){var e;jb()?(eb(),window.setTimeout(function(){var f=window.open(a,b,c);null!==f&&window.setTimeout(function(){f.focus()},200);d(null!==f&&void 0!==f?f:void 0)},500)):d(null!==(e=window.open(a,b,c))&&void 0!==e?e:void 0)})}var Lp="",Mp="";"hidden"in document?(Lp="hidden",Mp="visibilitychange"):"msHidden"in document?(Lp="msHidden",Mp="msvisibilitychange"):"webkitHidden"in document&&(Lp="webkitHidden",Mp="webkitvisibilitychange");var Np=new t("documentVisibilityChange",{Mf:1}),Op=!document[Lp];function Pp(a){Op!==a&&(Op=a,Np.j(Op))}if(""!==Lp&&""!==Mp){var Qp=function(){Pp(!document[Lp])};B(Mp,document,Qp);var Rp=function(){C(Mp,document,Qp);C("pagehide",window,Rp);Pp(!1);B("pagehide",window,function(){Pp(!1)});B("pageshow",window,function(){Pp(!0)})};B("pagehide",window,Rp)}else B("blur",window,function(){Pp(!1)}),B("focus",window,function(){Pp(!0)});var Sp=(new Date).getTime();function Tp(a){"Escape"!==a.key&&a.stopImmediatePropagation()}var Up="";M.h(function(a){Up=a.B.A()});function Vp(){function a(){""!==R.value.trim()&&""!==e.mn.value.trim()&&(e.hc.style.opacity="1")}function b(K,ca){return function(Oa){"Tab"===Oa.key&&(Oa.preventDefault(),Oa.shiftKey?ca.focus():K.focus())}}function c(K,ca,Oa,za){var fa=document.createElement("label"),la=document.createElement("input");fa.innerText=ca;fa.htmlFor=za;la.type=Oa;la.id=za;la.name=za;la.style.height="checkbox"===Oa?"18px":"26px";la.style.width="checkbox"===Oa?"18px":"100%";la.style.font="100% Arial,Helvetica,sans-serif";la.style.color="#000";la.style.boxSizing="border-box";la.style.border="1px solid #d5d5d5";la.style.padding="2px 4px";la.style.margin="1px 0";la.style.lineHeight="18px";la.style.borderRadius="4px";B("keydown",la,function(Ka){"Enter"===Ka.key&&(Ka.preventDefault(),e.hc.click())});K.appendChild(fa);K.appendChild(la);return la}function d(K){var ca=document.createElement("div");ca.style.display="block";ca.style.margin="10px 0 0 0";K.appendChild(ca);return ca}rc.call(this,{Am:function(){e.H();e.isVisible=!0;e.mn.focus();B("keydown",e.element,Tp);B(hb(),document,e.Ay);e.Ay()},uh:function(){var K=e.isVisible;e.element.style.display="none";e.isVisible=!1;K&&(C("keydown",e.element,Tp),C(hb(),document,e.Ay));e.IB()},Zl:!0});var e=this;this.isVisible=!1;this.IB=function(){void 0!==e.Il&&(e.Il.style.overflow="",e.Il.style.visibility="",e.Il.style.backgroundColor="")};this.Ay=function(){e.IB();null!==e.element.parentElement&&(e.Il=e.element.parentElement,e.Il.style.overflow="hidden",e.Il.style.visibility="hidden",e.Il.style.backgroundColor="#000000")};this.element.style.display="none";this.element.style.position="fixed";this.element.style.fontSize="12px";this.element.style.width="364px";this.element.style.height="264px";this.element.style.color="currentSiteSettings.defaultColor";this.element.style.margin="auto";this.element.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.4)";this.element.style.background="white";this.element.style.border="3px solid #0E6C92";this.element.style.borderRadius="10px";this.element.style.visibility="visible";this.element.id="LoginOverlay";this.da.style.backgroundColor="#000000";this.da.style.opacity="1";this.da.style.visibility="visible";this.da.style["-webkit-overflow-scrolling"]="touch";this.Ld=document.createElement("form");this.Ld.target="_top";this.Ld.style.padding="5px 30px 10px 30px";this.Ld.action="/auth/login/?next="+window.location.pathname+encodeURIComponent(window.location.search);this.Ld.method="POST";this.Ld.onclick=function(K){K.stopPropagation()};this.element.appendChild(this.Ld);var f=d(this.Ld),g=d(this.Ld),h=d(this.Ld),m=d(this.Ld),n=d(this.Ld),p=d(this.Ld),v=d(this.Ld),A=d(this.Ld),D=document.createElement("input");D.type="submit";D.onclick=function(K){K.preventDefault();e.D()};D.value="";D.style.background="transparent url(https://static-assets.highwebmedia.com/tsdefaultassets/close_icon2.svg) no-repeat center center";D.style.backgroundSize="10px";D.style.padding="10px 20px 8px 12px";D.style.border="none";D.style.cursor="pointer";f.appendChild(D);f.style.position="absolute";f.style.top="0px";f.style.right="0px";f.style.margin="0px";this.ja=document.createElement("h1");this.ja.style.font="18px ubuntumedium,Arial,Helvetica,sans-serif";this.ja.style.color="#f47422";g.appendChild(this.ja);g.style.textAlign="center";this.mn=c(h,ng+":","text","username");this.mn.required=!0;f=document.createElement("a");f.target="_top";f.href="/auth/password_reset/";f.tabIndex=0;f.textContent=qg;f.style.cssFloat="right";f.style.color="#0373a3";m.appendChild(f);var R=c(m,og+":","password","password");R.required=!0;m=c(n,pg+":","checkbox","rememberme");m.style.marginLeft="10px";this.hc=document.createElement("input");this.hc.id="id_login_btn";this.hc.type="submit";this.hc.value=Ed;this.hc.style.backgroundColor="#F47321";this.hc.style.opacity="0.5";this.hc.style.border="1px solid #A8A8A8";this.hc.style.borderRadius="4px";this.hc.style.boxSizing="border-box";this.hc.style.cursor="pointer";this.hc.style.height="36px";this.hc.style.width="100%";this.hc.style.font="16px ubuntumedium,Arial,Helvetica,sans-serif";this.hc.style.color="#FFFFFF";this.hc.style.webkitAppearance="none";p.appendChild(this.hc);p=document.createElement("p");p.textContent=Ok+" ";p.style.display="inline";this.Dg=document.createElement("a");this.Dg.target="_top";this.Dg.classList.add("signupLogin");this.Dg.href="/accounts/register/?src=login_gate";this.Dg.tabIndex=0;this.Dg.textContent=Fd;this.Dg.style.display="inline";this.Dg.style.color="#0373a3";v.appendChild(p);v.appendChild(this.Dg);v.style.textAlign="center";this.Rq=document.createElement("input");this.Qp=document.createElement("input");this.Rq.type=this.Qp.type="hidden";this.Rq.name="next";this.Rq.value=""+window.location.pathname+window.location.search;this.Qp.name="csrfmiddlewaretoken";this.Qp.value=Wa("csrftoken");A.appendChild(this.Rq);A.appendChild(this.Qp);A.style.display="none";D.onkeydown=b(this.mn,this.Dg);this.mn.onkeydown=b(R,D);R.onkeydown=b(f,this.mn);f.onkeydown=b(m,R);m.onkeydown=b(this.hc,f);this.hc.onkeydown=b(this.Dg,m);this.Dg.onkeydown=b(D,this.hc);this.mn.oninput=a;R.oninput=a;M.h(function(){e.Rq.value=""+window.location.pathname+window.location.search})}q(Vp,rc);Vp.prototype.qg=function(a){window.self!==window.top&&""!==Up?Kp("/auth/login/?next=/"+Up+"/",void 0,void 0):(this.ja.innerText=void 0!==a.On&&a.On?Lk:Nk,this.Qp.value=Wa("csrftoken"),this.element.style.display="block",rc.prototype.show.call(this),void 0!==a.PA&&a.PA&&(this.IB(),this.da.style.backgroundColor="rgba(0, 0, 0, 0.5)"),this.Dg.href=!0===a.LG?"/accounts/register/?src=login_gate&next="+window.location.pathname:"/accounts/register/?src=login_gate",!0===a.DG&&(a=Dn(),a.refresh_opener="1",a.next=window.location.pathname,this.Ld.action="/auth/login/?"+Cn(a)))};Vp.prototype.H=function(){var a=Math.max(document.documentElement.clientHeight,window.innerHeight);this.element.style.left=(Math.max(document.documentElement.clientWidth,window.innerWidth)-this.Ld.offsetWidth)/2+"px";this.element.style.top=(a-this.Ld.offsetHeight)/2+"px"};function Wp(){Vp.call(this);this.element.style.height="unset";this.element.style.width="calc(96% - 6px)";this.element.style.maxWidth="364px";this.element.style.margin="2%"}q(Wp,Vp);Wp.prototype.H=function(){var a=Math.max(document.documentElement.clientHeight,window.innerHeight);this.element.style.left=(Math.max(document.documentElement.clientWidth,window.innerWidth)-(this.element.offsetWidth+12))/2+"px";this.element.style.top=(a-this.element.offsetHeight)/2+"px"};var Xp,Yp;function Zp(a){void 0===a.On&&(a.On=a.fromFeature);void 0===a.$b&&(a.$b=a.isMobile);void 0===a.PA&&(a.PA=a.seeBackground);void 0===a.LG&&(a.LG=a.returnToPage);void 0===a.DG&&(a.DG=a.refreshOpener);!0===a.$b?(void 0===Yp&&(Yp=new Wp,L("LoginOverlayOpened")),Yp.qg(a)):(void 0===Xp&&(Xp=new Vp,L("LoginOverlayOpened")),Xp.qg(a))}function $p(){return void 0!==Xp?Xp.isVisible:!1};function aq(a){"Escape"!==a.key&&a.stopImmediatePropagation()}
function bq(a){function b(d){return function(e){"Tab"===e.key&&(e.preventDefault(),d.focus())}}rc.call(this,{Am:function(){c.H();c.isVisible=!0;c.hc.focus();B("keydown",c.element,aq)},uh:function(){var d=c.isVisible;c.element.style.display="none";c.isVisible=!1;d&&C("keydown",c.element,aq)},Zl:!0});var c=this;this.isVisible=!1;this.lI=new Fp("AutoLgnPopUpActn");this.sx=W("div",{style:{display:"block",margin:"10px 0 0 0"}},W("div",{style:{position:"absolute",top:"0px",right:"0px",margin:"4px"}},W("button",{style:{background:"transparent url(https://static-assets.highwebmedia.com/tsdefaultassets/close_icon2.svg) no-repeat center center",backgroundSize:"10px",padding:"16px",border:"none",cursor:"pointer"},type:"submit",ref:function(d){return c.sb=d},onClick:function(d){d.preventDefault();c.D()}})),W("div",{style:{font:"1em/1.3em 'UbuntuMedium', Arial, Helvetica, sans-serif",padding:"0 19px 0 32px"}},W("h1",{style:{textAlign:"center",margin:"22px 0 24px",font:"1.733em/1.0769em 'UbuntuMedium', Arial, Helvetica, sans-serif",color:"#f47321"}},"Auto Login"),W("h2",{style:{margin:"0 0 24px",font:"1.166em/1.142em 'UbuntuMedium', Arial, Helvetica, sans-serif"}},"You are attempting to log in as ",W("span",{className:"login_name"},a.username),"."),W("form",{method:"post",action:"/accounts/autologin/"},W("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Va("csrftoken")}),W("input",{type:"submit",value:Ed,style:{backgroundColor:"#F47321",border:"1px solid #A8A8A8",borderRadius:"4px",boxSizing:"border-box",cursor:"pointer",height:"36px",width:"100%",font:"16px ubuntumedium,Arial,Helvetica,sans-serif",color:"#FFFFFF",WebkitAppearance:"none"},ref:function(d){return c.hc=d}}),W("input",{type:"hidden",name:"username",value:a.username}),W("input",{type:"hidden",name:"t",value:a.t}),W("input",{type:"hidden",name:"e",value:a.e}),W("input",{type:"hidden",name:"next",value:a.next})),W("br",null),W("h3",{style:{textAlign:"center"}},"Not ",W("span",{className:"login_name"},a.username),"? ",W("a",{href:"/auth/login/?next="+a.next,ref:function(d){return c.wF=d}},"Click here to log in as a different user."))));this.element.appendChild(this.sx);this.element.style.display="none";this.element.style.position="fixed";this.element.style.width="364px";this.element.style.height="204px";this.element.style.color="currentSiteSettings.defaultColor";this.element.style.margin="auto";this.element.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.4)";this.element.style.background="white";this.element.style.border="3px solid #0E6C92";this.element.style.borderRadius="10px";this.element.style.visibility="visible";this.da.style["-webkit-overflow-scrolling"]="touch";this.da.style.backgroundColor="rgb(0, 0, 0, "+(this.lI.active?1:.5)+")";this.hc.onkeydown=b(this.wF);this.wF.onkeydown=b(this.sb);this.sb.onkeydown=b(this.hc)}q(bq,rc);bq.prototype.H=function(){var a=Math.max(document.documentElement.clientHeight,window.innerHeight);this.element.style.left=(Math.max(document.documentElement.clientWidth,window.innerWidth)-this.sx.offsetWidth)/2+"px";this.element.style.top=(a-this.sx.offsetHeight)/2+"px"};bq.prototype.qg=function(){this.element.style.display="block";this.show()};var cq;function dq(){var a=Va("aldata");if(void 0===a)return!1;void 0===cq&&(a=decodeURIComponent(a),a=new N(a),a={username:Q(a,"username"),t:Q(a,"t"),e:Q(a,"e"),next:Q(a,"next")},cq=new bq(a));cq.qg();return!0}function eq(a){a=void 0===a?!1:a;(new Fp("AutoLgnPopUpActn")).active&&dq()||Zp({On:a})};var fq=new t("newFollowedOnline"),gq=new t("onlineFollowedStorage"),hq=new t("onlineFollowedStorage");function iq(){if(mb()){var a=window.localStorage.getItem("onlineFollowedTab");null!==a&&(a=JSON.parse(a),a.timestamp=Date.now(),window.localStorage.setItem("onlineFollowedTab",JSON.stringify(a)))}}
function jq(){if(mb()){var a=window.localStorage.getItem("onlineFollowedTab");if(null!==a){a=JSON.parse(a);var b=a.username,c=a.onlineFollowedList,d={vg:{Uk:c.onlineFollowed.online,total:c.onlineFollowed.total},Dj:[]};c=l(c.roomList);for(var e=c.next();!e.done;e=c.next())e=e.value,d.Dj.push({A:e.room,image:e.image});c=a.seenRooms;e=[];for(var f=l(a.unseenRooms),g=f.next();!g.done;g=f.next())g=g.value,e.push({A:g.room,image:g.image});return{username:b,eG:d,Ah:c,KB:e,fm:a.flash,timestamp:a.timestamp}}}}
function kq(){mb()&&B("storage",window,function(a){if("onlineFollowedTab"===a.key){var b=jq();void 0!==b&&gq.j(b)}"followedDropdownClicked"===a.key&&null!==a.newValue&&(b=jq(),void 0!==b&&(b.timestamp=JSON.parse(a.newValue).timestamp,b.fm=!1,b.KB=[],hq.j(b)))})}function lq(a){a=a.split(/[()/]+/);return 4!==a.length?{Uk:0,total:0}:{Uk:parseInt(a[1]),total:parseInt(a[2])}}
function mq(){function a(b){return b.map(function(c){return{A:c.room,image:c.image}})}return E("follow/api/online_followed_rooms/").then(function(b){b=new N(b.responseText);return{vg:{Uk:U(b,"online"),total:U(b,"total")},Dj:a(O(b,"online_rooms"))}})};function nq(){var a=Em.current.Fa;return void 0===a?!1:a.ri&&a.gI}function oq(){this.first=!0;this.Yh=[];this.sm=[];this.Ah={};this.aE={};this.yE=!1}
oq.prototype.fd=function(a){var b=this;this.Sb=a;if(this.yE)pq(this.Sb.ge);else{qq=nq();ac.h(function(){b.Sb.ge.Sa()});M.h(function(d){pq(b.Sb.ge);rq(b,[d.C.A])});sq.h(function(){b.Sb.ge.$a()&&tq(b.Sb.ge)});uq.h(function(d){qq=d});cp.h(function(){b.Sb.ge.$a()&&b.Sb.ge.Sa()});pq(this.Sb.ge);!0===window.showcam&&"string"===typeof window.broadcaster&&rq(this,[window.broadcaster]);if(!this.Sb.pa){kq();gq.h(function(d){b.ip(d,!1,b.Sb.username,b.Sb.ip)});hq.h(function(d){b.ip(d,!1,void 0,b.Sb.HJ)});window._followedTabUpdate=function(d){rq(b,[d]);vq(b,!0,b.Sb.username,b.Sb.pw)};a=0===window.location.pathname.indexOf("/followed-cams/",0)?void 0:jq();void 0!==a&&a.username===this.Sb.username&&3E4>Date.now()-a.timestamp?(this.first=!1,this.ip(a,!0,this.Sb.username,this.Sb.ip),iq(),vq(this,!0,this.Sb.username,this.Sb.pw)):vq(this,!1,this.Sb.username,this.Sb.pw);var c=function(d){clearInterval(b.MH);b.MH=window.setInterval(function(){b.Sb.ge.$a()||vq(b,!1,b.Sb.username,b.Sb.pw)},d)};c(1E4);window.setTimeout(function(){c(3E4)},6E5);window.setTimeout(function(){c(6E5)},18E5);window.setTimeout(function(){clearInterval(b.MH)},216E5);fq.h(function(){b.Sb.jm.fm()})}this.yE=!0}};function rq(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.Ah[c]=!0,a.aE[c]=!0}oq.prototype.ip=function(a,b,c,d){b=void 0===b?!1:b;a.timestamp<=this.hz||a.username!==c||(this.vg=a.eG.vg,this.Ah=a.Ah,this.sm=a.KB,this.update(a.eG,!0),void 0!==d&&d(a,b),this.hz=a.timestamp)};oq.prototype.update=function(a,b){var c=this;b=void 0===b?!1:b;var d={},e=[],f=[];a=l(a.Dj);for(var g=a.next();!g.done;g=a.next())g=g.value,void 0!==this.Ah[g.A]||this.first?f.push(g):e.push(g),this.Ah[g.A]=!0,d[g.A]=g;a=0<e.length;this.sm=this.sm.reduce(function(m,n){void 0===d[n.A]||c.aE[n.A]||m.push(d[n.A]);return m},[]);e=l(e);for(g=e.next();!g.done;g=e.next())this.sm.push(g.value);e={};this.Yh=[];var h=l(this.sm);for(g=h.next();!g.done;g=h.next())g=g.value,e[g.A]=!0,this.Yh.push(new wq(g,!0,this.Yh.length+1));f=l(f);for(g=f.next();!g.done;g=f.next())g=g.value,void 0===e[g.A]&&this.Yh.push(new wq(g,!1,this.Yh.length+1));pq(this.Sb.ge);(f=!this.first&&a)&&!b&&fq.j(void 0);this.first=!1;return{fm:f,UG:this.sm}};function vq(a,b,c,d){(void 0===b||!b)&&1E4>Date.now()-a.hz||mq().then(function(e){a.hz=Date.now();a.vg=e.vg;var f=a.update(e);d(f);var g=a.Ah,h=f.fm,m=f.UG;if(mb()){f={onlineFollowed:{online:e.vg.Uk,total:e.vg.total},roomList:[]};e=l(e.Dj);for(var n=e.next();!n.done;n=e.next())n=n.value,f.roomList.push({room:n.A,image:n.image});e=[];m=l(m);for(n=m.next();!n.done;n=m.next())n=n.value,e.push({room:n.A,image:n.image});g={username:c,onlineFollowedList:f,seenRooms:g,unseenRooms:e,flash:h,timestamp:Date.now()};window.localStorage.setItem("onlineFollowedTab",JSON.stringify(g))}}).catch(function(){})}var xq=new oq;var sq=new t("refreshRoomImages"),uq=new t("setAnimateThumbnails"),yq={fontSize:"13px",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",width:"auto",height:"auto",position:"absolute",display:"none",overflow:"",cursor:"default",top:"0px",left:"0px"},zq={width:"314px",maxHeight:"450px",overflowY:"auto",overflowX:"hidden",position:"relative",boxSizing:"border-box",padding:"8px",borderRadius:"0px 4px 4px 4px",WebkitBorderRadius:"0px 4px 4px 4px"};function Aq(a,b){zp.call(this,a);this.pa=b;this.bh=xq;this.Ap()}var qq;q(Aq,zp);Aq.prototype.vx=function(){var a=this;return W("div",{className:"followedDropdown",colorClass:"tabActiveColor",style:yq},W("div",{className:"followedContainer",style:zq,colorClass:["tabActiveBgColor","tabBorderNoHover"],ref:function(b){a.ah=b}}))};function pq(a){if(!a.$a()){for(;null!==a.ah.firstChild;)a.ah.removeChild(a.ah.firstChild);if(!a.pa){var b;a.ah.appendChild(W("div",{style:{margin:"5px 3px"}},W("a",{href:"/followed-cams/",style:{height:"auto",width:"auto",border:"none",borderRadius:"0px",textDecoration:"none",cursor:"pointer",cssFloat:"none",padding:"0px"},"data-floatingnav":"",colorClass:["tabActiveBgColor","hrefColor"],ref:function(h){b=h},onMouseEnter:function(){b.style.textDecoration="underline";y(b,"tabActiveColor");z(b,"hrefColor")},onMouseLeave:function(){b.style.textDecoration="none";y(b,"hrefColor");z(b,"tabActiveColor")},onClick:function(){L("FollowedDropdownSeeAll")}},rh)))}a.ah.style.width="auto";var c=W("div",{style:{display:"table"}}),d=W("div",null),e=0;a.bh.Yh.forEach(function(h){0===e%2&&(d=W("div",{style:{display:"table-row"}}),c.appendChild(d));var m=W("div",{style:{display:"table-cell"}});m.appendChild(h.gx);d.appendChild(m);e+=1});a.ah.appendChild(c);if(0===a.bh.Yh.length){var f=W("div",{colorClass:"textColor",style:{margin:"5px 3px 5px 3px",fontSize:"12px",fontFamily:"UbuntuRegular"}});if(a.pa){var g=function(h){var m=W("a",{href:h.href,style:{height:"auto",width:"auto",border:"none",borderRadius:"0px",textDecoration:"none",cursor:"pointer",cssFloat:"none",padding:"0px"},colorClass:["tabActiveBgColor","hrefColor"],onMouseEnter:function(){m.style.textDecoration="underline"},onMouseLeave:function(){m.style.textDecoration="none"},onClick:void 0!==h.onClick?h.onClick:void 0},h.children);return m};f.appendChild(W(Do,null,W(g,{href:"/accounts/register/?src=followed_tab&next="+window.location.pathname},Fd),W("span",null," "+zg+" "),W(g,{href:"/auth/login/?next="+window.location.pathname,onClick:function(h){h.metaKey||h.ctrlKey||(h.preventDefault(),a.Sa(),eq())}},Ed)))}g=W("span",null,a.pa?sh:th);f.appendChild(g);a.ah.appendChild(f);a.ah.style.width="265px"}}}function tq(a){a=l(a.bh.Yh);for(var b=a.next();!b.done;b=a.next())b=b.value,""!==b.A.image&&wo(b.ij,0)}
Aq.prototype.Ap=function(){var a=this;uo&&B("pageshow",window,function(b){b.persisted&&a.bh.Yh.forEach(function(c){c.Fj()})})};Aq.prototype.ob=function(){if(!zp.prototype.ob.call(this))return!1;tq(this);this.ah.scrollTop=0;this.bh.sm=[];var a=Wm(this.element),b=Math.max(en(),Xm(document.body.style.minWidth));a.right>b&&(this.element.style.width=this.element.offsetWidth-(a.right-b)-4+"px",this.ah.style.overflowX="auto");return!0};Aq.prototype.Sa=function(a){if(void 0!==a&&(a.metaKey||a.ctrlKey)||!zp.prototype.Sa.call(this))return!1;a=l(this.bh.Yh);for(var b=a.next();!b.done;b=a.next())b=b.value,b.FE=!1,y(b.a,"notHighlighted"),z(b.a,"isHighlighted");this.element.style.width="auto";this.ah.style.overflowX="hidden";pq(this);return!0};function wq(a,b,c){var d=this;this.A=a;this.FE=b;this.username="";this.username=a.A;this.a=W("a",{className:"roomElementAnchor",colorClass:["tabInactiveColor",this.FE?"isHighlighted":"notHighlighted"],style:{width:"180px",height:"126px",borderRadius:"4px",border:"none",padding:"0px",margin:"0px",display:"block",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",textDecoration:"none"},"data-room":this.A.A,href:"/"+this.A.A+"/",onClick:function(){L("FollowedDropdownVisit")}},W("img",{src:""!==this.A.image?this.A.image:"https://static-assets.highwebmedia.com/images/no_thumbnail_1_wide.jpg",width:180,height:101,style:{borderRadius:"3px 3px 0px 0px"},ref:function(e){d.cf=e}}),W("span",{style:{padding:"5px"}},this.A.A));this.gx=W("div",{className:"roomElement",style:{display:"inline-block",width:"180px",height:"126px",borderRadius:"4px",margin:"3px",cursor:"pointer"}},this.a);this.YA();Wb(["click","mousedown","touchstart"],this.a,function(){Bq(d.username,"ft",c)})}wq.prototype.Fj=function(){this.ij.Fj()};wq.prototype.YA=function(){var a=this;""!==this.A.image&&(this.ij=new vo(this.username,this.cf),B("mouseenter",this.gx,function(){qq&&a.ij.Pj()}),B("mouseleave",this.gx,function(){qq&&xo(a.ij,!1)}))};function Cq(a){switch(a){case "df":case "rc":case "ft":case "fo":case "ff":case "ml":case "mr":case "tp":case "pr":case "fn":case "bs":case "nc":case "sc":case "dc":return a;default:return"un"}}
function Dq(a){switch(a){case "Default":return"df";case "Recommended":return"rc";case "FollowedTab":return"ft";case "FollowedPageOnline":return"fo";case "FollowedPageOffline":return"ff";case "MoreLikeThis":return"ml";case "MoreRooms":return"mr";case "TagPage":return"tp";case "Promoted":return"pr";case "FollowedNotification":return"fn";case "Boosted":return"bs";case "NextCam":return"nc";case "ScanCam":return"sc";case "Discover":return"dc";default:return"un"}}
function Bq(a,b,c,d,e){void 0===e&&(e="");Ya("tbu_"+a,[b,""+c,""+("number"===typeof d&&0<d?d:-1),e,void 0].join(),30)}function Eq(){this.TF=[];this.Ur=new Map}var Fq,Gq;function Hq(){for(var a=[],b=l(document.querySelectorAll(".endless_page_template")),c=b.next();!c.done;c=b.next())a.push(c.value);return a}function Iq(a,b){a.TF.push(b)}Eq.prototype.onSuccess=function(){for(var a=l(this.TF),b=a.next();!b.done;b=a.next())b=b.value,b()};function Jq(){void 0===Fq&&(Fq=new Eq);return Fq}
function Kq(a){a=a.getAttribute("data-href");a="string"!==typeof a||0===a.length?window.location.href.replace(""===location.hash?"#":location.hash,""):"/"===a[0]?a.substr(1):a;var b="?";-1!==a.indexOf("?")&&(b="&");var c=document.getElementById("filter_search_form");c=null!==c?ro(c).Ym():"";return a+b+c}function Lq(a){if(0<a){var b=Jq();Gq=window.setTimeout(function(){Mq(b);sq.j(void 0);Lq(a)},a)}}
function Mq(a,b){for(var c=l(a.Ur.values()),d=c.next();!d.done;d=c.next())xo(d.value,!1);a.Ur.clear();c={};d=l(Hq());for(var e=d.next();!e.done;c={xs:c.xs},e=d.next())c.xs=e.value,e=Kq(c.xs),E(e).then(function(f){return function(g){f.xs.innerHTML=g.responseText;a.onSuccess();void 0!==b&&b()}}(c)).catch(function(){})}function Nq(a){Iq(Jq(),a)}function Oq(a){Mq(Jq(),a)}function Pq(a){Lq(a)}function Qq(){clearTimeout(Gq)}function Rq(a,b,c,d,e){Bq(b,Dq(a),c,d,e)}var Sq=!1;function Tq(a){Sq=a;uq.j(Sq)}function Uq(a,b){if(Sq&&null!==b){var c=Jq(),d=c.Ur.get(a);void 0===d&&(d=new vo(a,b,{Pj:!0}),c.Ur.set(a,d));d.Pj()}}function Vq(a){Sq&&(a=Jq().Ur.get(a),void 0!==a&&xo(a,!1))}var Wq={buildTooltip:jp};function Xq(a){switch(a){case "orga":return 0;case "orgb":return 1;case "org":return 2;case "none":return 3;default:return 1}}
function Yq(a){switch(a){case "away":return"away";case "private":return"privatenotwatching";case "private_watching":return"privatewatching";case "private_spying":return"privatespying";case "private_requesting":return"privaterequesting";case "public":return"public";case "hidden":return"hidden";case "offline":return"offline";case "password protected":return"passwordprotected";default:return w("unknown room status -- "+a),"unknown"}}var Zq;function $q(a){var b=[];if(""!==a)try{JSON.parse(a).forEach(function(c){b.push({Qw:c[0],Pw:c[1]})})}catch(c){w("Error parsing apps "+c.toString())}return b}function ar(a){var b=[];if(""!==a)try{b=JSON.parse(a).map(function(c){return{text:c.text,href:c.href}})}catch(c){w("Error parsing anchors "+c.toString())}return b}
function br(a){var b=co(a,"chat_settings"),c=co(a,"ads_zone_ids"),d=co(a,"satisfaction_score"),e=Q(a,"flash_host"),f=Dn();void 0!==f.edge&&(e="edge"+f.edge+".stream.highwebmedia.com");f=Q(a,"wschat_host");var g=Q(a,"broadcaster_username"),h=Q(a,"room_uid"),m=P(a,"viewer_uid"),n=Q(a,"room_pass"),p=Q(a,"chat_rules"),v=Q(a,"room_title"),A=Yq(Q(a,"room_status")),D=T(a,"is_supporter"),R=T(a,"needs_supporter_to_pm"),K=Q(a,"broadcaster_gender"),ca=Q(a,"viewer_username"),Oa=Q(a,"chat_username"),za=encodeURI(Q(a,"edge_auth")),fa=Q(a,"chat_password"),la=Q(a,"viewer_gender"),Ka=Q(a,"exploring_hashtag"),Pe=Cq(Q(a,"source_name",!1)),Kd=Q(a,"hls_source"),oL=T(a,"is_widescreen"),pL=$q(Q(a,"apps_running")),qL=T(a,"allow_private_shows"),rL=U(a,"private_show_price"),sL=U(a,"private_min_minutes"),tL=T(a,"allow_show_recordings"),uL=T(a,"allow_anonymous_tipping"),vL=U(a,"spy_private_show_price"),wL=S(a,"private_show_id"),xL=T(a,"low_satisfaction_score"),yL=T(a,"is_age_verified"),zL=$n(a,"age"),AL=Q(a,"hidden_message"),BL=T(a,"following"),CL=Q(a,"follow_notification_frequency",!1),DL=T(a,"is_moderator"),EL=Q(a,"recommender_hmac"),FL=T(a,"broadcaster_on_new_chat"),GL=U(a,"token_balance"),HL=Q(a,"server_name"),IL=U(a,"num_followed"),JL=U(a,"num_followed_online"),KL=T(a,"has_studio"),LL=T(a,"is_mobile"),ML=bo(a,"ignored_emoticons"),NL=T(a,"hide_satisfaction_score"),OL=U(a,"tips_in_past_24_hours"),PL=$n(a,"last_vote_in_past_24_hours"),QL=T(a,"last_vote_in_past_90_days_down"),Ni=bo(a,"dismissible_messages"),Av=[];Ni=l(Ni);for(var Qe=Ni.next();!Qe.done;Qe=Ni.next())Qe=Qe.value,Av.push({Vn:Qe.id,AF:Qe.message_html});b={host:f,A:g,Qc:h,dC:m,JA:n,jx:p,qb:v,Ga:A,ri:D,Oq:R,zr:K,userName:ca,Bn:Oa,DD:za,cC:fa,cN:la,dc:Ka,sc:Pe,ED:e,sq:Kd,le:oL,hk:pL,Bf:qL,Pe:rL,yj:sL,fk:tL,oC:uL,Fh:vL,Xk:wL,iu:xL,Gb:yL,md:zL,km:AL,zk:BL,lg:CL,gd:DL,AG:EL,uI:FL,Lb:GL,SL:HL,RK:IL,SK:JL,WJ:KL,$b:LL,kh:ML,Cy:NL,uf:OL,iz:PL,oF:QL,Wp:Av,nH:T(a,"show_mobile_site_banner_link"),Kz:U(a,"num_viewers"),fo:T(a,"fan_club_is_member"),Ek:T(a,"performer_has_fanclub"),Uz:T(a,"fan_club_paid_with_tokens"),yu:T(a,"is_testbed"),$p:T(a,"offline_room_chat_pm_enabled",!1),yQ:[],Gj:{Zj:U(d,"up_votes",!1),Wi:U(d,"down_votes",!1),hf:U(d,"percent",!1)},BH:T(a,"tfa_enabled"),wp:{header:Q(c,"468x60"),rightTop:Q(c,"160x600,top"),rightMiddle:Q(c,"160x600,middle"),rightBottom:Q(c,"160x600,bottom"),footerLeft:Q(c,"300x250,left"),footerMiddle:Q(c,"300x250,centre"),footerRight:Q(c,"300x250,right")},za:{Xt:Q(b,"font_color"),fontFamily:Q(b,"font_family"),fontSize:Q(b,"font_size"),Qe:T(b,"show_emoticons"),am:Q(b,"emoticon_autocomplete_delay"),Fy:Q(b,"highest_token_color"),mB:Q(b,"sort_users_key"),DK:U(b,"mod_expire"),bl:Xq(Q(b,"room_entry_for")),cl:Xq(Q(b,"room_leave_for")),lM:Q(b,"silence_broadcasters"),fK:Q(b,"ignored_users"),fI:Q(b,"allowed_chat"),zf:parseInt(Q(b,"v_tip_vol")),vI:parseInt(Q(b,"b_tip_vol"))},$w:T(a,"broadcaster_enable_asp"),Ws:Q(a,"asp_log_emitter_url"),iI:Q(a,"asp_dev_portal_url"),kk:Q(a,"browser_id")};c=P(a,"staff_links");void 0!==c&&(b.Yv={pB:ar(c),mI:T(a,"auto_load_admin_info"),tG:P(a,"previous_usernames"),uD:P(a,"deletion_admin_notice")});c=go(a,"user_colors",!0);c=void 0!==c?new N(c):void 0;void 0!==c&&(c=void 0!==c?{Gf:T(c,"has_tokens"),Eg:T(c,"tipped_recently"),LM:T(c,"tipped_alot_recently"),Fg:T(c,"tipped_tons_recently")}:void 0,b.os=c);ho(a);return b}function cr(a){return new Promise(function(b,c){var d=new N(a);400<=U(d,"status",!1)?c("Bad response from server: "+a):b(br(d))})}
function dr(a){void 0!==Zq&&(Zq.abort(),Zq=void 0);return new Promise(function(b,c){var d=xc("api/chatvideocontext/"+a+"/");Zq=d[0];d[1].then(function(e){b(cr(e.responseText))}).catch(function(e){404===e.$d.status?(V("HTTP 404 - Page Not Found\n\nIt's probably just a broken link, or perhaps a cancelled broadcaster."),e.$d.abort()):c(e)})})}function er(a,b){var c=!0;"public"!==b.Nc&&"privaterequesting"===a.B.status&&"privaterequesting"===b.Ea&&(c=!1);return c}
function fr(a,b){return dr(a.B.A()).then(function(c){a.C=c;a.B.status=c.Ga;b.Ea=c.Ga})};function gr(a){x.call(this,"div",a);this.Mc=new t("overlayClick")}q(gr,x);k=gr.prototype;k.Na=function(a){var b=this;x.prototype.Na.call(this,a);this.da=document.createElement("div");this.da.style.position="fixed";this.da.style.display="none";this.da.style.left="0";this.da.style.top="0";this.da.style.right="0";this.da.style.bottom="0";this.da.style.zIndex="1000";this.da.style.cursor="auto";this.da.onclick=function(c){c.stopPropagation();b.Fb();b.Mc.j(void 0)};this.element.style.zIndex="1001";this.element.onclick=function(c){c.stopPropagation()}};k.Gu=function(){var a=this;x.prototype.Gu.call(this);window.setTimeout(function(){a.Ye()},0)};k.Ye=function(){x.prototype.Ye.call(this);null!==this.element.parentElement&&this.element.parentElement.insertBefore(this.da,this.element)};k.Eh=function(){this.da.style.display="block"};k.Fb=function(){this.da.style.display="none"};k.eg=function(){x.prototype.eg.call(this);null!==this.da.parentElement&&this.da.parentElement.removeChild(this.da)};function hr(a){gr.call(this);var b=this;this.F=a;this.Nm=new Map;this.Dr=void 0;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.minWidth="100px";this.element.style.height="auto";this.element.style.position="absolute";this.element.style.borderRadius="2px";this.element.style.fontSize="14px";this.element.style.textAlign="center";this.element.style.backgroundColor="rgba(0, 0, 0, 0.3)";this.element.onclick=function(){b.D()};this.F.wg.h(function(d){b.Nm.clear();b.clear();for(var e=!1,f=l(d),g=f.next();!g.done;g=f.next())g=g.value,g.label===b.Dr&&(e=!0),b.Nm.set(g.label,g.value),b.element.appendChild(b.Fx(g));0===d.length?b.F.Ic.Ua.style.display="none":(b.F.Ic.Ua.style.display="",c&&e&&void 0!==b.Dr&&(c=!1,b.Bg(b.Dr)))});var c=!1;this.F.IC.h(function(){c=void 0!==b.Dr});this.Mc.h(function(){b.D()});this.D()}q(hr,gr);k=hr.prototype;k.H=function(){this.element.style.right="0px";this.element.style.bottom=this.F.Ic.cd()+"px"};k.Fx=function(a){var b=this,c=document.createElement("div");c.innerText=a.label;c.style.color="#ffffff";c.style.padding="1px";c.style.width="100%";c.style.border="1px solid rgba(255, 255, 255, 0.5)";c.onmouseenter=function(){c.style.color="#fc760c";c.style.borderColor="#fc760c"};c.onmouseleave=function(){c.style.color="#FFFFFF";c.style.borderColor="rgba(255, 255, 255, 0.5)"};a.sl?c.style.backgroundColor="rgba(204, 204, 204, 0.6)":c.onclick=function(){L("clickMenuLink:QualitySelect-"+a.label);b.Bg(a.label)};return c};k.Bg=function(a){this.Dr=a;a=this.Nm.get(a);void 0===a?w("Undefined quality level key",{},"VIDEO_"):this.F.Bg(a)};k.clear=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.show=function(){this.Eh();this.element.style.visibility="";this.H()};k.D=function(){this.Fb();this.element.style.visibility="hidden"};var ir=new t("roomListRequest"),jr=new t("playerForceMuted"),kr=new t("standardEmoticonRequest");new t("standardEmoticonRequest");var lr=new t("userInitiatedPm"),mr=new t("mentionUser"),nr=new t("appDebuggingToggled"),or=new t("getMoreHistoryMessages"),pr=new t("repositionChatTabContent"),qr=new t("userModeratorStatusChanged"),rr=new t("storeTempPM");function sr(a){x.call(this);var b=this;this.config=a;this.value=0;this.ss=new t("valueChanged");this.rs=new t("valueChangeStart");this.qs=new t("valueChangeEnd");y(this.element,"slider");this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.cursor="pointer";this.element.style.width=void 0!==a.Mg?a.Mg+a.Jc+"px":"90%";this.element.style.height=a.Jc+"px";this.ik=void 0!==a.ik?a.ik:2*Math.round(.25*a.Jc/2);void 0!==a.Vw?(this.Df=document.createElement("img"),this.Df.src=a.Vw,this.Df.style.width="100%",this.Df.style.height="100%"):(this.Df=document.createElement("div"),this.Df.style.position="absolute",this.Df.style.boxSizing="border-box",void 0!==a.HD?this.Df.style.backgroundColor=a.HD:(this.Df.style.backgroundColor="#333333",this.Df.style.backgroundColor="rgba(255, 255, 255, 0.2)"),this.Df.style.top=.5*(a.Jc-this.ik)+"px",this.Df.style.height=this.ik+"px",this.Df.style.width="100%");this.element.appendChild(this.Df);void 0!==a.Vw?(this.$g=document.createElement("div"),this.$g.style.visibility="none"):(this.$g=document.createElement("div"),this.$g.style.position="absolute",this.$g.style.boxSizing="border-box",this.$g.style.backgroundColor=void 0!==a.UD?a.UD:"#ffffff",this.$g.style.top=.5*(a.Jc-this.ik)+"px",this.$g.style.height=this.ik+"px",this.element.appendChild(this.$g));void 0!==a.rE?(this.Z=document.createElement("img"),this.Z.style.position="absolute",this.Z.style.top="0",this.Z.src=a.rE,this.Z.style.height=a.Jc+"px",this.Z.style.width=a.Jc+"px",this.Z.style.cursor="grab",this.Z.style.left="0px"):(this.Z=document.createElement("div"),this.Z.style.position="absolute",this.Z.style.top="0",this.Z.style.backgroundColor=void 0!==a.oE?a.oE:"#ffffff",this.Z.style.borderRadius="50%",this.Z.style.height=a.Jc+"px",this.Z.style.height=a.Jc+"px",this.Z.style.width=a.Jc+"px",this.Z.style.cursor="grab");this.element.appendChild(this.Z);this.YM=new on(function(){b.ss.j(b.value)},{Ad:100,Ce:2});tr(this,function(c){ur(b,c,c.clientX)},"mousedown","mousemove","mouseup");tr(this,function(c){if(1===c.touches.length){var d=c.touches.item(0);null!==d&&ur(b,c,d.clientX)}},"touchstart","touchmove","touchend");B("mousedown",this.element,function(c){ur(b,c,c.clientX);var d=b.Z,e=d.dispatchEvent;var f=c.type;try{var g=new MouseEvent(f,c)}catch(h){g=document.createEvent("MouseEvent"),g.initMouseEvent(f,void 0!==c.bubbles?c.bubbles:!1,void 0!==c.cancelable?c.cancelable:!1,window,0,void 0!==c.screenX?c.screenX:0,void 0!==c.screenY?c.screenY:0,void 0!==c.clientX?c.clientX:0,void 0!==c.clientY?c.clientY:0,void 0!==c.ctrlKey?c.ctrlKey:!1,void 0!==c.altKey?c.altKey:!1,void 0!==c.shiftKey?c.shiftKey:!1,void 0!==c.metaKey?c.metaKey:!1,void 0!==c.button?c.button:0,void 0!==c.relatedTarget?c.relatedTarget:null)}e.call(d,g)})}q(sr,x);function tr(a,b,c,d,e){B(c,a.Z,function(f){function g(h){a.qs.j(a.value);a.Z.style.cursor="grab";document.body.style.cursor="";h.preventDefault();C(d,document,b,!0);C(e,document,g,!0)}a.rs.j(a.value);a.Z.style.cursor="";document.body.style.cursor="grabbing";f.preventDefault();f.stopPropagation();B(d,document,b,!0);B(e,document,g,!0)})}
function ur(a,b,c){var d=a.element.getBoundingClientRect().left;void 0!==a.config.Mg?a.qf(100/a.config.Mg*(Math.max(.5*a.config.Jc,Math.min(a.config.Mg+.5*a.config.Jc,c-d))-.5*a.config.Jc)):a.qf(100/a.element.offsetWidth*(Math.max(.5*a.config.Jc,Math.min(a.element.offsetWidth+.5*a.config.Jc,c-d))-.5*a.config.Jc));pn(a.YM);b.stopPropagation()}sr.prototype.ed=function(){return this.value};sr.prototype.qf=function(a){void 0!==this.config.Mg?(this.Z.style.left=a*this.config.Mg/100+"px",this.$g.style.width=a*this.config.Mg/100+"px"):(this.Z.style.left=a*(this.element.offsetWidth-this.config.Jc)/100+"px",this.$g.style.width=a*this.element.offsetWidth/100+"px");this.value=a};sr.prototype.mg=function(){void 0===this.config.Mg&&(this.Z.style.left=this.value*(this.element.offsetWidth-this.config.Jc)/100+"px",this.$g.style.width=this.value*this.element.offsetWidth/100+"px")};var vr=new Set;function wr(){for(var a=[],b=l(vr),c=b.next();!c.done;c=b.next())a.push(c.value);mb()&&window.localStorage.setItem("ignorelist",JSON.stringify({Hg:a}))}
function xr(){E("api/ts/chat/ignored-users/").then(function(a){mb()&&(window.localStorage.setItem("ignorelist",a.responseText),window.localStorage.setItem("ignorelistlastfetch",Date.now().toString()));try{vr=new Set(JSON.parse(a.responseText).users)}catch(b){w("Cannot parse ignore list: "+b)}}).catch(function(a){w("Network error retrieving ignore list: "+a)})}function yr(a){var b=vr;return void 0===b?(w("ignoreSet should not be undefined"),!1):b.has(a)};var zr;M.h(function(a){zr=a.B});function Ar(){rc.call(this);var a=this;this.element.id="RemoveIgnoredUsersModal";this.element.style.position="fixed";this.element.style.width="410px";this.element.style.height="127px";this.element.style.borderRadius="6px";this.element.style.padding="10px";this.element.style.fontSize="12px";y(this.da,"overlay");this.da.style.background="";this.da.style.opacity="0.4";var b=this.ut("https://static-assets.highwebmedia.com/tsdefaultassets/close.svg");y(b,"lightCloseButton");b.style.opacity="0.5";this.element.appendChild(b);b=this.ut("https://static-assets.highwebmedia.com/tsdefaultassets/close-gray.svg");y(b,"darkCloseButton");this.element.appendChild(b);b=document.createElement("div");y(b,"header");b.innerText=Dg;b.style.fontSize="15px";b.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.appendChild(b);this.Ie=document.createElement("div");y(this.Ie,"textColor");this.Ie.innerText="";this.Ie.style.margin="10px 0";this.element.appendChild(this.Ie);this.element.appendChild(this.eD());this.element.appendChild(this.hD());b=document.createElement("div");b.style.textAlign="right";var c=document.createElement("span");y(c,"saveButton");c.innerText=xf;c.style.display="inline-block";y(c,"gradient");c.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";c.style.fontSize="14px";c.style.padding="5px 15px 5px 15px";c.style.marginTop="10px";c.style.borderRadius="4px";c.style.cursor="pointer";c.onclick=function(){a.VG()};b.appendChild(c);this.element.appendChild(b);this.Mc.h(function(){a.D()})}q(Ar,rc);Ar.prototype.H=function(){this.element.style.left=Math.max(16,(document.documentElement.clientWidth-this.element.offsetWidth)/2)+"px";this.element.style.top=(document.documentElement.clientHeight-this.element.offsetHeight)/2+"px"};function Br(){var a=document.createElement("div");y(a,"bluetxt");a.innerText=Fg;a.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";a.style.fontWeight="bold";return a}
function Cr(){var a=document.createElement("select");y(a,"select");a.multiple=!0;return a}Ar.prototype.ut=function(a){var b=this,c=document.createElement("img");c.src=a;c.style.position="absolute";c.style.width="14px";c.style.height="14px";c.style.top="10px";c.style.right="10px";c.style.cursor="pointer";c.onclick=function(){b.D()};c.onmouseenter=function(){c.style.opacity="1"};c.onmouseleave=function(){c.style.opacity="0.5"};return c};function Dr(){Ar.call(this);this.element.style.height="307px";this.Ie.innerText=Jg}q(Dr,Ar);Dr.prototype.qg=function(){for(;null!==this.Jd.firstChild;)this.Jd.removeChild(this.Jd.firstChild);for(;null!==this.Yb.firstChild;)this.Yb.removeChild(this.Yb.firstChild);for(var a=l(vr),b=a.next();!b.done;b=a.next()){b=b.value;var c=document.createElement("option");c.innerText=b;c.value=b;this.Jd.appendChild(c)}Ar.prototype.show.call(this);this.M()};Dr.prototype.eD=function(){var a=this,b=document.createElement("div");b.style.display="inline-block";b.style.marginRight="10px";var c=Br();c.innerText=Ig;b.appendChild(c);this.Jd=Cr();this.Jd.style.borderWidth="1px";this.Jd.style.borderStyle="solid";this.Jd.style.borderRadius="4px";this.Jd.style.marginTop="4px";this.Jd.style.width="200px";this.Jd.style.height="200px";this.Jd.style.padding="2px";this.Jd.style.overflow="auto";this.Jd.onchange=function(){for(var d=a.Jd.selectedOptions.length,e=[].concat(ja(a.Jd.selectedOptions)),f=0;f<d;f+=1){var g=e[f];g.selected=!1;a.Yb.appendChild(g)}};b.appendChild(this.Jd);return b};Dr.prototype.hD=function(){var a=this,b=document.createElement("div");b.style.display="inline-block";var c=Br();c.innerText=Fg;b.appendChild(c);this.Yb=Cr();this.Yb.style.borderWidth="1px";this.Yb.style.borderStyle="solid";this.Yb.style.borderRadius="4px";this.Yb.style.marginTop="4px";this.Yb.style.width="200px";this.Yb.style.height="200px";this.Yb.style.padding="2px";this.Yb.style.overflow="auto";this.Yb.onchange=function(){for(var d=a.Yb.selectedOptions.length,e=[].concat(ja(a.Yb.selectedOptions)),f=0;f<d;f+=1){var g=e[f];g.selected=!1;a.Jd.appendChild(g)}};b.appendChild(this.Yb);return b};Dr.prototype.VG=function(){for(var a=l(this.Yb.options),b=a.next();!b.done;b=a.next())zr.JB(b.value.value);this.D()};function Er(){Ar.call(this);Nb()&&(this.element.style.height="307px");this.Ie.innerText=Kg}q(Er,Ar);Er.prototype.qg=function(){for(;null!==this.Yb.firstChild;)this.Yb.removeChild(this.Yb.firstChild);for(var a=l(vr),b=a.next();!b.done;b=a.next()){b=b.value;var c=document.createElement("option");c.innerText=b;c.value=b;this.Yb.appendChild(c)}Ar.prototype.show.call(this);this.M()};Er.prototype.eD=function(){return document.createElement("div")};Er.prototype.hD=function(){var a=document.createElement("div");a.style.display="inline-block";var b=Br();b.innerText=Fg;a.appendChild(b);this.Yb=Cr();this.Yb.style.width="200px";Nb()&&(this.Yb.style.height="200px");a.appendChild(this.Yb);return a};Er.prototype.VG=function(){for(var a=l(this.Yb.selectedOptions),b=a.next();!b.done;b=a.next())zr.JB(b.value.value);this.D()};function Fr(){var a;return void 0===(null===(a=Em.current)||void 0===a?void 0:a.Fa)}var Gr;function Hr(a,b,c){return Fr()?(void 0===Gr||void 0!==b&&!b?oo(void 0===a?"Login required":a,function(){null!==window.top&&(window.top.location.href="/auth/login/?next="+window.location.pathname+window.location.search)},c):Gr(),!0):!1};function Ir(a,b){a.style.webkitTransition=b;a.style.transition=b;void 0!==a.style.setProperty&&a.style.setProperty("moz-transition",b)}function Jr(a,b){a.style.userSelect=b;a.style.webkitUserSelect=b;a.style.msUserSelect=b;void 0!==a.style.setProperty&&a.style.setProperty("moz-user-select",b)};var Kr={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function Lr(a){var b=void 0===b?{red:200,green:200,blue:200}:b;var c=a.toLowerCase();if(/^[a-z]+$/.test(c)){var d=Kr[c];void 0!==d&&(c=d)}if(/^#([a-fA-F0-9]{3}){1,2}$/.test(c))return b=c,4===b.length&&(b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]),b=Number("0x"+b.substring(1)),{red:b>>16&255,green:b>>8&255,blue:b&255};if(0===c.indexOf("rgb")){a=a.match(/\d+(\.\d+)?%?/g);if(null===a||3>a.length||4<a.length)return b;a=[a[0],a[1],a[2]];b=[];for(c=0;3>c;c+=1)b[c]=-1!==a[c].indexOf("%")?Math.round(2.55*parseFloat(a[c])):Number(a[c]),0>b[c]?b[c]=0:255<b[c]&&(b[c]=255);return{red:b[0],green:b[1],blue:b[2]}}return b};function Mr(a,b,c){gr.call(this);var d=this;this.$u=b;this.$q=c;this.Kc=document.createElement("input");this.mG=!1;this.nG=new t("pickerImgLoaded");this.wB=a;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.height="auto";this.element.style.opacity="0";Ir(this.element,"opacity 250ms");B("keydown",this.element,function(e){27===e.keyCode&&d.D()});this.Mc.h(function(){d.D()});Nr(this);Or(this)}q(Mr,gr);function Nr(a){var b=document.createElement("canvas");b.style.cursor="crosshair";b.style.border="1px solid #000001";a.element.appendChild(b);var c=document.createElement("img");"https://static-assets.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1".startsWith("/")||c.setAttribute("crossorigin","anonymous");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1";c.onload=function(){b.width=c.width;b.height=c.height;b.onclick=function(){a.ru=a.Kc.value;a.$u(a.Kc.value);a.D()};b.onmousemove=function(e){var f=b.getContext("2d");if(null!==f&&0<e.offsetX&&0<e.offsetY&&e.offsetX<b.clientWidth&&e.offsetY<b.clientHeight){var g=f.getImageData(e.offsetX,e.offsetY,1,1).data;e=a.Kc;f=g[0];var h=g[1];g=g[2];(255<f||255<h||255<g||0>f||0>h||0>g)&&w("Invalid rgb color value: r: "+f+", g: "+h+", b: "+g);f=("000000"+(f<<16|h<<8|g).toString(16)).slice(-6);e.value="#"+f}else a.Kc.value=a.ru;a.$q(a.Kc.value)};b.onmouseleave=function(){a.Kc.value=a.ru;a.$q(a.Kc.value)};var d=b.getContext("2d");null!==d&&d.drawImage(c,0,0,c.width,c.height);a.Kc.style.width=b.width-8+"px";a.mG=!0;a.nG.j(void 0)}}function Or(a){a.Kc.type="text";a.Kc.style.display="block";a.Kc.style.border="1px solid #000000";a.Kc.style.padding="2px 4px";a.Kc.style.position="relative";a.Kc.style.top="-3px";a.Kc.style.fontSize="12px";a.Kc.oninput=function(){a.$q(a.Kc.value)};B("keydown",a.Kc,function(b){13===b.keyCode&&(a.$u(a.Kc.value),a.D())});a.element.appendChild(a.Kc)}
Mr.prototype.H=function(){this.element.style.left=this.wB.offsetLeft+"px";this.element.style.top=this.wB.offsetTop+this.wB.offsetHeight+2+"px"};Mr.prototype.show=function(a){this.ru=a;if(this.mG)this.tH();else this.nG.once(this.tH.bind(this))};Mr.prototype.tH=function(){this.Kc.value=this.ru;this.element.style.opacity="1";this.element.style.visibility="";this.Eh();this.M()};Mr.prototype.D=function(){var a=this;this.Fb();this.element.style.opacity="0";window.setTimeout(function(){a.element.style.visibility="hidden"},250)};var Pr=new t("switchedToHLS"),Qr=new t("openDefaultTipCalloutRequest"),Rr=new t("loginOverlayRequest"),Sr=new t("makeButtonsShort"),Tr=new t("userChatSettingsUpdate",{ef:50}),Ur=new t("openPhotoVideoTabRequest");function Vr(a,b){x.call(this);var c=this;this.ua=document.createElement("input");this.onChange=function(){};this.disabled=!1;this.ua.type="checkbox";this.ua.style.position="absolute";this.ua.style.opacity="0";this.ua.style.margin="0";this.ua.style.padding="0";this.ua.style.width="0";this.ua.style.height="0";this.ua.style.border="none";this.ua.style.zIndex="-1";this.vH();void 0!==a&&this.To(a);void 0!==b&&this.Ir(b);this.element.appendChild(this.ua);this.Oh();this.element.onclick=function(d){c.disabled||d.target===c.ua||(c.toggle(),c.ua.focus(),d.preventDefault())};this.ua.onchange=function(){c.To(c.ua.checked)}}q(Vr,x);k=Vr.prototype;k.toggle=function(){this.ua.checked=!this.ua.checked;this.onChange();this.Oh()};k.focus=function(){this.ua.focus()};k.blur=function(){this.ua.blur()};k.To=function(a){this.ua.checked=a;this.Oh();this.onChange()};function Wr(a,b){a.ua.checked=b;a.Oh()}k.Ir=function(a){this.onChange=a};k.disable=function(){this.disabled=!0;this.Oh()};k.enable=function(){this.disabled=!1;this.Oh()};function Xr(a,b,c){Vr.call(this,b,c);this.Hy=!1;this.element.style.height=a+"px";this.element.style.width=a+"px"}q(Xr,Vr);Xr.prototype.vH=function(){var a=this;y(this.element,"transparentCheckbox");this.element.style.display="inline-block";this.element.style.position="relative";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderRadius="2px";B("focus",this.ua,function(){a.Hy&&y(a.element,"focused")});B("blur",this.ua,function(){a.Hy&&z(a.element,"focused")})};Xr.prototype.Oh=function(){this.ua.checked?y(this.element,"checked"):z(this.element,"checked");this.disabled?y(this.element,"disabled"):z(this.element,"disabled")};Xr.prototype.ji=function(){return this.ua.name};Xr.prototype.Lv=function(a){this.ua.title=a};function Yr(){Vr.apply(this,arguments)}q(Yr,Vr);Yr.prototype.vH=function(){this.element.style.transition="border 0.4s ease 0s, box-shadow 0.4s ease 0s, background-color 1.4s ease 0s";this.element.style.width="50px";this.element.style.height="30px";this.element.style.borderRadius="20px";this.element.style.lineHeight="30px";this.element.style.position="relative";this.element.style.userSelect="none";this.element.style["-webkit-tap-highlight-color"]="transparent";this.element.style.display="inline-block";this.element.style.verticalAlign="middle";this.element.style.cursor="pointer";this.element.style.boxSizing="content-box";this.button=document.createElement("div");this.button.style.backgroundColor="white";this.button.style.height="30px";this.button.style.width="30px";this.button.style.top="0";this.button.style.borderRadius="100%";this.button.style.display="block";this.button.style.background="white";this.button.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.6)";this.button.style.transition="left 0.2s";this.button.style.overflow="hidden";this.button.style.position="absolute";this.element.appendChild(this.button)};Yr.prototype.Oh=function(){this.ua.checked?(this.element.style.backgroundColor="rgb(246, 115, 0)",this.element.style.boxShadow="rgb(246, 115, 0) 0 0 0 16px inset",this.element.style.border="1px solid rgb(246, 115, 0)",this.button.style.left="20px"):(this.element.style.backgroundColor="rgb(233, 233, 233)",this.element.style.boxShadow="rgb(233, 233, 233) 0 0 0 16px inset",this.element.style.border="1px solid rgb(223, 223, 223)",this.button.style.left="0")};function Zr(){}function $r(a,b){b.style.margin="4px 0 7px 4px"}Zr.prototype.cw=function(a,b){a.innerText=b;a.style.fontSize="12px";a.style.display="inline-block";a.style.marginBottom="5px"};function as(a,b){y(b,"chat-settings-input");b.style.display="block";b.style.fontSize="12px";b.style.marginTop="0";b.style.borderWidth="1px";b.style.borderStyle="solid";b instanceof HTMLSelectElement&&(y(b,"chat-settings-select"),b.style.height="24px",b.style.width="100%")};var bs=!1,cs=new Map;function ds(){this.th=10}var es;function fs(){void 0===es&&(es=new ds);return es}function gs(a,b){b=b.match(/\d/g);null!==b&&(b=parseInt(b.join(""))+3,a.th!==b&&(a.th=b,hs(a)))}
function is(a,b,c,d,e){b=void 0===b?!1:b;a=(void 0===e?0:e)||!(b||void 0!==d&&d)?10:a.th;c=void 0===c?!1:c;c=W("div",{style:{display:"inline-block"},colorClass:["noteIconSvg",void 0===b||b?"regMsg":"roomNoticeMsg",(void 0===c?0:c)?"fvm":"tm"]},W("svg",{height:"12",width:"12",viewBox:"0 0 12 12",xmlns:"https://www.w3.org/2000/svg"},W("path",{d:"M5.5 2.00002H2C1.73478 2.00002 1.48043 2.10537 1.29289 2.29291C1.10536 2.48044 1 2.7348 1 3.00002V10C1 10.2652 1.10536 10.5196 1.29289 10.7071C1.48043 10.8947 1.73478 11 2 11H9C9.26522 11 9.51957 10.8947 9.70711 10.7071C9.89464 10.5196 10 10.2652 10 10V6.50002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),W("path",{d:"M9.25 1.24985C9.44891 1.05094 9.7187 0.939194 10 0.939194C10.2813 0.939194 10.5511 1.05094 10.75 1.24985C10.9489 1.44877 11.0607 1.71855 11.0607 1.99985C11.0607 2.28116 10.9489 2.55094 10.75 2.74985L6 7.49985L4 7.99985L4.5 5.99985L9.25 1.24985Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})));c.firstElementChild instanceof SVGElement&&(b=c.firstElementChild,b.style.height=a+"px",b.style.width=a+"px",b.style.display="inline-block",b.style.marginLeft="2px");return c}
function hs(a){document.querySelectorAll(".notesIcon_msg").forEach(function(b){var c=b.querySelector("svg");b=b.querySelector("img");if(null!==c){b={height:a.th,width:a.th};var d=c.querySelector("use");if(null!==d)for(var e=l(Object.keys(b)),f=e.next();!f.done;f=e.next())f=f.value,d.setAttribute(f,b[f]);c.style.height=a.th+"px";c.style.width=a.th+"px"}else null!==b&&(b.height=a.th,b.width=a.th,b.style.height=a.th+"px",b.style.width=a.th+"px")})}
function js(a){var b=this;this.Vq=new Set;(bs=void 0===a||a)||ks().then(function(c){c.forEach(function(d){b.Vq.add(d)})}).catch(function(){w("Could not retrieve list of users for which currentUser has notes on")})}var ls;function ms(a){void 0===ls&&(ls=new js(a));return ls}js.prototype.lq=function(a){return this.Vq.has(a)};function ns(a,b){a.Vq.add(b);os(b,!0)}js.prototype.remove=function(a){this.Vq.has(a)&&(this.Vq.delete(a),os(a,!1))};function os(a,b){document.body.querySelectorAll(".notesIcon_"+a).forEach(function(c){c.style.display=b?"inline-block":"none"})}function ps(a){var b;a=new N(a);var c=fo(a,"error",!1);if(void 0===c)return{success:T(a,"success")};a=new N(c);c=null===(b=Yn(a,"text"))||void 0===b?void 0:b.map(function(d){return{message:Q(d,"message"),code:Q(d,"code")}});b={text:void 0===c?[]:c};return{success:T(a,"success"),error:b}}
function ks(){return E("api/notes/usernames/").then(function(a){a=new N(a.responseText);return JSON.parse(eo(a,"usernames"))})}function qs(a){return E("api/notes/for_user/"+a+"/").then(function(b){return{text:P(new N(b.responseText),"text")}})}function rs(a){return new Promise(function(b,c){F("api/notes/for_user/"+a.cb+"/",{text:a.text}).then(function(d){d=ps(d.responseText);b(d)}).catch(function(d){c(d.status)})})}
function ss(a,b,c,d){x.call(this);this.$h=a;this.wf=b;this.Pz=c;this.WF=d;this.Ku=!0;this.element.style.position="relative";this.element.appendChild(this.Tg());ts(this)}q(ss,x);ss.prototype.Tg=function(){this.Mw=function(){};return document.createElement("div")};function ts(a){if(bs)a.Ui=a.Ra.value,a.Ra.placeholder=Bl,a.Ku=!1;else{var b=us(a);qs(a.wf).then(function(c){c=void 0===c.text?"":c.text;void 0!==b&&c===b.Ui?(a.Ra.value=b.vk,a.vk=b.vk):(a.Ra.value=c,a.vk=c);a.Ui=c;a.Ra.placeholder=Bl;a.Ku=!1;a.Mw();a.Ra.selectionStart=a.Ra.selectionEnd=a.Ra.value.length;a.Ra.blur();a.Ra.focus();a.Ra.scrollTop=a.Ra.scrollHeight}).catch(function(){w("Unable to get notes for user "+a.wf)})}}function us(a){return cs.has(a.wf)?cs.get(a.wf):void 0}
function vs(a){if(!bs||!Hr('You must be logged in to add a Note. Click "OK" to login.')){var b=a.Ra.value.trim();a.Ui!==b&&300>=b.length?rs({cb:a.wf,text:b}).then(function(c){if(c.success)a.Ui=b,a.Ra.blur(),cs.has(a.wf)&&cs.delete(a.wf),a.Pz(),L("NoteSaved",{username:a.$h,to_user:a.wf}),""===a.Ui?ms(!1).remove(a.wf):ns(ms(!1),a.wf);else if(void 0!==c.error){var d="Following error(s) occurred:<br/>";c.error.text.forEach(function(e){d+="Note text: "+e.message+" <br/>"});V(d,void 0,!0)}}).catch(function(){w("Was not able to update notes for user "+
a.wf)}):300<b.length?V("Note text must be shorter than 300 characters."):a.Pz()}}function ws(){ss.apply(this,arguments)}q(ws,ss);ws.prototype.Tg=function(){function a(){c.Ku||(c.vk=c.Ra.value.trim(),bs||cs.set(c.wf,{Ui:c.Ui,vk:c.vk}),c.Ra.value!==c.Ui?(void 0!==v&&(clearTimeout(v),v=void 0),void 0!==c.WF&&c.WF()):v=window.setTimeout(function(){p||(m.style.display="none",g.style.display="none");p=!1},500),c.Mw())}function b(){vs(c);n.style.opacity="0.5";n.style.cursor="not-allowed"}var c=this,d=document.createElement("div");d.style.paddingTop="8px";y(d,"ucmNote");d.style.borderTopWidth="1px";d.style.borderTopStyle="solid";var e=document.createElement("div");y(e,"notesIcon");e.style.display="inline-block";e.style.width="12px";e.style.height="12px";e.style.marginRight="5px";e.style.marginLeft="1px";var f=document.createElement("span");f.textContent=zl;f.style.display="inline-block";f.style.verticalAlign="top";f.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";f.style.fontSize="12px";f.style.lineHeight="12px";var g=document.createElement("span");g.textContent=Cl;g.style.display="inline-block";g.style.verticalAlign="top";g.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";g.style.fontSize="12px";g.style.lineHeight="12px";g.style.marginLeft="2px";g.style.display="none";f.appendChild(g);var h=document.createElement("div");y(h,"ucmLinkColor");h.style.margin="0px 10px 8px 10px";h.style.height="15px";h.appendChild(e);h.appendChild(f);d.appendChild(h);this.Ra=document.createElement("textarea");this.Ra.style.width="calc(100% - 38px)";this.Ra.style.height="56px";this.Ra.style.lineHeight="14px";this.Ra.style.borderWidth="1px";this.Ra.style.borderStyle="solid";this.Ra.style.borderRadius="4px";this.Ra.style.resize="none";this.Ra.style.display="block";this.Ra.style.padding="7px 8px";this.Ra.style.margin="0px auto";this.Ra.style.overflow="auto";this.Ra.placeholder=Al;this.Ra.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";this.Ra.style.fontSize="100%";this.Ra.tabIndex=1;d.appendChild(this.Ra);var m=document.createElement("div");m.style.margin="10px 10px 0px 0px";m.style.textAlign="right";m.style.display="none";e=document.createElement("a");y(e,"cancelLink");e.innerText=vh;e.style.display="inline-block";e.style.marginRight="8px";e.style.verticalAlign="middle";e.style.cursor="pointer";e.href="#";e.tabIndex=3;var n=document.createElement("input");n.type="submit";n.value=yf;n.style.opacity="0.5";n.style.borderWidth="1px";n.style.borderStyle="solid";n.style.borderRadius="4px";n.style.boxSizing="border-box";n.style.cursor="pointer";n.style.height="27px";n.style.width="69px";n.style.font="16px UbuntuMedium,Helvetica,sans-serif";n.style.webkitAppearance="none";n.style.display="inline-block";n.style.textAlign="center";n.tabIndex=2;var p=!1,v;this.Mw=function(){if(!c.Ku){var A=c.Ui!==c.vk,D=300>=c.Ra.value.length;n.style.opacity=A&&D?"1":"0.5";n.style.cursor=A&&D?"pointer":"not-allowed";g.style.display=A?"":"none";m.style.display=A?"":"none"}};Mb()&&B("keyup",this.Ra,function(A){8===A.keyCode&&a()});Eb()&&B("keyup",this.Ra,function(){""===c.vk&&(c.Ra.placeholder=Bl)});B("input",this.Ra,function(){a()});B("click",this.Ra,function(A){A.stopPropagation()});B("keydown",this.element,function(A){A.ctrlKey||A.metaKey||27===A.keyCode||(A.stopPropagation(),!Hb()&&A.shiftKey&&13===A.keyCode&&(A.preventDefault(),p=!0,b()))});B("click",e,function(A){A.preventDefault();cs.has(c.wf)&&cs.delete(c.wf);c.Pz()});B("click",n,function(A){A.preventDefault();p=!0;b()});m.appendChild(e);m.appendChild(n);d.appendChild(m);e=document.createElement("div");e.style.margin="4px 0px";e.style.height="2px";d.appendChild(e);return d};var xs=new t("getChatMode");function ys(){x.apply(this,arguments);this.kx=new t("chatSettingsSavedRequest")}q(ys,x);k=ys.prototype;k.initData=function(){this.ri=this.gd=!1;this.TE=!0;this.uo=document.createElement("div");this.jv=document.createElement("div");this.form=document.createElement("form");this.UB=document.createElement("div");this.mk=document.createElement("input");this.Qg=document.createElement("span");this.Ln=document.createElement("select");this.Yt=document.createElement("select");this.Ot=document.createElement("select");this.Lr=new Yr(!1,this.Ec.bind(this));this.mu=document.createElement("select");this.Uu=document.createElement("select");this.Vu=document.createElement("select");this.KH=document.createElement("label");this.te=new sr({Jc:16,oE:"rgb(246, 115, 0)",HD:"#cccccc",UD:"rgb(246, 115, 0)"});this.Iq=document.createElement("label")};k.Na=function(){var a=this;this.element.style.width="100%";this.element.style.overflow="auto";this.element.style.boxSizing="border-box";this.element.style.padding="11px";this.element.style.fontSize="12px";this.element.style.position="static";this.form.style.marginBottom="40px";this.form.style.maxWidth="400px";this.element.appendChild(this.form);var b=document.createElement("div"),c=document.createElement("div");this.form.appendChild(b);this.form.appendChild(c);this.form.appendChild(this.UB);this.form.appendChild(this.uo);this.form.appendChild(this.jv);zs(this);zs(this);zs(this);zs(this);zs(this);var d=this.Sl(wk);d.style.marginTop="0";b.appendChild(d);b.appendChild(As(this));b.appendChild(Bs(this));b.appendChild(Cs(this));c.appendChild(this.Sl(xk));c.appendChild(Ds(this));c.appendChild(this.Ug(document.createElement("label"),yd,this.Ot,[{label:"Turn Off Autocomplete",value:"-1"},{label:"No Delay - 0s",value:"0"},{label:"Short - 0.5s",value:"500"},{label:"Medium - 1s",value:"1000"},{label:"Long - 1.5s",value:"1500"}]));this.UB.appendChild(this.Sl(yk));this.UB.appendChild(this.Ug(document.createElement("label"),zd,this.mu,[{label:"Dark Purple (Tipped 1000 recently)",value:"darkpurple"},{label:"Light Purple (Tipped 250 recently)",value:"lightpurple"},{label:"Dark Blue (Tipped 50 recently)",value:"darkblue"},{label:"Light Blue (Owns or purchased tokens)",value:"lightblue"}]));this.uo.appendChild(this.Sl(zk));this.uo.appendChild(this.Ug(document.createElement("label"),Bk,this.Uu,Es()));this.uo.appendChild(this.Ug(document.createElement("label"),Ck,this.Vu,Es()));this.jv.appendChild(this.Sl(Ak));this.jv.appendChild(Fs(this));this.jv.appendChild(Gs(this));Tr.h(function(e){a.ls(e);gs(fs(),e.fontSize)});M.h(function(e){a.hh(e);gs(fs(),e.C.za.fontSize)})};function Hs(a){void 0!==a.rt&&a.rt.D();void 0!==a.Eo&&a.Eo.D()}function Is(a,b){a.mk.value=b;a.Qg.style.color=b;a.Qg.style.backgroundColor=b}
k.fG=function(a){if(!this.Za()){if(Hr('You must be logged in to change chat color. Click "OK" to login.')){a.preventDefault();return}if(!this.ri){V("You must be a supporter to change chat color");a.preventDefault();return}}void 0===this.rt&&(this.rt=this.I(new Mr(this.Qg,this.$u.bind(this),this.$q.bind(this))));this.rt.show(this.mk.value)};k.$u=function(a){Is(this,a);this.Ec()};k.$q=function(a){Is(this,a)};k.Ug=function(a,b,c,d){var e=this,f=document.createElement("div");$r(zs(this),f);f.appendChild(a);f.appendChild(c);if(void 0!==d&&c instanceof HTMLSelectElement){d=l(d);for(var g=d.next();!g.done;g=d.next()){g=g.value;var h=document.createElement("option");h.innerText=g.label.toString();h.value=g.value.toString();c.appendChild(h)}}zs(this).cw(a,b);as(zs(this),c);f.onclick=function(m){Hr('You must be logged in to change chat settings. Click "OK" to login.')?m.preventDefault():m.target!==c&&c.focus()};c.onmousedown=function(m){Hr('You must be logged in to change chat settings. Click "OK" to login.')&&m.preventDefault()};B("change",c,function(){e.Ec()});return f};function As(a){var b=a.Ug(document.createElement("label"),ud,a.Qg);b.appendChild(a.mk);y(a.Qg,"colorSwatch");a.Qg.style.width="20px";a.Qg.style.height="20px";a.Qg.style.border="1px solid "+Xc.Ht;a.Qg.style.cursor="pointer";a.Qg.style.verticalAlign="middle";a.Qg.onmousedown=a.fG.bind(a);b.onclick=a.fG.bind(a);a.mk.type="hidden";return b}
function Bs(a){function b(d){a.Za()||(Hr('You must be logged in to change font family. Click "OK" to login.')?d.preventDefault():a.ri||(d.preventDefault(),a.Ln.blur(),V("You must be a supporter to change font family")))}var c=a.Ug(document.createElement("label"),vd,a.Ln,[{label:"Default",value:"default"},{label:"Arial",value:"Arial, Helvetica"},{label:"Bookman Old Style",value:"Bookman Old Style"},{label:"Comic Sans",value:'"Comic Sans MS", cursive'},{label:"Courier",value:'"Courier New"'},{label:"Lucida",value:"Lucida"},{label:"Palantino",value:"Palantino"},{label:"Tahoma",value:"Tahoma, Geneva"},{label:"Times New Roman",value:'"Times New Roman"'}]);a.Ln.onmousedown=b.bind(a);c.onclick=b.bind(a);return c}function Cs(a){for(var b=[],c=9;20>=c;c+=1)b.push({label:c+"pt",value:c+"pt"});return a.Ug(document.createElement("label"),wd,a.Yt,b)}function Ds(a){var b=a.Ug(document.createElement("label"),xd,a.Lr.element);a.Lr.element.style.display="block";return b}
function Fs(a){var b="";xs.h(function(d){b=d});var c=a.Ug(a.KH,Ad,a.te.element);Js(a);a.pq(a.te.ed());a.te.rs.h(function(d){a.pq(d)});a.te.ss.h(a.pq.bind(a));a.te.qs.h(function(d){a.pq(d);L("TipVolumeChanged",{tipvol:d,chatmode:b});d=Math.round(a.te.ed());a.TE?(Xa("tipvol",""+d,60),a.za.zf=d,Tr.j(a.za)):a.Ec()});c.onclick=function(){};a.te.element.onmousedown=function(){};return c}k.pq=function(a){this.KH.innerText=Ad+" ("+Math.round(a)+"%)"};function Gs(a){var b=Ks(a,a.Iq);a.Iq.onclick=function(){Hr('You must be logged in to edit ignored users. Click "OK" to login.')||(void 0===a.Eo&&void 0===a.Eo&&(a.Eo=Kb()?new Er:new Dr),void 0!==a.Eo&&a.Eo.qg())};return b}
function Ks(a,b){var c=document.createElement("div");$r(zs(a),c);c.appendChild(a.Iq);y(b,"link");b.innerText=Bd;b.style.marginTop="16px";b.style.cursor="pointer";b.onmouseenter=function(){b.style.textDecoration="underline"};b.onmouseleave=function(){b.style.textDecoration="none"};return c}k.Sl=function(a){var b=document.createElement("div");zs(this);b.innerText=a;b.style.fontWeight="bold";b.style.fontSize="12px";b.style.margin="14px 0 8px";b.style.backgroundColor="";return b};k.Ec=function(){var a=this;Hr('You must be logged in to change chat settings. Click "OK" to login.')?Tr.j(this.za):(F("choose_viewer_chat_color/",{color:this.mk.value}).catch(function(b){a.mk.value=a.za.Xt;w("Error saving user chat color: "+b)}),F("api/viewerchatsettings/"+this.K+"/",Ls(this)).then(function(){a.kx.j(void 0);a.gd&&(a.za.bl=Xq(a.Uu.value),a.za.cl=Xq(a.Vu.value));a.za.Xt=a.mk.value;a.za.fontFamily=decodeURIComponent(a.Ln.value);a.za.fontSize=a.Yt.value;a.za.Qe=a.Lr.ua.checked;a.za.am=a.Ot.value;a.za.Fy=a.mu.value;a.za.zf=Math.round(a.te.ed());Tr.j(a.za)}).catch(function(b){w("Error saving user chat settings: "+b)}))};function Ls(a){var b={color:a.mk.value};b.font_family=decodeURIComponent(a.Ln.value);b.font_size=a.Yt.value;b.show_emoticons=""+a.Lr.ua.checked;b.emoticon_autocomplete_delay=a.Ot.value;b.highest_token_color=a.mu.value;b.viewer_tip_volume=""+Math.round(a.te.ed());a.gd&&(b.enter_notify=a.Uu.value,b.leave_notify=a.Vu.value);return b}
function Js(a){a.te.element.style.display="inline-block";a.te.element.style.border="none";a.te.element.style.verticalAlign="top";a.te.element.style.height="16px";a.te.element.style.width="100%"}k.H=function(){this.te.mg()};function zs(a){void 0===a.TC&&(a.TC=new Zr);return a.TC}
k.ls=function(a){this.za=a;Is(this,this.za.Xt);this.Ln.value=this.za.fontFamily;this.Yt.value=this.za.fontSize;Wr(this.Lr,this.za.Qe);this.Ot.value=this.za.am;this.mu.value=this.za.Fy;this.te.qf(this.za.zf);this.pq(this.za.zf);Jn=this.za.zf};k.Za=function(){return!1};k.hh=function(a){this.ls(a.C.za);this.K=a.C.A;this.gd=a.C.gd;this.ri=a.C.ri;this.TE=a.B.xc;this.gd?(this.uo.style.display="block",this.Uu.value=Ms(this.za.bl),this.Vu.value=Ms(this.za.cl)):this.uo.style.display="none"};function Es(){return[{label:"All Registered Users",value:"orga"},{label:"Mods, Fans, and Users With Tokens",value:"orgb"},{label:"Mods and Fans",value:"org"},{label:"No Users",value:"none"}]}function Ms(a){switch(a){case 0:return"orga";case 1:return"orgb";case 2:return"org";case 3:return"none";default:return w("Invalid enter/leave setting: "+a),"orgb"}};function Ns(a,b){function c(f){d.state.ea&&!d.xe&&(d.xe=!0,L("UserUnmuted",{chatMode:d.Rg}));f!==d.state.volume&&d.$j(f)}x.call(this);var d=this;this.F=a;this.state={volume:60,ea:!0};this.xe=!1;this.mL=b;this.state.ea=Os();this.state.volume=Ps();this.element.style.bottom="0px";this.element.style.left="0px";this.element.style.height="32px";this.element.style.background="url(https://static-assets.highwebmedia.com/tsdefaultassets/ConfigBarNoEdge.png) repeat-x";this.La=this.I(new sr({Jc:11,Mg:66,ik:4,rE:"https://static-assets.highwebmedia.com/tsdefaultassets/SliderKnob.png",Vw:"https://static-assets.highwebmedia.com/tsdefaultassets/SliderBar.png"}));this.La.element.style.position="absolute";this.La.element.style.left="30px";this.La.element.style.bottom="10px";this.La.qf(this.state.volume);this.La.rs.h(function(f){d.state.ea&&!d.xe&&(d.xe=!0,L("UserUnmuted",{chatMode:d.Rg}));d.F.Ag(!1);d.Zf();c(f)});this.La.ss.h(c);this.La.qs.h(function(f){c(f);0===d.state.volume&&d.F.Ag(!0);L("ChangeVolume",{volume:f})});b=document.createElement("div");b.style.width="115px";b.style.height="100%";b.style.cssFloat="left";this.element.appendChild(b);this.Vv=document.createElement("img");this.Vv.src="https://static-assets.highwebmedia.com/tsdefaultassets/ConfigBar.png";this.Vv.style.width="100%";this.Vv.style.height="100%";b.appendChild(this.Vv);this.Ka=document.createElement("img");this.Ka.src="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume0.png";this.Ka.style.position="absolute";this.Ka.style.bottom="6px";this.Ka.style.left="5px";this.Ka.onclick=function(){L("ToggleMute",{newState:!d.state.ea});L("ChangeVolume",{volume:d.state.volume});d.state.ea?(d.xe||(d.xe=!0,L("UserUnmuted",{chatMode:d.Rg})),d.Zf()):d.Sk()};b.appendChild(this.Ka);var e=fb();document[ib()]=function(){jb()||(e=!1,d.Wa.style.display="none",V("Full screen is unavailable."))};this.Wa=document.createElement("img");this.Wa.src="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonFullscreen.png";this.Wa.style.position="relative";this.Wa.style.top="1px";this.Wa.style.cssFloat="right";fb()||(this.Wa.style.display="none");this.Wa.onclick=function(){e&&d.F.cm()};this.element.appendChild(this.Wa);this.Ua=document.createElement("img");this.Ua.src="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonQuality.png";this.Ua.style.position="relative";this.Ua.style.top="1px";this.Ua.style.display="none";this.Ua.style.cssFloat="right";this.Ua.onclick=function(){d.mL.show()};this.element.appendChild(this.Ua);this.dl=document.createElement("img");this.dl.src="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonScale.png";this.dl.style.position="relative";this.dl.style.top="1px";this.dl.style.cssFloat="right";this.dl.style.display=jb()?"":"none";this.dl.onclick=function(){var f=d.F;f.Uy=!f.Uy;Qs(f)};this.element.appendChild(this.dl);M.h(function(){d.$f();Rs(d)});jr.h(function(){d.Sk()});a.wg.h(function(f){if(0===f.length)d.Ua.style.display="none";else{d.Ua.style.display="";var g="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonQuality.png";f=l(f);for(var h=f.next();!h.done;h=f.next())if(h=h.value,h.label.includes("4K")||h.label.includes("HD")){if(g="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonQualityHDAvil.png",!0===h.sl){g="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png";break}}else h.label.includes("Auto")&&720<=parseInt(h.label.slice(6,-2))&&(g="https://static-assets.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png");d.Ua.src=g}});xs.h(function(f){d.Rg=f});Rs(this);this.D()}
q(Ns,x);k=Ns.prototype;k.Ec=function(){mb()&&!this.F.rg&&window.localStorage.setItem("videoControls",JSON.stringify({volume:this.state.volume,isMuted:this.state.ea}))};function Ps(){if(mb()){var a=window.localStorage.getItem("videoControls");if(null!==a)return JSON.parse(a).volume}return 60}function Os(){if(mb()){var a=window.localStorage.getItem("videoControls");if(null!==a)return JSON.parse(a).isMuted}return!1}k.show=function(){this.element.style.visibility=""};k.D=function(){this.element.style.visibility="hidden"};k.Sk=function(){!0!==this.state.ea&&(this.state.ea=!0,Rs(this))};k.Zf=function(){!1!==this.state.ea&&(this.state.ea=!1,0===this.state.volume&&(this.state.volume=60),Rs(this))};k.H=function(){this.dl.style.display=jb()?"":"none"};function Rs(a){a.$f();a.F.an(a.state.volume,a.state.ea);a.La.qf(a.state.volume);a.Ec();In=a.state.ea?0:a.state.volume}
k.$f=function(){this.Ka.src=!0===this.state.ea?"https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume0.png":0===this.state.volume?"https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume1.png":40>this.state.volume?"https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume2.png":70>this.state.volume?"https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume3.png":"https://static-assets.highwebmedia.com/tsdefaultassets/ButtonVolume4.png"};k.$j=function(a){this.state.volume!==a&&(this.state.volume=a,0!==a&&(this.state.ea=!1),Rs(this))};k.Gg=function(a){this.xe||a||(this.xe=!0);this.state.ea=a;Rs(this)};k.NB=function(a){this.$j(a);this.Ec()};k.MB=function(a){this.Gg(a);this.Ec()};k.gj=function(){this.D()};k.cd=function(){return"hidden"===this.element.style.visibility?0:32};k.wu=function(){return!1};var Ss=window.Hls;function Ts(a){a=void 0===a?{}:a;var b=Us().kk;void 0!==b&&"a"===b.charAt(b.length-1)&&(a.tabHidden=document.hidden,a.videoSessionID=Us().value,L("VideoMetric",a,!0))}function Vs(){return Bb()?window.performance.now():(new Date).getTime()}function Ws(){var a=window.browserId;void 0!==a?this.kk=a:(a=window.initialRoomDossier,void 0!==a&&(this.kk=br(new N(a)).kk))}var Xs;Ws.prototype.clear=function(){this.Dw=void 0};function Us(){void 0===Xs&&(Xs=new Ws);return Xs}
ea.Object.defineProperties(Ws.prototype,{value:{configurable:!0,enumerable:!0,get:function(){void 0===this.Dw&&(this.Dw=this.kk+":"+(new Date).getTime());return this.Dw}}});function Ys(){Bb()&&(this.start=Vs())}
Ys.prototype.send=function(a,b,c){if(Bb()&&void 0!==this.start){var d=Vs()-this.start-b,e=this.start=Vs();a={eventName:"autoPlayDuration",autoPlayDuration:e/1E3,autoPlayDurationMS:e,autoPlayDurationNoDelay:d/1E3,autoPlayDurationNoDelayMS:d,autoPlayable:a};0!==b&&(a.autoPlayHiddenDelay=b/1E3,a.autoPlayHiddenDelayMS=b);void 0!==c&&null!==c&&(a.autoPlayError=c);Ts(a)}};function Zs(a){var b=this;this.IA=this.gC=!1;this.Ij=function(c){c=void 0===c?{}:c;var d={playerType:b.dL},e;for(e in c)d[e]=c[e];Ts(d)};this.QL=function(){var c={eventName:"playerCreated"},d=Dn().player;void 0!==d&&(c.playerOverride=d);b.Ij(c);b.hJ=Vs()};this.YF=function(c){b.zv=Vs();Us().kk=c.C.kk};this.ZF=function(){b.gC||(b.Iv(),Us().clear())};this.cr=function(){b.gC||(b.Iv(),b.gC=!0,b.uv())};this.dL=a;this.QL()}
function $s(a){a.uv();M.h(a.YF);Tn.h(a.ZF);B("beforeunload",window,a.cr);B("unload",window,a.cr);a.IA=!0}Zs.prototype.Iv=function(){if(void 0!==this.zv&&Bb()){this.KA=Vs();var a=this.KA-this.zv;this.Ij({eventName:"viewerDuration",viewerDuration:a/1E3,viewerDurationMS:a});return a}};Zs.prototype.uv=function(){this.IA&&(C("beforeunload",window,this.cr),C("unload",window,this.cr),M.removeListener(this.YF),Tn.removeListener(this.ZF),this.IA=!1)};function at(a){Zs.call(this,a);var b=this;this.nu=this.KE=this.My=this.qu=!1;this.PL=function(){if(!b.My){var c={eventName:"videoPlaying",isAjax:!1,bitrate:b.Un},d=b.iJ();void 0!==d&&b.Ij({eventName:"broadcastDelay",broadcastDelayMS:d,broadcastDelay:d/1E3});d=Vs();if(void 0===b.Ly)u("Playing metric has triggered but htmlMediaLoadStartTime is undefined...skipping");else{var e=d-b.Ly;c.timeSinceMediaLoadStart=e/1E3;c.timeSinceMediaLoadStartMS=e}void 0!==b.Jy&&(e=d-b.Jy,c.timeSinceMediaAttaching=e/1E3,c.timeSinceMediaAttachingMS=e);if(b.KE){if(void 0===b.zv){u("Playing metric is for AJAX reload but roomLoadedTime is undefined...skipping");return}e=d-b.zv;c.timeSinceLoadAjax=e/1E3;c.timeSinceLoadAjaxMS=e;c.isAjax=!0;void 0===b.KA?u("Playing metric is for AJAX reload but roomUnloadedTime is undefined"):(e=d-b.KA,c.timeSinceUnloadAjax=e/1E3,c.timeSinceUnloadAjaxMS=e)}else d-=b.hJ,c.timeSincePlayerCreated=d/1E3,c.timeSincePlayerCreatedMS=d;b.Ij(c);b.My=!0;b.KE=!0}};this.OL=function(){var c=b.kb instanceof
HTMLMediaElement?b.kb.error:b.kb.error_;void 0!==c&&null!==c&&b.Ij({eventName:"playerError",errorCode:c.code,errorMessage:c.message,errorSource:"HTMLMediaElement",errorReadyState:b.kb.readyState,errorNetworkState:b.kb.networkState,bitrate:b.Un})};this.me=function(c){b.qu&&("playing"===c.type?b.PL():"loadstart"===c.type?b.Ly=Vs():"error"===c.type?b.OL():"stalled"===c.type?(c=c.target,void 0!==c&&null!==c&&b.Ij({eventName:"playerStalled",stalledReadyState:c.readyState,stalledNetworkState:c.networkState,bitrate:b.Un})):u("Received unknown HTMLMediaElement event: ",c))};this.pI=function(c){b.HG();b.hj=c;b.hj.on(Ss.Events.ERROR,b.sj);b.hj.on(Ss.Events.FRAG_CHANGED,b.sj);Bb()&&(b.hj.on(Ss.Events.LEVEL_SWITCHING,b.sj),b.hj.on(Ss.Events.LEVEL_SWITCHED,b.sj),b.hj.on(Ss.Events.MEDIA_ATTACHING,b.sj));b.nu=!0};this.cI=function(c){var d=c.level;if(void 0===d)u("Received Hls.Events.LEVEL_SWITCHING without a level: ",c);else{for(var e=l(["bitrate","height","width"]),f=e.next();!f.done;f=e.next())if(f=f.value,isNaN(c[f])){u("Level "+f+" is not a number: "+c[f]+"...skipping");return}b.GE[d]=c;b.HE.unshift({level:d,ts:Vs()})}};this.TL=function(c){var d=c.level;if(void 0===d)u("Received Hls.Events.LEVEL_SWITCHED without a level: ",c);else{var e=b.GE[d];if(void 0===e)u("Received unknown Hls.Events.LEVEL_SWITCHED level: ",c);else{c=l(b.HE);for(var f=c.next();!f.done;f=c.next())if(f=f.value,f.level===d){d=f.ts;d=Vs()-d;b.ou.push(d);break}if(void 0===b.mi||e.bitrate>b.mi.bitrate)b.mi=e;b.Un=e.bitrate}}};this.iJ=function(){if(void 0!==b.pu){var c=b.kb.currentTime()-b.pu.start;if(!(0>c||(c=(new Date).getTime()-b.pu.programDateTime+1E3*c,0>c||3E5<c)))return c}};this.sj=function(c,d){b.nu&&(c===Ss.Events.LEVEL_SWITCHING?b.cI(d):c===Ss.Events.LEVEL_SWITCHED?b.TL(d):c===Ss.Events.FRAG_CHANGED?b.pu=d.frag:c===Ss.Events.MEDIA_ATTACHING?b.Jy=Vs():c===Ss.Events.ERROR?(c=b.kb.tech().el(),b.Ij({eventName:"playerError",errorCode:d.type,errorMessage:d.details,errorSource:"hls.js",errorReadyState:c.readyState,errorNetworkState:c.networkState,bitrate:b.Un,quality:b.aK})):u("Received unknown Hls.Event: ",c))};this.HG=function(){b.nu&&(b.hj.off(Ss.Events.ERROR,b.sj),b.hj.off(Ss.Events.FRAG_CHANGED,b.sj),Bb()&&(b.hj.off(Ss.Events.LEVEL_SWITCHING,b.sj),b.hj.off(Ss.Events.LEVEL_SWITCHED,b.sj)),b.nu=!1)};this.IG=function(){b.qu&&(b.kb instanceof HTMLMediaElement?(Bb()&&(C("playing",b.kb,b.me),C("loadstart",b.kb,b.me)),C("error",b.kb,b.me),C("stalled",b.kb,b.me)):(Bb()&&(b.kb.off("playing",b.me),b.kb.off("loadstart",b.me)),b.kb.off("error",b.me),b.kb.off("stalled",b.me)),b.qu=!1)};this.reset=function(){b.My=!1;b.GE=new Map;b.Un=void 0;b.HE=[];b.ou=[];b.mi=void 0;b.pu=void 0;b.Ly=void 0;b.Jy=void 0};this.reset()}q(at,Zs);function bt(a,b){a.IG();a.kb=b;a.kb instanceof HTMLMediaElement?(Bb()&&(B("playing",a.kb,a.me),B("loadstart",a.kb,a.me)),B("error",a.kb,a.me),B("stalled",a.kb,a.me)):(Bb()&&(a.kb.on("playing",a.me),a.kb.on("loadstart",a.me)),a.kb.on("error",a.me),a.kb.on("stalled",a.me));a.qu=!0}at.prototype.Bg=function(a){this.aK=a};at.prototype.Iv=function(){var a=Zs.prototype.Iv.call(this);if(void 0!==a&&5E3<a){void 0!==this.mi&&this.Ij({eventName:"levelMax",levelMaxName:this.mi.name,levelMaxBitrate:this.mi.bitrate,levelMaxAudioCodec:this.mi.audioCodec,levelMaxVideoCodec:this.mi.videoCodec,levelMaxHeight:this.mi.height,levelMaxWidth:this.mi.width,bitrate:this.Un});var b=this.ou.reduce(function(c,d){return c+d},0)/this.ou.length;isNaN(b)||this.Ij({eventName:"levelSwitchAvg",levelSwitchAvg:b/1E3,levelSwitchAvgMS:b,levelSwitchCount:this.ou.length})}this.reset();return a};at.prototype.uv=function(){Zs.prototype.uv.call(this);this.HG();this.IG()};var ct="1"===Dn().signup_notice;function dt(){x.call(this);var a=this;this.element.style.backgroundColor="#f7f6a8";this.element.style.fontSize="12px";this.element.style.padding="3px 10px";this.element.style.boxSizing="border-box";this.element.style.display="none";this.element.style.width="auto";this.element.style.height="auto";var b=document.createElement("a");b.innerText=pe;b.onclick=function(){L("Subscribe")};this.element.appendChild(b);this.element.appendChild(document.createTextNode(" -- totally free, no email needed"));ct&&M.h(function(c){window.self!==window.top&&(b.onclick=function(d){d.preventDefault();d="/accounts/register/?next="+encodeURIComponent(window.location.pathname)+"?b="+c.C.A;Kp(d,void 0,void 0)});b.href="/accounts/register/?next="+encodeURIComponent(window.location.pathname)+"?b="+c.C.A;a.element.style.display=c.B.xc?"block":"none"})}q(dt,x);function et(a,b){function c(e){return e instanceof d?e:new d(function(f){f(e)})}var d=void 0;return new(d||(d=Promise))(function(e,f){function g(n){try{m(b.next(n))}catch(p){f(p)}}function h(n){try{m(b["throw"](n))}catch(p){f(p)}}function m(n){n.done?e(n.value):c(n.value).then(g,h)}m((b=b.apply(a,[])).next())})};function Y(a){return{jd:1,message:a}}function ft(a){return{jd:0,cb:a}}function gt(a,b){return-1!==b.indexOf(a)?{jd:2,message:a}:Y("#"+a)};var ht;M.h(function(a){ht=a.C.A});function it(a){var b=jt(a);b.ii=P(a,"gender",!1);return b}
function jt(a){for(var b=new Map,c=l(["from_username","user","username"]),d=c.next();!d.done;d=c.next())d=d.value,void 0!==P(a,d,!1)&&b.set(d,P(a,d,!1));1!==b.size&&w('getStrings(["from_username", "user", "username"]): '+b+" length is not 1 in "+a.Sf);b=b.values().next().value;return{username:b,Za:b===ht,je:T(a,"in_fanclub"),Gf:T(a,"has_tokens"),Lc:T(a,"is_mod"),Eg:T(a,"tipped_recently"),Ii:T(a,"tipped_alot_recently"),Fg:T(a,"tipped_tons_recently"),dc:Q(a,"exploringHashTag",!1),sc:Cq(Q(a,"source_name",!1))}}function kt(a,b){!0!==O(b,"X-Successful")&&w("X-Successful not true?");b={T:it(b),message:Q(b,"m"),font:P(b,"f",!1),Uf:P(b,"c",!1),gf:Q(b,"i",!1),backgroundColor:P(b,"background",!1),R:Q(b,"tid",!1)};b.T.username!==a&&w("Parsing username match failed");return b}function lt(a){return{T:it(ao(a,"from_user")),message:Q(a,"message"),font:P(a,"font_family",!1),Uf:P(a,"font_color",!1),gf:Q(a,"id",!1),backgroundColor:P(a,"background",!1),R:Q(a,"tid",!1)}}
function mt(a){return{T:it(ao(a,"from_user")),message:Q(a,"m"),Uf:P(a,"c",!1),gf:Q(a,"i",!1),bb:Q(a,"other_user"),font:Q(a,"f"),ib:nt(go(a,"media")),R:Q(a,"tid",!1),az:!0}}function nt(a){var b=[];if(void 0===a)return b;a=l(a);for(var c=a.next();!c.done;c=a.next())c=c.value,b.push({ic:c.media_id,pl:c.media_thumbnail_url,url:c.media_url,xo:c.opened});return b}function ot(a){return{T:it(a),message:Q(a,"message"),amount:U(a,"amount"),Aq:T(a,"is_anonymous_tip"),fp:P(a,"to_username"),R:Q(a,"tid")}}
function pt(a){var b=O(a,"messages"),c=[];if("string"===typeof b)c.push([Y("Notice: "+b)]);else if(b instanceof Array){b=l(b);for(var d=b.next();!d.done;d=b.next())c.push([Y("Notice: "+d.value)])}else w("handleAppNotice error: Invalid message type "+(void 0===b?"undefined":b.toString()));b=P(a,"weight");return{zb:P(a,"foreground"),background:P(a,"background"),weight:""===b?void 0:b,sa:c,ya:T(a,"showInPrivateMessage",!1,!1),R:Q(a,"tid")}};function qt(a){this.Gh=[];this.zy=[];var b=a.match(/#[a-z0-9\-_]{2,50}/g);if(null!==b){b=l(b);for(var c=b.next();!c.done;c=b.next())this.zy.push(c.value.substr(1))}this.Gh=a.split(/#[a-z0-9\-_]{2,50}/g)};function rt(a){return 0===a.length?Promise.resolve([]):E("tags/approved_from_title/?title="+encodeURIComponent(a)).then(function(b){return b.responseText.split(",")})};var st=new t("privateMessage"),tt=new t("sitewideRoomNoticeEvent"),ut=new t("logMessage"),vt=new t("showPmSession"),wt=new t("closePmSession"),xt=new t("closePmSessionSyncPmList");new t("updateTipBalance");var yt=new t("updateSearchBar"),zt=new t("pmMarkedReadEvent");new t("pmEmoticonLoaded");var At=new t("navigateSuggestions"),Bt=new t("openCurrentSuggestion"),Ct=new t("suggestionSelectedEvent");function Dt(){et(this,function b(){return Ba(b,function(c){return ta(c,F(Et,{}),0)})})}function Ft(a){return et(this,function c(){var d=this,e;return Ba(c,function(f){e=d;return f.return(new Promise(function(g){return et(e,function m(){var n;return Ba(m,function(p){if(1==p.aa)return ta(p,E(""+Gt+encodeURI(a)),2);n=p.ae;g(Ht(n.responseText));p.aa=0})})}))})})}
function Ht(a){if(void 0!==a&&(a=JSON.parse(a),null!==a))return{description:a.description,fE:a.game_url,image:a.image_64x64,name:a.name,uid:a.uid,vs:a.viewers}}var Et="api/ts/games/deselect/",Gt="api/ts/games/current/room/",It=new t("gameSelectionChanged");function Jt(a){this.ma=a}window.debugAllMessages=function(){};var au={onAuthResponse:Kt,onRoomCountUpdate:Lt,onRoomMsg:Mt,onNotify:Nt,onTitleChange:Ot,onPrivateMsg:Pt,onPromotion:Qt,onRevoke:Rt,onPersonallyKicked:St,onSilence:Tt,onKick:Ut,onNotifyPrivateShowRequest:Vt,onNotifyPrivateShowApprove:Wt,onNotifyPrivateShowCancel:Xt,onNotifyLeavePrivateRoom:Yt,onNotifyTokenBalanceUpdate:Zt,onNotifyAwayModeCancel:$t};function Lt(a,b){1>b.O.length?w("Invalid onRoomCountUpdate args: "+b.O):""!==b.O[0]&&a.event.FA.j(parseInt(b.O[0]))}
function Kt(a,b){if(1<=b.O.length&&"1"===b.O[0]){b=a.oM;"notconnected"!==a.status&&(b=a.status);switch(b){case "offline":case "away":case "privaterequesting":case "privatenotwatching":case "privatespying":case "hidden":case "public":bu(a);cu(a,b);break;case "privatewatching":"notconnected"===a.status?(du(a),cu(a,b)):dr(a.A()).then(function(c){"privatewatching"===c.Ga?du(a):bu(a);cu(a,c.Ga)}).catch(function(c){w("Error getting room dossier on reconnect: "+c,{room:a.A()})});break;default:u("unexpected status: "+
b)}eu(a.Xe)}else 0<b.O.length&&"0"===b.O[0]||w("Error connecting!",{message:b})}function Ot(a,b,c){1>b.O.length?w("Invalid onTitleChange args: "+b.O):1<b.O.length&&"0"===b.O[1]||fu(a,b.O[0],c)}
function fu(a,b,c){if(""!==b){var d=[],e=Hc(b),f=new qt(e),g=function(h){for(var m=0;m<f.Gh.length;m+=1){var n=Y(f.Gh[m]);n.jG=!1;d.push(n);m<f.zy.length&&d.push(gt(f.zy[m],h))}a.event.Ia.j({sa:[d],colorClass:"titleChange",zb:"#DC5500",weight:"bold",ya:!1});a.event.BB.j(b)};void 0!==c?g(c):rt(b).then(g).catch(function(){g([])})}}
function Pt(a,b){""===b.O[0]?1<b.O.length?gu()?st.j({message:"",messageID:"08E3YGC",backgroundColor:void 0,fromUser:{username:"",isBroadcaster:!1,hasTokens:!1,inFanclub:!1,isMod:!1,tippedALotRecently:!1,tippedRecently:!1,tippedTonsRecently:!1,exploringHashTag:"",sourceName:"un",gender:"c"},otherUsername:"",mediaList:[],isPlaceholder:!0,isPrivate:!0}):a.event.Ia.j({sa:[[Y(b.O[1])]],ya:!0}):w("handlePrivateMessage args: "+b.O):(b=b.O,a=new N(b[1]),!0!==O(a,"X-Successful")&&w("X-Successful not true?"),b=Object.assign(Object.assign({},kt(b[0],a)),{bb:""!==b[2]?b[2]:b[0],ib:nt(go(a,"media")),az:!0}),ho(a),yr(b.T.username)||st.j(b))}function Qt(a,b){if(2!==b.O.length)w("Invalid onPromotion args: "+b.O);else{b.O[0]===a.username()&&a.event.DF.j(!0);var c=b.O[1];var d=b.O[0];c=H(G("%(from)s has granted moderator privileges to %(to)s."),{from:c,to:d},!0);a.event.Ia.j({sa:[[Y(c)]],ya:0<=b.O.indexOf(a.username())});qr.j({Lc:!0,username:b.O[0]})}}
function Rt(a,b){if(2!==b.O.length)w("Invalid onRevoke args: "+b.O);else{b.O[0]===a.username()&&a.event.DF.j(!1);var c=b.O[1];var d=b.O[0];c=H(G("%(from)s has revoked moderator privileges from %(to)s."),{from:c,to:d},!0);a.event.Ia.j({sa:[[Y(c)]],ya:0<=b.O.indexOf(a.username())});qr.j({Lc:!1,username:b.O[0]})}}
function St(a,b){1!==b.O.length?w("Invalid onPersonallyKicked args: "+b.O):(b=b.O[0],"rejoined"===b?b=me:"kicked"===b?b=ne:(u("createPersonallyKickedMessage called with unknown argument "+b),b=oe),a.event.Ia.j({sa:[[Y(b)]],ya:!0}),cu(a,"notconnected"))}
function Tt(a,b){if(2!==b.O.length)w("Invalid onSilence args: "+b.O);else{a.event.wv.j({username:b.O[0]});var c=a.event.Ia,d=c.j;var e=b.O[0];var f=b.O[1];e=H(G("User %(username)s was silenced by %(silencer)s and their messages have been removed"),{username:e,silencer:f},!0);d.call(c,{sa:[[Y(e)]],ya:0<=b.O.indexOf(a.username())});a.event.Yu.j({Nj:b.O[0],Yo:b.O[1],Jk:!1})}}
function Ut(a,b){if(1!==b.O.length)w("Invalid onKick args: "+b.O);else{a.event.wv.j({username:b.O[0]});var c=a.event.Ia,d=c.j;var e=b.O[0];e=H(G("User %(username)s was kicked out of the room and their messages have been removed"),{username:e},!0);d.call(c,{sa:[[Y(e)]],ya:b.O[0]===a.username()});a.event.Yu.j({Nj:b.O[0],Yo:a.A(),Jk:!0})}}
function Mt(a,b){if(""===b.O[0])1<b.O.length?"Chat disconnected. The broadcaster has set a new password on this room."===b.O[1]?(cu(a,"passwordprotected"),a.event.Ia.j({sa:[[Y(ae)]],ya:!0})):a.event.Ia.j({sa:[[Y(b.O[1])]],ya:!0}):w("roomMessage invalid args: "+b.O);else{var c=new N(b.O[1]);!0!==O(c,"X-Successful")&&w("X-Successful not true?");b=kt(b.O[0],c);yr(b.T.username)||(a.event.Av.j(Object.assign(Object.assign({},b),{xu:!0===O(c,"X-Spam")})),a.event.Jo.j(b))}}
function Vt(a,b){if(2>b.O.length)w("PrivateShowRequest invalid args: "+b.O);else{var c=b.O[0];a.wG=c;a.event.hL.j({WQ:c,OM:parseInt(b.O[1])});if(a.nc){switch(a.status){case "public":case "away":break;default:u("unexpected status: "+a.status)}cu(a,"privaterequesting");a.nc&&a.event.gr.j("show")}}}
function Wt(a,b){if(1!==b.O.length)w("Invalid privateShowApprove args: "+b.O);else{switch(a.status){case "public":cu(a,"privatenotwatching");break;case "privaterequesting":hu(a.Xe,"leaveRoom",{room:a.A()});du(a);cu(a,"privatewatching");break;default:u("private show approve unexpected status: "+a.status)}b=Y(ee);"privatewatching"===a.status?(a.event.Ia.j({sa:[[b]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0}),a.nc&&!Em.current.$b&&a.event.Ia.j({sa:[[Y(hm)]],ya:!0})):a.event.Ia.j({sa:[[b,Y(" ("),{jd:3},Y(")")]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0})}}
function Xt(a,b){function c(){cu(a,"away");a.event.Ia.j({sa:[[Y(fe)]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0})}0!==b.O.length&&w("Invalid privateShowCancel args: "+b.O);switch(a.status){case "privaterequesting":cu(a,"public");a.event.Ia.j({sa:[[Y(ge)]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0});break;case "away":case "hidden":case "public":break;case "privatewatching":hu(a.Xe,"leavePrivateRoom",{room:a.A()});bu(a);c();break;case "privatespying":case "privatenotwatching":c();break;default:u("privateShowCancel wrong room status: "+a.status)}}function Yt(){}function Zt(a,b){2!==b.O.length?w("Invalid tokenBalanceUpdate args: "+b.O):a.event.DB.j({Ja:Number(b.O[1])})}function $t(a,b){0!==b.O.length&&u("Invalid awayModeCancel args: "+b.O);switch(a.status){case "away":case "public":case "privaterequesting":a.event.Ia.j({sa:[[Y(le)]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0});cu(a,"public");break;default:w("unexpected state: "+a.status)}}
function Nt(a,b){var c=new N(b.O[0]),d=Q(c,"type");c.og("send_to");c.og("to_user");if("function"!==typeof iu[d])w("Unhandled onNotify type "+d,{message:b});else(0,iu[d])({ma:a,p:c,Pn:1<b.O.length&&"true"===b.O[1]})}
var iu={tip_alert:ju,log:ku,refresh_panel:lu,app_tab_refresh:mu,appnotice:nu,apperrorlog:ou,clear_app:pu,room_entry:qu,room_leave:ru,spy_room_leave:su,purchase_notification:tu,settingsupdate:uu,hidden_show_status_change:vu,hidden_show_approve:wu,hidden_show_deny:xu,is_restricted_hls_allowed:yu,compliance_image_required:zu,game_selection:Au};function ju(a){var b=ot(a.p);void 0!==a.Pn&&a.Pn||a.ma.event.gr.j(Bu(b.amount));a.ma.event.es.j(b);var c=[""===b.T.username?Y(af):ft(b.T),Y(" tipped "+b.amount+" "+(1<b.amount?"tokens":"token"))];b.Aq&&c.push(Y(" anonymously"));a.ma.nc&&(""!==b.message&&c.push(Y(" -- "+b.message)),E("tipping/get_token_balance/").then(function(d){d=new N(d.responseText);T(d,"success")&&a.ma.event.DB.j({Ja:U(d,"token_balance")})}).catch(function(){}));a.ma.event.Ia.j({sa:[c],background:"#ff3",zb:"#000",weight:"bold",ya:b.T.username===a.ma.username()||a.ma.nc,Tx:b.T.username})}function ku(a){var b=P(a.p,"msg");void 0===b?w("handleLog with an empty msg"):(a.ma.event.yv.j({message:b,type:Q(a.p,"type"),R:Q(a.p,"tid")}),a.ma.event.Nw.j(b))}function mu(a){a.ma.event.sC.j({})}function lu(a){a.ma.event.uA.j({})}
function nu(a){var b=O(a.p,"msg"),c=[];if("string"===typeof b)c.push([Y("Notice: "+b)]);else if(b instanceof Array){b=l(b);for(var d=b.next();!d.done;d=b.next())c.push([Y("Notice: "+d.value)])}else{w("handleAppNotice error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}c={sa:c,Te:P(a.p,"to_group"),Xb:P(a.p,"to_user"),background:P(a.p,"background",!1),zb:P(a.p,"foreground",!1),weight:P(a.p,"weight",!1),ya:!1,R:Q(a.p,"tid")};void 0!==a.Pn&&!1!==a.Pn||a.ma.event.Ej.j(c);a.ma.event.Ia.j(c)}
function ou(a){if(a.ma.nc){var b=O(a.p,"msg"),c=[];c.push([Y("Error: ")]);if("string"===typeof b)c.push([Y(b)]);else if(b instanceof Array){b=l(b);for(var d=b.next();!d.done;d=b.next())c.push([Y(d.value)])}else{w("handleAppErrorLog error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}c={sa:c,ya:!1};void 0!==a.Pn&&!1!==a.Pn||a.ma.event.yv.j({message:c.sa,type:Q(a.p,"type"),R:Q(a.p,"tid")});a.ma.event.Ia.j(c)}}function pu(a){a.ma.event.uA.j({})}
function qu(a){var b=a.ma;a=jt(a.p);switch(a.dc){case "promotion":a.dc="";a.sc="pr";break;case "onlineannouncement":a.dc="",a.sc="fn"}if(Cu(b,b.bl,a)){var c=b.nc?a.dc:"",d=[Y(Du(b.A(),a)),ft(a),Y(" has joined the room")];""!==c?(d.push(Y(" (from ")),d.push(gt(c,[c])),d.push(Y(")"))):b.nc&&"pr"===a.sc?d.push(Y(" via promotion")):b.nc&&"fn"===a.sc&&d.push(Y(" via online announcement"));d.push(Y("."));b.event.Ia.j({sa:[d],ya:a.username===b.username(),Tx:a.username})}(a.Za||a.Lc||a.je)&&b.event.GA.j({cb:Object.assign(Object.assign({},a),{dc:""}),action:"enter"});b.event.PG.j({cb:Object.assign(Object.assign({},a),{dc:""}),sc:a.sc,BJ:a.dc})}function ru(a){var b=a.ma;a=jt(a.p);if(Cu(b,b.cl,a)){var c=" "+ak;a.Za&&!Eu.has(b.status)&&(c+=" "+bk);b.event.Ia.j({sa:[[Y(Du(b.A(),a)),ft(a),Y(c)]],ya:a.username===b.username(),Tx:a.username})}(a.Za||a.Lc||a.je)&&b.event.GA.j({cb:Object.assign(Object.assign({},a),{dc:""}),action:"leave"});b.event.QG.j({cb:Object.assign(Object.assign({},a),{dc:""})})}
function su(a){"privatespying"===a.ma.status&&cu(a.ma,"privatenotwatching")}
function tu(a){var b=jt(a.p);!0!==T(a.p,"history")&&u("purchase history is not true?");for(var c=[],d=l(Q(a.p,"message").split(new RegExp("\\b"+b.username+"\\b","gi"))),e=d.next();!e.done;e=d.next())e=e.value,""!==e&&c.push(Y(e)),c.push(ft(b));c.pop();b.username===a.ma.username()&&E("tipping/get_token_balance/").then(function(f){f=new N(f.responseText);T(f,"success")&&a.ma.event.DB.j({Ja:U(f,"token_balance")})}).catch(function(){});a.ma.event.Cv.j({T:b,content:Q(a.p,"message"),R:Q(a.p,"tid")});a.ma.event.Ia.j({sa:[c],background:"#33ff33",zb:"#000",weight:"bold",ya:b.username===a.ma.username()})}
function uu(a){var b=a.p,c={Bf:T(b,"allow_privates"),Pe:U(b,"private_price"),Fh:U(b,"spy_price"),yj:U(b,"private_min_minutes"),fk:T(b,"allow_show_recordings"),R:Q(b,"tid")};ho(b);a.ma.event.Jj.j(c);if(a.ma.Pe!==c.Pe){a.ma.Pe=c.Pe;b=a.ma.A();var d=c.Pe;b=H(G("%(username)s changed Private Show price to %(price)s tokens per minute"),{username:b,price:d},!0);a.ma.event.Ia.j({sa:[[Y(b)]],ya:!0})}a.ma.Fh!==c.Fh&&0!==c.Fh&&(a.ma.Fh=c.Fh,b=a.ma.A(),c=c.Fh,c=H(G("%(username)s changed Spy on Private Show price to %(price)s tokens per minute"),{username:b,price:c},!0),a.ma.event.Ia.j({sa:[[Y(c)]],ya:!0}))}function vu(a){if(!a.ma.nc){var b=T(a.p,"is_starting")?"hidden":"public",c=Q(a.p,"hidden_message");ho(a.p);a.ma.event.CE.j(c);switch(a.ma.status){case "privaterequesting":Fu(a.ma);break;case "public":case "hidden":break;default:w("handleHiddenShowStatusChange unexpected status: "+a.ma.status)}"public"===b?window.setTimeout(function(){cu(a.ma,"public")},3E3):cu(a.ma,b)}}
function wu(a){T(a.p,"initial_hide_cam")?window.setTimeout(function(){cu(a.ma,"public")},2E3):"public"!==a.ma.status&&cu(a.ma,"public")}function xu(a){"public"===a.ma.status&&cu(a.ma,"hidden")}function yu(){}function Bu(a){return 1E3<=a?"huge":500<=a?"large":100<=a?"medium":15<=a?"small":"tiny"}var Gu=!1;function zu(a){a.ma.event.pE.j({message:"",R:Q(a.p,"tid")});if(!Gu){Gu=!0;var b="Compliance Image Required!\nPlease visit "+window.location.host+"/verify on your mobile\n     device to verify your identity.\n\nThis is required for broadcasters not showing their face.";a=$n(a.p,"time");V(void 0!==a&&0<a?b+("\n\nYou have "+a+" minute"+(1===a?"":"s")+" to complete."):b+"\n\nYou must complete this to continue broadcasting, failure to do so may result in broadcasting restrictions.",function(){Gu=!1})}}
function Au(a){It.j(Ht(fo(a.p,"game")))};var Hu;M.h(function(a){Hu=a});function gu(){var a;return null===(a=Em.current)||void 0===a?void 0:a.$p}function Iu(a){var b;return!0===(null===(b=Em.current.Fa)||void 0===b?void 0:b.Eq)||a.$p&&gu()}function Ju(a){var b;return a.yu||!0===(null===(b=Em.current.Fa)||void 0===b?void 0:b.Eq)||a.$p&&gu()};var Ku=new t("pictureInPictureChange");function Lu(a,b){x.call(this);var c=this;this.Dc=a;this.BA=new t("requestJPEG");this.yh=new t("requestControlVisibility");this.Fr=new t("setControlVolume");this.Zm=new t("setControlIsMuted");this.Wr=this.nl=!0;this.S=document.createElement("video");this.mh=!1;this.qk=document.createElement("div");this.qx=[];this.wg=new t("possibleQualityLevelsChanged");this.$c=new t("videoOfflineChange");this.Im=new t("playbackStart");this.gB=!0;this.nw=this.Vy=this.Xd=!1;this.element.style.position="static";this.element.style.background="#333333 url(https://static-assets.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";this.element.className="videoPlayerDiv";this.S.setAttribute("webkit-playsinline","");this.S.setAttribute("playsinline","");this.S.setAttribute("autoplay","autoplay");this.S.style.margin="0";this.S.style.padding="0";this.S.style.width="100%";this.S.style.height="100%";this.S.style["object-fit"]="contain";this.S.style.backgroundColor="rgba(0, 0, 0, 0.0)";this.element.appendChild(this.S);window.videoElement=this.S;this.qk.style.backgroundColor="#000000";this.qk.style.opacity="0.6";this.qk.style.position="absolute";this.qk.style.width="inherit";this.qk.style.height="inherit";this.Oi=new at(b);$s(this.Oi);Ku.h(function(d){c.Vy=d.active});B("webkitendfullscreen",this.S,function(){function d(){c.play()}c.lb();c.play();B("pause",c.S,d);window.setTimeout(function(){C("pause",c.S,d)},600)})}q(Lu,x);function Mu(a,b){return et(a,function d(){var e=this,f,g,h;return Ba(d,function(m){if(1==m.aa)return b.C.sq!==e.lF&&""!==b.C.sq?(e.lF=b.C.sq,f=b.B.status,e.Xd&&(f="offline"),m.return({url:Nu(b.C.sq),status:f})):ta(m,F("get_edge_hls_url_ajax/",{room_slug:b.C.A,bandwidth:"high",current_edge:""}),3);g=m.ae;h=JSON.parse(g.responseText);if(h.success)return e.lF=h.url,m.return({url:Nu(h.url),status:Yq(h.room_status)});throw g.responseText;})})}
function Nu(a){var b=Dn();return void 0!==b.edge?a.replace(/(^https:\/\/edge)\d*(.+)/,"$1"+b.edge+"$2"):a}
function Ou(a,b){a.stop();(function(){return et(a,function d(){var e=this,f,g,h,m;return Ba(d,function(n){switch(n.aa){case 1:if(b.C.A!==e.A)return n.return();n.Kl=2;return ta(n,Mu(e,b),4);case 4:h=n.ae;f=h.url;g=h.status;n.aa=3;n.Kl=0;break;case 2:return m=ua(n),w("Unable to refresh HLS stream",{error:m}),n.return();case 3:"offline"===e.Ga&&g!==e.Ga&&(e.mh=!0);e.Xd="offline"===g;e.$c.j(e.Xd);if("notconnected"!==e.Ga&&"offline"===g)return Pu(e,b),n.return();e.tF(b,f);n.aa=0}})})})().catch(function(){})}
function Qu(a){return et(a,function c(){var d=this,e,f;return Ba(c,function(g){if(1==g.aa){e=d.dA.play();if(void 0===e)return g.return({Ss:"old",success:!d.S.paused});g.Kl=3;return ta(g,e,5)}if(3!=g.aa)return g.return({Ss:"new",success:!0});f=ua(g);return g.return({Ss:"new",success:!1,error:f})})})}
function Ru(a){et(a,function c(){var d=this,e,f;return Ba(c,function(g){if(1==g.aa)return ta(g,Qu(d),2);if(3!=g.aa){e=g.ae;if(e.success)return d.Im.j(void 0),g.return();"old"===e.Ss&&L("NoPromiseAutoplayPolicy");jr.j(void 0);d.Ag(!0);return ta(g,Qu(d),3)}f=g.ae;if(f.success)return d.Im.j(void 0),g.return();"new"===f.Ss&&(d.mh||(u("Unable to play twice in a row",{err:f.error},"VIDEO_"),/SamsungBrowser/i.test(navigator.userAgent)&&(w("Attempting to fallback to JPEG player."),d.BA.j(d.context))),d.ry());g.aa=0})})}k=Lu.prototype;k.play=function(){Ru(this)};k.stop=function(){void 0!==this.Dc.Mj.get(this.Ga)&&(Su(this),Tu(this));this.mh&&Tu(this);Uu(this)};function Tu(a){for(var b=l(a.qx),c=b.next();!c.done;c=b.next())clearTimeout(c.value);clearTimeout(a.Wu);a.Wu=void 0;clearTimeout(a.Dm);a.Dm=void 0}k.$m=function(a){this.S.volume=a/100};k.ej=function(){return this.S.muted||!this.mh&&this.S.paused?0:100*this.S.volume};k.Dh=function(){this.yh.j(!1)};k.ll=function(){this.yh.j(!0)};k.lb=function(){Vu()?this.ll():this.Dh()};k.an=function(){};k.cm=function(){};k.cd=function(){return 0};k.ry=function(){Uu(this)};k.hh=function(a){var b=this;this.Xd=!1;this.gB=!Ju(a.C);this.S.poster=this.gB?so+"stream?room="+a.C.A+"&f="+Math.random():"";this.context=a;this.A=a.C.A;a.B.event.Tc.h(function(c){b.Ga=c.Ea;if(void 0!==b.Dc.Mj.get(c.Ea)||b.Xd)b.stop(),Uu(b),b.Xd?Pu(b,a):Wu(b,a);else switch(clearTimeout(b.Dm),b.Dm=void 0,c.Nc){case "notconnected":case "privaterequesting":break;default:switch(c.Ea){case "notconnected":Xu(b,a.C.A);window.setTimeout(function(){Ou(b,a)},0);break;default:b.qx.push(window.setTimeout(function(){Xu(b,a.C.A)},0)),b.qx.push(window.setTimeout(function(){Ou(b,a)},3E3))}}})};function Xu(a,b){a.element.style.background="#333333 url("+(a.gB?so+"stream?room="+b+"&f="+Math.random():"")+") center center / cover";b=a.Dc;b.ja.innerText="Connecting";b.text.innerText="Please wait while we connect you to this webcam broadcast.";b.element.style.display="block";b.nh.style.display="none";b.ro.style.display="none";b.Bq=!0;a.element.insertBefore(a.qk,a.element.firstChild);a.mh=!0}
function Su(a){a.mh=!1;var b=a.Dc;b.Bq&&(b.ja.innerText="",b.text.innerText="",b.element.style.display="none",b.Bq=!1);a.qk.parentElement===a.element&&a.element.removeChild(a.qk);a.element.style.background="#333333 url(https://static-assets.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover"}
function Wu(a,b){void 0===a.Dm&&(a.Dm=window.setTimeout(function(){return et(a,function d(){var e=this,f;return Ba(d,function(g){if(1==g.aa)return ta(g,Mu(e,b),2);f=g.ae.status;"offline"===f?(e.Xd=!0,e.Dm=void 0,Pu(e,b),e.$c.j(e.Xd)):(e.Dm=void 0,Wu(e,b));g.aa=0})})},1E4))}function Pu(a,b){void 0===a.Wu&&(a.Wu=window.setTimeout(function(){a.Wu=void 0;Ou(a,b)},1E4))}
function Yu(a,b,c){c=void 0===c?function(){}:c;Uu(a);a.FB=window.setTimeout(function(){a.nw?(Su(a),w("Attempting to fallback to JPEG player."),a.BA.j(a.context)):!Op||a.Vy?Yu(a,b,c):(hn("Video seems to be stuck, refreshing"),a.nw=!0,Ou(a,b),c())},1E4)}function Uu(a){void 0!==a.FB&&(clearTimeout(a.FB),a.FB=void 0)}k.mq=function(){return this.S};var Zu=new t("HlsNativePlayer:AirPlayChange");function $u(a){Lu.call(this,a,"HlsNativePlayer");var b=this;this.nj=0;this.PH=this.xe=!1;this.dA=this.S;this.element.appendChild(this.S);bt(this.Oi,this.S);Zu.h(function(d){b.PH=d});Kb()&&Np.h(function(d){b.PH||(d?Ou(b,b.context):b.S.pause())},!1);xs.h(function(d){b.Rg=d});this.S.onclick=function(){b.play()};this.S.onpause=function(){};this.S.onplay=function(){L("VideoOnloadMuteStatus",{muted:b.S.muted,chatMode:b.Rg});b.S.muted||(b.xe=!0)};this.S.oncanplay=function(){b.mh&&Su(b)};this.S.oncanplaythrough=function(){Fb()&&15<=Jb()||b.play()};this.S.onseeking=function(){};this.S.onerror=function(d){w(d,{},"VIDEO_")};this.S.onvolumechange=function(){var d=b.S.volume,e=b.S.muted;0===d&&(e=!0);e||b.xe||0!==In||(b.xe=!0,L("UserUnmuted",{chatMode:b.Rg}));b.Zm.j({ea:e,save:!0});b.Fr.j({volume:100*d,save:!0});void 0===b.lc||e||(b.element.removeChild(b.lc),b.lc=void 0)};this.S.onstalled=function(){Op&&!b.Vy&&(b.S.pause(),window.setTimeout(function(){b.play()},10))};B("enterpictureinpicture",this.S,function(){Ku.j({active:!0})});B("leavepictureinpicture",this.S,function(){Ku.j({active:!1,bC:b.S.paused})});var c=this.S.webkitPresentationMode;B("webkitpresentationmodechanged",this.S,function(){var d=b.S.webkitPresentationMode;-1!==["inline","fullscreen"].indexOf(c)&&"picture-in-picture"===d?Ku.j({active:!0}):"picture-in-picture"===c&&-1!==["inline","fullscreen"].indexOf(d)&&Ku.j({active:!1,bC:b.S.paused});c=d});10===Jb()&&av(this)}q($u,Lu);k=$u.prototype;k.tF=function(a,b){var c=this;Yu(this,a);null===this.S.onplaying&&(this.S.onplaying=function(){Yu(c,a)});null===this.S.ontimeupdate&&(this.S.ontimeupdate=function(){var d=c.S.currentTime;5<d-c.nj&&(c.nj=d,Yu(c,a,function(){c.nj=0}),c.nw=!1)});""!==b?this.S.src=b:this.S.removeAttribute("src");this.S.load();this.S.style.display="inline";"oncanplaythrough"in window&&!(Fb()&&15<=Jb())||this.play();""===b&&(this.stop(),Uu(this))};k.$m=function(a){this.S.volume=a/100};k.ej=function(){return this.S.muted||!this.mh&&this.S.paused?0:100*this.S.volume};k.Ag=function(a){this.S.muted=a;this.Zm.j({ea:a,save:!0});a?this.S.setAttribute("muted",""):this.S.removeAttribute("muted")};k.stop=function(){this.nj=0;this.S.style.display="none";this.S.pause();this.S.removeAttribute("src");this.S.load();Lu.prototype.stop.call(this)};k.Dh=function(){Lu.prototype.Dh.call(this);this.S.setAttribute("controls","");void 0!==this.lc&&(this.lc.style.display="block")};k.ll=function(){Lu.prototype.ll.call(this);this.S.removeAttribute("controls");void 0!==this.lc&&(this.lc.style.display="none")};k.Bg=function(){};k.an=function(a,b){this.S.volume=a/100;0===a||b?(this.S.muted=!0,this.S.setAttribute("muted","")):(this.S.muted=!1,this.S.removeAttribute("muted"))};k.cd=function(){return 0};k.cm=function(){db(this.S);this.Dh()};k.gp=function(){this.cm()};k.mq=function(){return this.S};function av(a){a.lc=document.createElement("span");a.lc.style.position="absolute";a.lc.style.top="6px";a.lc.style.right="6px";a.lc.style.opacity="0.8";a.lc.style.ZD="right";a.lc.style.backgroundColor="rgba(255, 255, 255, 0.8)";a.lc.style.borderRadius="6px";a.lc.style.height="36px";a.lc.style.padding="3px";a.lc.style.cursor="pointer";var b=document.createElement("span");b.textContent=yl;b.style.color="#0c6a93";b.style.fontSize="14px";b.style.padding="6px";b.style.position="relative";b.style.top="2px";b.style.textShadow="0 0 1px #0c6a93";var c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/images/volume-mute.svg";c.style.width="36px";c.style.height="36px";c.style.display="inline";c.style.verticalAlign="middle";a.lc.appendChild(b);a.lc.appendChild(c);a.element.appendChild(a.lc);a.lc.onclick=function(){a.Ag(!1);void 0!==a.lc&&(a.element.removeChild(a.lc),a.lc=void 0)};window.setTimeout(function(){b.style.display="none"},5E3)};function bv(a,b){b=void 0===b?!1:b;x.call(this);var c=this;this.Dc=a;this.qm=b;this.yh=new t("requestControlVisibility");this.nl=!0;this.Wr=!1;this.wg=new t("possibleQualityLevelsChanged");this.$c=new t("videoOfflineChange");this.Im=new t("playbackStart");this.Ok=0;this.ff=!1;this.stopped=this.muted=!0;this.url="";this.Eu=0;this.P=new La;this.Oi=new Zs(this.qm?"JpegToHlsPlayer":"JpegPushPlayer");$s(this.Oi);this.element.style.background="#333333 url(https://static-assets.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";this.element.className="videoPlayerDiv";this.element.style.position="static";this.Nd=document.createElement("img");this.Nd.style.width="100%";this.Nd.style.height="100%";this.Nd.style["object-fit"]="contain";this.Nd.style.backgroundColor="black";this.Nd.onload=function(){c.Nd.style.display="inline";c.ff=!1};this.Nd.onerror=function(){c.Nd.style.display="none";c.Eu-=100;c.ff=!1};this.element.appendChild(this.Nd);Nb()||(this.requestAnimationFrame=vb(),cv(this,0))}q(bv,x);function dv(a){a.Eu=Date.now();void 0!==a.K&&F("get_edge_hls_url_ajax/",{room_slug:a.K,jpeg:"1"}).then(function(b){var c=new N(b.responseText),d=T(c,"success");"offline"===Yq(Q(c,"room_status"))?(a.$c.j(!0),a.stop()):(a.$c.j(!1),c.og("url"),c.og("hidden_message"),d?(a.url=Q(c,"cbjpeg_url",!1),ho(c)):w("Unable to refresh JPEG stream",{error:b.responseText},"VIDEO_"))}).catch(function(b){w("Unable to refresh JPEG stream",{error:b},"VIDEO_")})}
function cv(a,b){a.qm||(5E3<Date.now()-a.Eu&&dv(a),a.stopped||""===a.url||Nb()?a.Nd.style.visibility="hidden":(0===a.Ok||140<b-a.Ok)&&!a.ff&&(a.ff=!0,a.Ok=b,a.Nd.src=a.url+"&f="+Math.random(),"visible"!==a.Nd.style.visibility&&(a.Im.j(void 0),a.Nd.style.visibility="visible")),a.requestAnimationFrame.call(window,function(c){cv(a,c)}))}k=bv.prototype;k.hh=function(a){var b=this;this.stopped=!1;Ma(this.P);r(a.B.event.Tc.h(function(c){void 0!==b.Dc.Mj.get(c.Ea)||b.Xd?b.stop():b.stopped=!1}),this.P);this.K=a.C.A;this.url=Ju(a.C)?"":so+"stream?room="+this.K;this.yh.j(!0);this.qm&&(this.Nd.src=this.url+"&f="+Math.random(),this.Nd.style.visibility="visible")};k.$m=function(a){this.volume=a};k.ej=function(){return this.muted?0:this.volume};k.Ag=function(a){this.muted=a};k.stop=function(){this.Nd.style.visibility="hidden";this.stopped=!0};k.Bg=function(){};k.lb=function(){this.yh.j(!0)};k.cd=function(){return 0};k.cm=function(){db(this.element)};k.an=function(){};k.eg=function(){this.stop();Ma(this.P)};k.mq=function(){};var ev=window.videojs;function fv(a){Lu.call(this,a,"VideoJsPlayer");var b=this;this.nj=0;this.ea=!0;this.xe=this.Az=!1;this.nk=document.createElement("div");this.ke=!1;this.S.className="video-js vjs-default-skin";ev.log.level("error");this.nk.style.position="absolute";this.nk.style.backgroundColor="#000000";this.nk.style.width="inherit";this.nk.style.height="inherit";var c=this;this.element.onclick=function(){b.Az&&(Vu()?b.ll():b.Dh(),b.Az=!1)};var d=ev(this.S,{techOrder:["html5"],autoplay:!0,html5:{hlsjsConfig:{debug:!1,liveSyncDuration:3,liveSyncDurationCount:void 0,liveDurationInfinity:Infinity,liveMaxLatencyDuration:7,liveMaxLatencyDurationCount:void 0,liveBackBufferLength:30}},controlBar:{playToggle:!1,progressControl:!1,remainingTimeDisplay:!1,durationDisplay:!1,currentTimeDisplay:!1,timeDivider:!1}});this.ba=d;if(void 0!==d){bt(this.Oi,d);void 0!==ev.Html5Hlsjs&&ev.Html5Hlsjs.addHook("beforeinitialize",function(f,g){f===d&&b.Oi.pI(g)});this.dA=d;gv(this);d.on("volumechange",function(){c.$m(c.ej(!1))});d.on("canplay",function(){c.play();c.mh&&Su(c)});d.on("canplaythrough",function(){c.play()});var e=this.wg;d.on("updateVideoControlQuality",function(f,g){f=[];g=l(g);for(var h=g.next();!h.done;h=g.next())h=h.value,f.push({label:h.label,sl:h.selected,value:h.id});e.j(f);hv(c,f)});d.on("enterpictureinpicture",function(){Ku.j({active:!0})});d.on("leavepictureinpicture",function(){window.setTimeout(function(){Ku.j({active:!1,bC:d.paused()})},0)})}d.controls(Vu());window.videoJsPlayer=d;xs.h(function(f){b.Rg=f})}q(fv,Lu);function gv(a){var b=0,c=window.setInterval(function(){10<=b&&clearInterval(c);void 0!==a.ba&&void 0!==a.ba.chromecastSessionManager&&(a.ba.chromecastSessionManager.getCastContext().addEventListener("sessionstatechanged",function(d){if(void 0!==d.sessionState)switch(d.sessionState){case "SESSION_STARTED":case "SESSION_RESUMED":iv(a);a.ke||void 0===a.ba||(a.ba.off("canplay"),a.ba.off("canplaythrough"));a.stop();window.setTimeout(function(){a.ke=!0;Ou(a,a.context);a.$m(a.ej(!1));jv(a);void 0!==a.ba&&(a.ba.tech_._ui._findTitleEl().style.visibility="hidden")},1E3);a.Dc.D();kv(a);break;case "SESSION_ENDED":window.setTimeout(function(){if(void 0!==a.ba){a.ke=!1;var e=a.ej(!1);a.ba.muted(a.ea);a.ba.volume(e);Ou(a,a.context);lv(a);mv(a)}},2500),a.nk.parentElement===a.element&&a.element.removeChild(a.nk),a.Dc.show()}}),clearInterval(c));b+=1},1E3)}k=fv.prototype;k.tF=function(a,b){if(""===b)this.stop();else{var c=this;this.ke?(kv(this),this.Dc.D(),Uu(this)):(this.Dc.show(),Yu(this,a));void 0!==this.ba?(this.ke?this.ba.tech_.setSource({src:b,type:"application/x-mpegURL"}):this.ke||(this.ba.on("playing",function(){Yu(c,a)}),this.ba.on("waiting",function(){Yu(c,a)}),this.ba.on("timeupdate",function(){if(void 0!==c.ba){var d=c.ba.currentTime();5<d-c.nj&&(c.nj=d,Yu(c,a,function(){c.nj=0}),c.nw=!1)}}),this.ba.off("error"),this.ba.on("error",function(d){if(void 0!==c.ba){var e=c.ba.error();null===e||2!==e.code&&4!==e.code||(c.mh||Ou(c,a),w(e.message,d,"VIDEO_"))}else w("Videojs error type undefined",d,"VIDEO_")}),this.ba.src({src:b,type:"application/x-mpegURL"}),this.ba.qualityPickerPlugin(),this.ba.show(),this.ba.muted(this.ea),this.S.style.display="inline"),this.dA=this.ba,lv(this)):V("something went wrong")}};function jv(a){if(a.ke&&void 0!==a.ba&&void 0!==a.ba.chromecastSessionManager){var b=a.ba.chromecastSessionManager.getCastContext().getCurrentSession();if(void 0!==b){var c=0;b.addMessageListener("urn:x-cast:com.highwebmedia.cast.media",function(d,e){a.ke&&e.includes("PAUSED")?(clearTimeout(c),c=window.setTimeout(function(){Ou(a,a.context)},2500)):a.ke&&e.includes("BUFFERING")?(clearTimeout(c),c=window.setTimeout(function(){Ou(a,a.context)},7500)):!a.ke||e.includes("PLAYING")?clearTimeout(c):a.ke&&e.includes("MEDIA_ERROR")&&Ou(a,a.context)})}}}k.$m=function(a){if(void 0!==this.ba){var b=this.ea;this.ea=0===a||this.ba.muted();!b||this.ea||this.xe||(this.xe=!0,L("UserUnmuted",{chatMode:this.Rg}));this.Fr.j({volume:a,save:!0});this.Zm.j({ea:this.ea,save:!0})}};k.Ag=function(a){this.ea=a;this.Zm.j({ea:a,save:!0});void 0!==this.ba&&this.ba.muted(a)};k.an=function(a,b){this.ea=b;void 0!==this.ba&&(this.ba.volume(a/100),this.ba.muted(b))};k.ej=function(a){return void 0!==this.ba?(void 0===a||a)&&this.ba.muted()?0:100*this.ba.volume():0};k.stop=function(){this.nj=0;if(!this.ke&&void 0!==this.ba)this.ba.off("timeupdate"),this.ba.off("waiting"),this.ba.off("playing"),this.ba.pause(),iv(this),this.ba.src(),this.ba.hide(),this.ba.muted(this.ea);else if(this.ke&&void 0!==this.ba){this.ba.pause();this.ba.src();this.ba.hide();return}Lu.prototype.stop.call(this)};function kv(a){a.nk!==a.element.firstChild&&a.element.insertBefore(a.nk,a.element.firstChild)}function lv(a){a.ke||void 0!==a.ol||void 0===a.ba||(a.ol=a.ba.tech(),a.ol.on("loadedqualitydataTS",function(b,c){L("VideoOnloadMuteStatus",{muted:a.ea,chatMode:a.Rg});a.ea||(a.xe=!0);b=[];c=l(c.qualityData.video);for(var d=c.next();!d.done;d=c.next())d=d.value,b.push({label:d.label,sl:d.selected,value:d.id});a.wg.j(b);hv(a,b)}))}
function mv(a){a.ke||void 0===a.ba||(a.ba.on("canplay",function(){a.play();a.mh&&Su(a)}),a.ba.on("canplaythrough",function(){a.play()}))}function iv(a){a.ke||void 0===a.ol||(a.ol.off("loadedqualitydataTS"),void 0!==a.ol.hlsProvider&&a.ol.hlsProvider.dispose(),a.ol.reset(),a.ol=void 0)}k.Bg=function(a){void 0!==this.ba&&this.ba.selectQualityButton(a)};k.ry=function(){Lu.prototype.ry.call(this);this.yh.j(!0);this.Az=!0};k.Dh=function(){Lu.prototype.Dh.call(this);void 0!==this.ba&&this.ba.controls(!0)};k.ll=function(){Lu.prototype.ll.call(this);void 0!==this.ba&&this.ba.controls(!1)};k.cm=function(){void 0!==this.ba&&(this.ba.requestFullscreen(),this.Dh())};k.cd=function(){return 0};k.mq=function(){return this.S};function hv(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c.sl&&a.Oi.Bg(c.label)};var nv=new Hp(["IconVideoControls","TextVideoControls"],"vidctrls");function Vu(){if(!0===Em.current.$b)return!0;var a=X();return("split"!==a||nv.active)&&"videoonly"!==a&&"noninteractive-fullscreen"!==a}
function ov(a,b,c){x.call(this);var d=this;this.Dc=b;this.$c=new t("videoOfflineChange");a=pv(a);this.xt(a,c);this.wc=document.createElement("img");this.wc.src=Fm();this.wc.className="cbLogo";this.wc.style.position="fixed";this.wc.style.width="90px";this.wc.style.height="27px";this.wc.style.top="8px";this.wc.style.right="8px";this.wc.style.userSelect="none";this.wc.style.msUserSelect="none";this.wc.style.msUserSelect="none";this.wc.style.pointerEvents="none";this.wc.setAttribute("draggable","false");this.element.appendChild(this.wc);Xc.cB&&(this.wc.style.visibility="hidden");Po.od.h(function(){d.J.lb()})}q(ov,x);k=ov.prototype;k.Yw=function(){var a=this,b;null===(b=this.J.BA)||void 0===b?void 0:b.h(function(c){a.ly(c)});this.J.$c.h(function(c){a.$c.j(c);a.Dc.$A(c)})};k.uH=function(){};function qv(){return(void 0===navigator.userAgent?0:/android/i.test(navigator.userAgent))||!ub()?"videojs":"hlsnative"}
function pv(a){var b=Dn().player;if(void 0!==b)return"hls"===b&&(b=qv()),b;if(!ub()&&!kb.isSupported()){if(a=ct)a:{a=navigator.userAgent.match(/Firefox\/([0-9]+)/);if(null!==a&&2===a.length&&(a=parseInt(a[1]),!isNaN(a)&&55<=a)){a=!0;break a}a=!1}if(!(a||0>=swfobject.getFlashPlayerVersion().major))return"flash";Ts({eventName:"jpegFallback",hlsNativeSupported:ub(),hlsJsSupported:Ss.isSupported()});return"jpeg"}return a?qv():"jpegToHls"}
k.xt=function(a,b){var c;switch(a){case "flash":a=new rv;break;case "videojs":a=new fv(this.Dc);break;case "hlsnative":a=new $u(this.Dc);break;case "jpeg":a=new bv(this.Dc);break;case "jpegToHls":a=new bv(this.Dc,!0);break;default:w("received unexpected player name: "+a);V("unknown player: "+a);return}b=!(null!==(c=null===b||void 0===b?void 0:b.NK)&&void 0!==c&&c);this.J=Pa(this,a);b&&this.xp()};k.xp=function(){Gn=this.J instanceof rv?"flash":this.J instanceof fv?"videojs":this.J instanceof $u?"hlsnative":this.J instanceof bv?this.J.qm?"jpegToHls":"jpeg":"unknown player type";this.Dc.Ai=this.J.nl;this.Yw();this.uH()};function sv(a){a.J.stop();a.J.Oi.cr();a.removeChild(a.J)}function tv(a,b,c){c=void 0===c?!0:c;sv(a);var d="hlsnative"===qv()?new $u(a.Dc):new fv(a.Dc);B("loadeddata",d.S,function(){d.Ag(!c)});d.hh(b);Ou(d,b);c?(d.$m(100),d.Ag(!1)):d.Ag(!0);a.J=Pa(a,d);a.xp();a.H()}
k.ly=function(a){sv(this);this.xt("jpeg");this.J.hh(a)};function uv(a,b,c){var d=b/(c?.5625:.75);d>a&&(d=a,b=d*(c?.5625:.75));return[d,b]};function rv(){x.call(this);var a=this;this.yh=new t("requestControlVisibility");this.Fr=new t("setControlVolume");this.Zm=new t("setControlIsMuted");this.Wr=this.nl=!0;this.xH="10.2.0";this.wi="xmovie";this.HF="xmovieContainer";this.dx=!1;this.IC=new t("callbacksRegistered");this.wg=new t("possibleQualityLevelsChanged");this.$c=new t("videoOfflineChange");this.Im=new t("playbackStart");this.volume=0;this.muted=!0;this.Uy=this.rg=!1;this.OI="https://static-assets.highwebmedia.com/tsdefaultassets/CBV_TS_v1.0.swf";this.params={allowScriptAccess:"always",allowFullScreen:"true",quality:"high",wmode:"opaque",id:this.wi,scale:"noborder"};this.attributes={id:"xmovie",name:this.wi,align:"middle"};this.Oi=new Zs("FlashPlayer");$s(this.Oi);this.ez=!1;if(mb()){var b=window.localStorage.getItem("isTheaterMode");null!==b&&JSON.parse(b).ez&&(this.ez=!0)}this.fz=!0;this.EJ=this.I(new hr(this));this.Ic=this.I(new Ns(this,this.EJ));this.ez?this.Ic.D():this.Ic.show();this.element.style.backgroundColor="#000";vv(this);this.element.className="videoPlayerDiv";window.updateQualityLevels=function(c){a.wg.j(c)};window.showQualitySelect=function(){a.wg.j(wv(a))};window.hideQualitySelect=function(){a.wg.j([])};window.statusUpdate=function(c){"offline"===Yq(c)?a.$c.j(!0):(a.$c.j(!1),a.Im.j(void 0))};window.callbacksRegistered=function(){a.dx=!0;a.IC.j(void 0)};window.setFVMFlashMaxQ=function(c){Xa("cbv_maxq",c,365)};window.getFVMFlashMaxQ=function(){return Wa("cbv_maxq")};xs.h(function(c){a.Rg=c})}q(rv,x);function vv(a){null===document.getElementById(a.HF)&&(a.wa=document.createElement("div"),a.wa.id=a.HF,a.wa.style.height="calc(100% - "+a.Ic.cd()+"px)",a.wa.style.width="100%",a.wa.style.position="relative",a.wa.style.top="0px",a.wa.style.left="0px",a.element.appendChild(a.wa));a.vm=document.createElement("div");a.vm.id=a.wi;a.vm.style.margin="0";a.vm.style.padding="0";a.vm.style.width="100%";a.vm.style.height="100%";a.vm.style["object-fit"]="cover";a.wa.appendChild(a.vm);a.element.style.position="static"}k=rv.prototype;k.hh=function(a){this.context=a;var b="anonymous";this.context.B.xc||(b=a.C.cC);this.params.FlashVars="pid="+a.C.A+"&address="+a.C.ED+"&uid="+a.C.userName+"&pw="+encodeURIComponent(b)+"&rpw="+encodeURIComponent(a.C.JA)+"&auth="+a.C.DD+"&flash_debug="+("1"===Dn().flash_debug?"1":"0");xv(this)};function xv(a){var b=document.getElementById(a.wi);if(null===b)w("id "+a.wi+" for div not found for flash player in "+a.constructor.name,{},"VIDEO_");else{var c=b.appendChild,d=document.createElement("div");d.id="messageDiv";d.style.textAlign="center";d.style.marginTop="50px";d.style.zIndex="999";d.style.position="relative";var e=document.createElement("a");e.href="https://www.adobe.com/go/getflashplayer";e.target="_blank";e.style.border="0";d.appendChild(e);var f=document.createElement("img");f.alt="Get Adobe Flash player";f.src="https://static-assets.highwebmedia.com/tsdefaultassets/160x41_Get_Flash_Player.jpg";e.appendChild(f);e=document.createElement("p");e.appendChild(document.createTextNode("We've detected that you are missing the latest version of Flash Player."));e.style.margin="0";d.appendChild(e);e=document.createElement("p");e.appendChild(document.createTextNode("This version of the Chaturbate Viewer requires Flash Player "+a.xH+" or later."));e.style.margin="0";d.appendChild(e);e=document.createElement("a");e.href="https://www.adobe.com/go/getflashplayer";e.innerText="Click here to update your Flash Player for free";d.appendChild(e);c.call(b,d);swfobject.embedSWF(a.OI.toString(),a.wi,"100%","100%",a.xH,void 0,void 0,a.params,a.attributes);a.wg.j(wv(a));yv(a)}}
function yv(a){var b=a.muted?0:a.volume,c=window[a.wi];void 0!==c&&(void 0===c.SetCamVol?(window.setTimeout(function(){yv(a)},100),null===document.getElementById("messageDiv")&&"1"!==a.wa.style.zIndex&&(a.wa.style.zIndex="1")):(a.Ic.$j(a.volume),a.Ic.Gg(a.muted),a.Fr.j({volume:a.volume,save:!1}),a.Zm.j({ea:a.muted,save:!1}),c.SetCamVol(b),jb()||0!==a.Ic.cd()||"1"!==a.wa.style.zIndex||(a.wa.style.height="100%"),a.wa.style.zIndex="0",L("VideoOnloadMuteStatus",{muted:a.muted,chatMode:a.Rg})))}
k.$m=function(a){this.volume!==a&&(this.volume=a,this.muted||yv(this))};k.ej=function(){return this.muted?0:this.volume};k.Ag=function(a){this.muted!==a&&(this.muted=a,yv(this))};k.an=function(a,b){if(this.volume!==a||this.muted!==b)this.volume=a,this.muted=b,yv(this)};k.Bg=function(a){var b=window[this.wi];void 0===b?w("Cannot find movie to set quality level.",{},"VIDEO_"):void 0===b.SetQualityLevel?w("SetQualityLevel is not available on this player.",{},"VIDEO_"):(b.SetQualityLevel(a),this.wg.j(wv(this)))};function wv(a){var b=window[a.wi];if(!a.dx)return[];if(void 0===b)return w("Cannot find movie to get quality level.",{},"VIDEO_"),[];if(void 0===b.GetQualityLevels)return w("GetQualityLevel is not available on this player.",{},"VIDEO_"),[];var c=[];b.GetQualityLevels().forEach(function(d){c.push({label:d.label,sl:d.toggled,value:d.value})});return c}k.stop=function(){swfobject.removeSWF(this.wi);this.dx=!1;vv(this)};k.paused=function(){return!1};k.Dh=function(){this.yh.j(!1);this.Ic.show();Qs(this)};k.ll=function(){this.yh.j(!0);this.Ic.D();Qs(this)};k.lb=function(){Vu()?this.ll():this.Dh()};k.gj=function(){this.yh.j(!1);this.Ic.D();Qs(this)};function Qs(a){if(jb()&&gb()===a.element)if(a.Uy)a.wa.style.height="calc(100% - "+a.Ic.cd()+"px)",a.wa.style.width="100%",a.wa.style.left="0px",a.wa.style.top="0px";else{var b=window.innerWidth;var c=window.innerHeight-a.cd(),d=c/(a.fz?.5625:.75);b<d&&(d=b,c=d*(a.fz?.5625:.75));b=[d,c];a.wa.style.width=b[0]+"px";a.wa.style.left=(window.innerWidth-b[0])/2+"px";a.wa.style.height=b[1]+"px";a.wa.style.top=(window.innerHeight-(b[1]+a.Ic.cd()))/2+"px"}else a.wa.style.height="calc(100% - "+a.Ic.cd()+"px)",a.wa.style.width="100%",a.wa.style.left="0px",a.wa.style.top="0px",0===a.Ic.cd()&&"1"===a.wa.style.zIndex&&(a.wa.style.height="calc(100% - 32px)")}k.H=function(){Qs(this)};k.cm=function(){var a=this;this.gp();window.setTimeout(function(){Qs(a);a.M()},500)};k.cd=function(){return this.Ic.cd()};k.gp=function(){!0!==jb()?(db(this.element),this.Dh(),null===this.wa.style.width&&(this.wa.style.left="0px")):(eb(),this.wa.style.height="calc(100% - "+this.Ic.cd()+"px)",this.wa.style.width="100%",this.M())};k.mq=function(){};var zv=new t("followingEvent"),Bv=["follow_new","follow_text","follow_photo"];function Cv(a,b){return F("api/ts/follow/notifications/"+a,{notification_frequency:b}).then(function(){zv.j({K:a,zk:!0,lg:b});return!0}).catch(function(c){w("Unable to update follow notification settings "+a+": "+c);return!1})}
function Dv(){return E("api/ts/follow/email_notifications/").then(function(a){a=new N(a.responseText);return{Gw:T(a,"activated"),email:void 0!==P(a,"email")?P(a,"email"):"",uw:T(a,"validated")}}).catch(function(a){w("Error checking if follow email notifications are turned on: "+a);return!1})}
function Ev(a,b,c){var d=void 0!==c?c.email:void 0,e=void 0!==c?c.uw:void 0;return new Promise(function(f,g){var h={activate:""+a};void 0!==b&&""!==b&&(h.email_field=b);return F("api/ts/follow/email_notifications/",h).then(function(){f(""+(!(void 0!==b&&""!==b&&d===b&&void 0!==e&&e)&&void 0!==b))}).catch(function(m){a:{m=Q(new N(m.$d.responseText),"error");if(-1<m.indexOf("email_field")&&(m=Yn(new N(m),"email_field"),void 0!==m&&0<m.length)){m=Q(m[0],"message");break a}m=tm}g(m)})})}
function Fv(a,b){return void 0!==b&&""!==b?Dv().then(function(c){return b===c.email&&a===c.Gw?new Promise(function(d,e){if(!c.uw)return F("emailvalidation/resend/",{}).then(function(){d("true")}).catch(function(){e("Error resending verification email to "+b)});d("false")}):Ev(a,b,c)}).catch(function(){return Ev(a,b)}):Ev(a)}
function Gv(a,b){if(void 0!==b&&!b||!Hr('You must be logged in to follow a broadcaster. Click "OK" to login.'))return F("follow/follow/"+a+"/",{}).then(function(c){var d=new N(c.responseText);c=zv.j;a:switch(Q(d,"notification_frequency")){case "all":d="all";break a;case "none":d="none";break a;default:d="smart"}c.call(zv,{K:a,zk:!0,lg:d});void 0!==window._followedTabUpdate&&window._followedTabUpdate(a);return!0}).catch(function(c){w("Unable to follow "+a+": "+c);return!1})}
function Hv(a,b){if(void 0!==b&&!b||!Hr('You must be logged in to follow a broadcaster. Click "OK" to login.'))return F("follow/unfollow/"+a+"/",{}).then(function(){zv.j({K:a,zk:!1,lg:"none"});void 0!==window._followedTabUpdate&&window._followedTabUpdate(a);return!0}).catch(function(c){w("Unable to unfollow "+a+": "+c);return!1})}
function Iv(){return new Promise(function(a){E("follow/online_following").then(function(b){b=new N(b.responseText);var c=O(b,"following");ho(b);a(c)}).catch(function(b){401!==b.$d.status&&w("getOnlineFollowedRooms failed ("+b+")");a([])})})};function Jv(a,b,c){x.call(this);var d=this;this.sg=b;this.pa=c;this.A=a;this.element=W("div",{style:{position:"absolute",height:"23.25px",width:"23.25px",cursor:"pointer"},className:this.sg?"icon_following":"icon_not_following",onClick:function(e){d.XA();e.stopPropagation();e.preventDefault()}})}q(Jv,x);function Kv(a){a.element.title="Follow";a.sg=!1;a.element.className="icon_not_following no_hover";window.setTimeout(function(){a.element.classList.remove("no_hover")},3E3)}
function Lv(a){a.element.title="Unfollow";a.sg=!0;a.element.className="icon_following no_hover";window.setTimeout(function(){a.element.classList.remove("no_hover")},3E3)}
Jv.prototype.XA=function(){var a=this;if(this.sg){this.element.className="icon_update_following no_hover";var b=Hv(this.A,this.pa);void 0!==b?b.then(function(c){c?Kv(a):a.element.className="icon_not_following"}).catch(function(){}):Lv(this)}else this.pa&&!Em.current.$b?Zp({On:!0}):(this.element.className="icon_update_following no_hover",b=Gv(this.A,this.pa),void 0!==b?b.then(function(c){c?Lv(a):a.element.className="icon_following"}).catch(function(){}):Kv(this))};function Mv(a,b){function c(v){var A=document.createElement("div");A.style.position="absolute";A.style.cursor=v;A.style.backgroundColor="rgba(0, 0, 0, 0.01)";a.appendChild(A);return A}var d=c("nwse-resize");d.style.height="10px";d.style.width="10px";d.style.top="-5px";d.style.left="-5px";var e=c("nesw-resize");e.style.height="10px";e.style.width="10px";e.style.top="-5px";e.style.right="-5px";var f=c("nwse-resize");f.style.height="10px";f.style.width="10px";f.style.bottom="-5px";f.style.right="-5px";var g=c("nesw-resize");g.style.height="10px";g.style.width="10px";g.style.bottom="-5px";g.style.left="-5px";var h=c("ew-resize");h.style.height="calc(100% - 10px)";h.style.width="10px";h.style.top="5px";h.style.left="-5px";var m=c("ew-resize");m.style.height="calc(100% - 10px)";m.style.width="10px";m.style.top="5px";m.style.right="-5px";var n=c("ns-resize");n.style.height="10px";n.style.width="calc(100% - 10px)";n.style.left="5px";n.style.bottom="-5px";var p=c("ns-resize");p.style.height="5px";p.style.width="calc(100% - 10px)";p.style.left="5px";p.style.top="-5px";Qm(f,b(2));Qm(g,b(3));Qm(e,b(1));Qm(d,b(0));Qm(h,b(4));Qm(m,b(5));Qm(n,b(6));Qm(p,b(7))}function Nv(a,b,c,d){switch(d){case 0:return a.ratio*(a.ao-b+(a.bo-c));case 1:return a.ratio*(-(a.ao-b)+(a.bo-c));case 2:return a.ratio*(-(a.ao-b)-(a.bo-c));case 3:return a.ratio*(a.ao-b-(a.bo-c));case 4:return a.ao-b;case 5:return-(a.ao-b);case 6:return-(a.bo-c)/a.ratio;case 7:return(a.bo-c)/a.ratio}};var Ov=new t("floatingPlayerShow"),Pv=new t("floatingPlayerHide"),Qv=new t("floatingPlayerShowLoginOverlay");function Rv(a,b,c){function d(){window.setTimeout(function(){e.Lk=!1},100)}x.call(this);var e=this;this.F=a;this.XK=b;this.onclose=c;this.ag=document.createElement("a");this.K=document.createElement("a");this.nb=this.Lk=!1;this.le=!0;this.Ou=!1;this.width=280;this.bottom=this.right=15;a={right:"6px",top:"7px"};c={right:"6px",top:"6px"};y(this.element,"floatingPlayer");J(this.element,{zIndex:1004,right:"0px",bottom:"0px",position:"fixed",overflow:"visible",animationName:"fadein",WebkitAnimationName:"fadein",animationDuration:"0.2s",WebkitAnimationDuration:"0.2s",animationTimingFunction:"linear",WebkitAnimationTimingFunction:"linear",height:"auto",width:"auto",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px"});this.element.onclick=function(h){h.stopPropagation()};B("touchstart",document.getElementsByTagName("body")[0],function(){});this.py();M.h(function(h){e.le=h.C.le;e.pa=h.B.xc});b=document.createElement("div");y(b,"header");J(b,{height:"30px",lineHeight:"30px",width:"100%",position:"relative",top:"0px",left:"0px",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"});this.element.appendChild(b);J(this.K,{marginLeft:"15px",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",fontFamily:"UbuntuMedium, Arial, Helvetica, sans-serif",overflow:"hidden",textOverflow:"ellipsis",height:"30px",maxWidth:"calc(100% - 60px)",whiteSpace:"nowrap",cursor:"pointer",position:"relative",display:"inline-block",zIndex:1005});Ym(this.K).h(function(h){e.K.style.textDecoration=!0===h?"underline":"none"});b.appendChild(this.K);this.GF=Sv(b,"move");J(this.GF,{position:"absolute",top:"0px",left:"0px",height:"30px",width:"calc(100% - 60px)"});var f=document.createElement("div");y(f,"optionsArea");J(f,{position:"absolute",right:"30px",top:"3px",height:"25px",width:"25px",borderRadius:"4px",cursor:"pointer"});f.ontouchstart=function(h){Tv(e);h.preventDefault()};f.onclick=function(h){Tv(e);h.preventDefault()};b.appendChild(f);var g=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/menu.svg",f,c);y(g,"lightOptionsIcon");c=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/darkmode-menu.svg",f,c);y(c,"darkOptionsIcon");c=document.createElement("div");y(c,"closeArea");J(c,{position:"absolute",right:"5px",top:"3px",height:"25px",width:"25px",borderRadius:"4px",cursor:"pointer"});c.ontouchstart=function(h){e.close();h.preventDefault()};c.onclick=function(){e.close()};b.appendChild(c);b=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/floating-player-close.svg",c,a);y(b,"lightCloseIcon");a=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/floating-player-close-darkmode.svg",c,a);y(a,"darkCloseIcon");J(this.ag,{position:"relative",cursor:"pointer",display:"block"});a=Sv(this.ag,"pointer");J(a,{top:"0",left:"0",right:"0",bottom:"0",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px"});Vv(a);this.ag.onclick=function(h){h.metaKey||h.ctrlKey||(h.preventDefault(),e.Lk||e.expand())};this.element.appendChild(this.ag);Mv(this.element,function(h){return function(m,n,p){var v=e.le?.5625:.75,A={Zn:e.bottom,$n:e.right,PE:e.width,ao:n,bo:p,minWidth:150,ratio:v},D=e.right,R=e.bottom,K=e.width;n=l(Wv());var ca=n.next().value,Oa=n.next().value;e.Lk=!0;m.stopPropagation();return{enabled:!0,move:function(za,fa){za=Math.min(Math.max(A.minWidth,A.PE+Nv(A,za,fa,h)),.66*window.innerWidth);fa=A.PE-za;var la=A.Zn,Ka=A.$n;switch(h){case 1:Ka=A.$n+fa;break;case 2:Ka=A.$n+fa;la=A.Zn+fa*A.ratio;break;case 3:la=A.Zn+fa*A.ratio;break;case 4:la=A.Zn+fa*A.ratio/2;break;case 5:Ka=A.$n+fa;la=A.Zn+fa*A.ratio/2;break;case 6:Ka=A.$n+fa/2;la=A.Zn+fa*A.ratio;break;case 7:Ka=A.$n+fa/2}za=l([Ka,la,za]);D=za.next().value;R=za.next().value;K=za.next().value;za=K*v;e.setPosition(Math.min(Math.max(R,0),ca-(za+30)),Math.min(Math.max(D,0),Oa-K));e.ag.style.width=K+"px";e.ag.style.height=za+"px"},end:function(){e.bottom=R;e.right=D;e.width=K;e.MA();d()}}}});Nb()&&(a=document.createElement("object"),a.style.position="absolute",a.style.width="calc(100% + 10px)",a.style.height="calc(100% + 10px)",a.style.top="-5px",a.style.left="-5px",a.style.zIndex="-1",a.type="application/x-shockwave-flash",a.data="",a.setAttribute("wmode","transparent"),this.element.appendChild(a));Qm(this.GF,function(h,m,n){var p=e.element.offsetHeight,v=e.element.offsetWidth,A=e.right,D=e.bottom,R=e.bottom,K=e.right;h=l(Wv());var ca=h.next().value,Oa=h.next().value;return{enabled:!0,move:function(za,fa){za-=m;R=Math.min(Math.max(D-(fa-n),0),ca-p);K=Math.min(Math.max(A-za,0),Oa-v);e.setPosition(R,K)},end:function(){e.bottom=R;e.right=K}}});Ku.h(function(h){e.element.style.visibility=h.active?"hidden":"visible"});zv.h(function(h){h.K===e.A&&void 0!==e.gi&&(h.zk?Lv(e.gi):Kv(e.gi))});this.H()}q(Rv,x);function Tv(a){void 0===a.Yc?Xv(a):a.Ou?(a.Yc.style.display="none",a.Ou=!1):(a.Yc.style.display="block",a.Ou=!0)}
function Xv(a){a.Ou=!0;var b=document.createElement("p"),c=document.createElement("p"),d=document.createElement("a");y(d,"link");b.innerText=Hk;c.innerText=Ik;b.style.margin="0px";c.style.margin="0px";b.style.display="inline";c.style.display="inline";d.innerText=Kk;d.href="/?advanced_options=1";d.onclick=function(g){g.metaKey||g.ctrlKey||g.defaultPrevented||Lb()||Db()||(g.preventDefault(),jc(d.href),Tv(a))};var e=document.createElement("div");y(e,"caret");e.style.position="absolute";e.style.height="0px";e.style.width="0px";e.style.right="5px";e.style.top="-5px";e.style.borderBottomWidth="5px";e.style.borderBottomStyle="solid";e.style.borderRight="5px solid transparent";e.style.borderLeft="5px solid transparent";a.Yc=document.createElement("div");y(a.Yc,"menuBubble");a.Yc.appendChild(b);a.Yc.appendChild(d);b={position:"relative",verticalAlign:"middle",marginLeft:"4px",height:"14px",width:"14px"};var f=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/option_cog_light.svg",d,b);y(f,"lightAdvancedOptionsIcon");b=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/option_cog_dark.svg",d,b);y(b,"darkAdvancedOptionsIcon");a.Yc.appendChild(c);a.Yc.appendChild(e);a.Yc.style.position="absolute";a.Yc.style.width="240px";a.Yc.style.right="32px";a.Yc.style.top="40px";a.Yc.style.opacity="0.8";a.Yc.style.borderWidth="1px";a.Yc.style.borderStyle="solid";a.Yc.style.boxSizing="border-box";a.Yc.style.borderRadius="4px";a.Yc.style.padding="4px";a.Yc.style.zIndex="1005";a.element.appendChild(a.Yc)}
k=Rv.prototype;k.py=function(){if(mb()){var a=window.localStorage.getItem("floatingPlayerSettings");null!==a&&(a=JSON.parse(a),this.bottom=a.bottom,this.right=a.right,this.width=a.width)}};k.MA=function(){mb()&&window.localStorage.setItem("floatingPlayerSettings",JSON.stringify({bottom:0>this.bottom?0:this.bottom,right:this.right,width:this.width}))};k.setPosition=function(a,b){J(this.element,{bottom:(0>a?0:a)+"px",right:b+"px"})};k.H=function(){x.prototype.H.call(this);var a=l(Wv()),b=a.next().value;a=a.next().value;var c=Math.min(this.width,.66*a);this.ag.style.height=c*(this.le?.5625:.75)+"px";this.ag.style.width=c+"px";this.setPosition(Math.min(this.bottom,Math.max(0,b-this.element.offsetHeight)),Math.min(this.right,Math.max(0,a-this.element.offsetWidth)))};function Uv(a,b,c){var d=document.createElement("img");d.src=a;d.height=13;d.width=13;J(d,Object.assign({height:"13px",width:"13px",position:"absolute",cursor:"pointer",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none"},c));d.setAttribute("draggable","false");b.appendChild(d);return d}
function Vv(a){var b=Uv("https://static-assets.highwebmedia.com/tsdefaultassets/return-to-room.svg",a,{top:"50%",left:"50%",width:"25px",height:"25px",display:"none",transform:"translate(-50%, -50%)"});Ym(a).h(function(c){!0===c?(a.style.backgroundColor="rgba(0, 0, 0, 0.6)",b.style.display="block"):(a.style.backgroundColor="rgba(0, 0, 0, 0.01)",b.style.display="none")});Pv.h(function(){a.style.backgroundColor="rgba(0, 0, 0, 0.01)";b.style.display="none"})}
function Sv(a,b){var c=document.createElement("div");c.style.position="absolute";c.style.cursor=b;c.style.backgroundColor="rgba(0, 0, 0, 0.01)";a.appendChild(c);return c}function Yv(a,b){a.A=b;a.K.textContent=vk+" "+Ac(b);a.K.href="/"+b+"/";a.ag.href="/"+b+"/"}function Zv(a,b){void 0!==a.gi&&a.ag.removeChild(a.gi.element);a.gi=new Jv(a.A,b,a.pa);a.gi.element.style.top="5px";a.gi.element.style.right="5px";a.ag.appendChild(a.gi.element)}
k.show=function(){jb()||this.nb||(this.F.J instanceof rv&&this.F.J.stop(),this.ag.insertBefore(this.F.J.element,this.ag.firstChild),document.body.appendChild(this.element),this.F.J instanceof rv&&xv(this.F.J),this.nb=!0,this.M(),Ov.j(void 0))};k.D=function(a){a=void 0===a?!1:a;this.nb&&(this.nb=!1,!a&&this.F.J instanceof rv&&this.F.J.stop(),this.F.element.insertBefore(this.F.J.element,this.F.element.firstChild),null!==this.element.parentElement&&this.element.parentElement.removeChild(this.element),!a&&this.F.J instanceof rv&&xv(this.F.J),Pv.j(void 0))};function Wv(){if("BackCompat"===document.compatMode){var a=document.body.clientHeight;var b=document.body.clientWidth}else a=document.documentElement.clientHeight,b=document.documentElement.clientWidth;if(40<window.innerWidth-b||window.innerWidth<b)a=window.innerHeight,b=window.innerWidth;return[a,b]}k.close=function(){this.onclose();this.D()};k.expand=function(){this.XK();this.D()};function $v(a){27!==a.keyCode&&a.stopImmediatePropagation()}function aw(a){32===a.keyCode&&a.target===document.body&&a.preventDefault()}var bw=new t("canvasOpen"),cw=new t("canvasClose"),dw=new t("openFeedbackForm");function ew(a){var b=document.createElement("div");b.style.display="block";void 0!==a&&a.appendChild(b);return b}function fw(){x.apply(this,arguments)}q(fw,x);fw.prototype.initData=function(){this.element=ew();this.control=document.createElement("button");this.control.type="button";this.control.tabIndex=0;this.element.appendChild(this.control)};fw.prototype.Na=function(){this.element.style.position="absolute";this.element.style.top="0";this.element.style.right="0";this.element.style.margin="12px 12px 0 0";y(this.control,"closeControl");this.control.style.padding="4px";this.control.style.cursor="pointer";this.control.style.width="12px";this.control.style.height="12px";this.control.style.border="none";this.control.style.boxSizing="content-box"};function gw(){x.apply(this,arguments)}q(gw,x);gw.prototype.initData=function(){this.element=ew();y(this.element,"header");this.ja=document.createElement("h2");this.ja.textContent=Yd;this.element.appendChild(this.ja)};gw.prototype.Na=function(){J(this.ja,{fontSize:"14px",lineHeight:"18px",fontFamily:"UbuntuRegular, Helvetica, Arial, sans-serif",margin:"0 0 8px"})};function hw(){x.apply(this,arguments)}q(hw,x);hw.prototype.initData=function(){this.element=ew();y(this.element,"submitRow");this.submit=document.createElement("button");this.submit.type="submit";this.submit.textContent=ek;this.submit.disabled=!0;this.element.appendChild(this.submit)};hw.prototype.Na=function(){this.element.style.textAlign="right";J(this.submit,{fontFamily:"UbuntuRegular, Helvetica, Arial, sans-serif",marginTop:"16px",borderStyle:"solid",borderWidth:"1px",borderRadius:"4px",boxSizing:"border-box",opacity:"0.5",padding:"7px"})};hw.prototype.disable=function(){this.submit.disabled=!0;this.submit.style.opacity="0.5";this.submit.style.cursor="default"};hw.prototype.enable=function(){this.submit.disabled=!1;this.submit.style.opacity="1";this.submit.style.cursor="pointer"};function iw(a){x.call(this);this.OD=a;this.QE=new t("inputChange");this.element=ew();J(this.element,{height:"auto",width:"224px",margin:"12px auto 16px",position:"relative"});a=this.OD.form;var b=Xc.Tv;b=H(G("Overall, how was your %(siteName)s experience today?"),{siteName:b},!0);this.cE=new Sn(a,"hidden","sentiment",b,!1);this.OD.form.appendChild(this.element);this.element.appendChild(jw(this,"0"));this.element.appendChild(jw(this,"1"));this.element.appendChild(jw(this,"2"));this.element.appendChild(jw(this,"3"));this.element.appendChild(jw(this,"4",!0))}q(iw,x);function jw(a,b,c){c=void 0===c?!1:c;var d=document.createElement("button");d.type="button";y(d,"sentimentOption");y(d,kw(b));J(d,{height:"24px",width:"24px",padding:"4px",boxSizing:"content-box",backgroundPosition:"center center",backgroundRepeat:"no-repeat",display:"inline-block",backgroundColor:"transparent",border:"none",cursor:"pointer",marginRight:c?"0":"16px",verticalAlign:"middle"});a.QE.h(function(e){e===b?y(d,"selected"):z(d,"selected")});d.onclick=function(){a.qf(b)};return d}
iw.prototype.qf=function(a){this.cE.input.value=a;this.QE.j(a)};iw.prototype.Ml=function(){this.qf("")};function lw(a,b){x.call(this,"div",{control:a});this.canvas=b}q(lw,x);lw.prototype.initData=function(a){var b=this;this.element=document.createElement("div");y(this.element,"screenshot");this.Ee=document.createElement("button");this.Ee.type="button";y(this.Ee,"editToggle");this.Nt=new Image;this.Nt.src="https://static-assets.highwebmedia.com/images/feedback/select.svg";this.Ee.appendChild(this.Nt);this.Xx=document.createElement("div");this.Xx.textContent=ik;this.Ee.appendChild(this.Xx);B("click",this.Ee,function(){b.canvas.show()});B("mouseenter",this.Ee,function(){b.Nt.src="https://static-assets.highwebmedia.com/images/feedback/select_active.svg"});B("mouseleave",this.Ee,function(){b.Nt.src="https://static-assets.highwebmedia.com/images/feedback/select.svg"});this.element.appendChild(this.Ee);this.sb=document.createElement("button");this.sb.type="button";this.sb.onclick=function(){mw(a.control)};this.element.appendChild(this.sb)};lw.prototype.Na=function(){this.element.style.width="100%";this.element.style.minHeight="140px";this.element.style.maxHeight="340px";this.element.style.position="relative";this.element.style.backgroundSize="contain";this.element.style.backgroundRepeat="no-repeat";this.element.style.backgroundPosition="center";this.element.style.justifyContent="center";this.element.style.alignItems="center";this.element.style.display="none";this.Ee.style.width="75%";this.Ee.style.height="100px";this.Ee.style.boxShadow="0px 4px 16px rgba(0, 0, 0, 0.3)";this.Ee.style.borderRadius="4px";this.Ee.style.textAlign="center";this.Ee.style.cursor="pointer";this.Ee.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Xx.style.width="100%";J(this.sb,{position:"absolute",right:"10px",top:"10px",height:"24px",width:"24px",padding:"4px",background:"transparent url(https://static-assets.highwebmedia.com/tsdefaultassets/feedback/remove-screenshot.svg) no-repeat center center",border:"none",cursor:"pointer"})};function nw(a,b){x.call(this,"div",{canvas:b});this.xz=a;this.canvas=b;this.Sy=!1}q(nw,x);nw.prototype.initData=function(a){var b=this;this.element=ew();this.button=document.createElement("button");this.button.type="button";this.button.textContent=fk;B("click",this.button,function(c){c.preventDefault();ow(b)});this.element.appendChild(this.button);this.ta=new lw(this,a.canvas);this.I(this.ta,this.element);this.info=document.createElement("div");this.info.style.display="none";this.element.appendChild(this.info);this.error=document.createElement("span");this.element.appendChild(this.error)};nw.prototype.Na=function(){this.element.style.width="306px";this.element.style.textAlign="center";this.element.style.marginBottom="8px";y(this.element,"screenShotControl");y(this.button,"sscButton");J(this.button,{fontFamily:"UbuntuRegular, Arial, Helvetica, sans-serif",border:"none",boxSizing:"border-box",display:"block",cursor:"pointer",textDecoration:"underline",padding:"0",marginBottom:"16px"});y(this.error,"error");y(this.info,"info");this.info.style.margin="8px 0 10px"};function ow(a){if(pw(a.canvas)&&(mw(a),qw(a.canvas),a.error.textContent="",void 0!==a.canvas.ta)){var b=a.canvas.ta.getContext("2d");if(null!==b){a.Sy=!0;a.xz.D();var c=!1,d=document.createElement("video");d.style.display="none";a.canvas.element.appendChild(d);a.canvas.getDisplayMedia().then(function(e){d.srcObject=e;a.bN=e;d.play();B("canplay",d,function(){c||(c=!0,window.setTimeout(function(){var f=window.innerWidth,g=window.innerHeight,h=d.videoWidth/d.videoHeight;g*h<f?f=g*h:g=f/h;rw(a.canvas,f,g);b.drawImage(d,0,0,f,g);a.ta.element.style.backgroundImage='url("'+b.canvas.toDataURL("image/png")+'")';a.ta.element.style.height=g/f*306+"px";a.ta.element.style.display="flex";a.info.style.display="block";a.button.style.display="none";d.pause();a.bN.getTracks().forEach(function(m){m.stop()});a.canvas.element.removeChild(d);a.xz.show();window.setTimeout(function(){a.Sy=!1},1E3)},250))},!1)}).catch(function(e){a.xz.show();a.error.textContent="NotAllowedError"===e.name?mk:nk;a.canvas.element.removeChild(d);mw(a)})}}}function mw(a){pw(a.canvas)&&(a.ta.element.style.backgroundImage="",a.ta.element.style.display="none",a.button.textContent=fk,a.info.style.display="none",a.button.style.display="block",sw(a.canvas),a.canvas.D())}
function tw(a,b){x.call(this);this.canvas=b;this.errors=[];pw(this.canvas)&&(this.ta=new nw(a,this.canvas),uw(this),this.errors.push(this.ta.error));this.errors.push(this.Sn);this.errors.push(this.mb.error);this.rf=new hw;this.element.appendChild(this.form);this.form.appendChild(this.Sn);pw(this.canvas)&&this.I(this.ta,this.form);this.form.appendChild(this.so);this.form.appendChild(this.Pp);this.form.appendChild(this.url);this.form.appendChild(this.source);this.I(this.rf,this.form)}q(tw,x);tw.prototype.initData=function(){function a(){window.setTimeout(function(){""===b.mb.input.value.trim()?b.rf.disable():b.rf.enable()},200)}var b=this;this.element=ew();this.form=document.createElement("form");this.form.action="/feedback/submit/";this.form.method="POST";this.Sn=document.createElement("p");this.Qo=new iw(this);this.mb=new Sn(this.form,"textarea","comments",ck);y(this.mb.input,"feedbackComment");this.mb.input.style.boxSizing="border-box";this.mb.input.maxLength=5E3;B("keyup",this.mb.input,a);B("touchend",this.mb.input,a);B("paste",this.mb.input,a);B("cut",this.mb.input,a);this.so=document.createElement("p");y(this.so,"privacyNotice");this.so.textContent=dk.replace("%SITE_NAME%",Xc.Tv);this.Pp=document.createElement("input");this.Pp.type="hidden";this.Pp.name="csrfmiddlewaretoken";this.Pp.value=Wa("csrftoken");this.url=document.createElement("input");this.url.type="hidden";this.url.name="url";this.url.value=document.location.href.substr(0,255);this.source=document.createElement("input");this.source.type="hidden";this.source.name="source";this.source.value=""};tw.prototype.Na=function(){var a=this;this.Sn.style.color="red";J(this.mb.input,{width:"306px",resize:"none",minHeight:"72px",boxSizing:"border-box",marginBottom:"8px"});y(this.mb.error,"error");this.mb.error.style.marginBottom="20px";y(this.so,"notice");this.so.style.fontSize="10.5px";this.so.style.lineHeight="14px";B("submit",this.form,function(b){b.preventDefault();a.mb.input.blur();vw(a);var c=new FormData;c.append("sentiment",a.Qo.cE.input.value);c.append("comments",a.mb.input.value);c.append("url",document.location.href.substr(0,255));c.append("source",a.source.value);c.append("csrfmiddlewaretoken",Wa("csrftoken"));void 0!==a.canvas.ta?a.canvas.ta.toBlob(function(d){null!==d&&c.append("screenshot",d,"screenshot.png");ww(a,c)}):ww(a,c)})};function xw(a){return pw(a.canvas)&&"none"!==a.ta.button.style.display}function uw(a){xw(a)&&(a.ta.info.textContent="footer"===a.source.value?hk:gk)}function vw(a){a.errors.forEach(function(b){b.textContent=""})}
function yw(a){for(;null!==a.element.firstChild;)a.element.removeChild(a.element.firstChild);a.element.appendChild(a.form);a.mb.input.focus()}
function ww(a,b){a.rf.disable();F(a.form.action,b).then(function(c){c=c.getResponseHeader("content-type");null!==c&&c.includes("text/html")?(a.Sn.textContent=tk,a.rf.enable()):(yw(a),vw(a),a.mb.input.value="",a.Qo.Ml(),a.rf.disable(),a.form.reset(),pw(a.canvas)&&mw(a.ta),a.element.removeChild(a.form),c=document.createElement("p"),c.textContent=qk,a.element.appendChild(c))}).catch(function(c){if(429===c.$d.status)a.Sn.textContent=sk,a.rf.enable();else try{var d=JSON.parse(c.$d.response);void 0!==d.ZI&&(a.mb.error.textContent=d.ZI);a.rf.enable()}catch(e){a.Sn.textContent=rk,a.rf.enable()}})}function zw(a){x.call(this,"div",{canvas:a});this.canvas=a;y(this.element,"drawControls")}q(zw,x);zw.prototype.initData=function(a){var b=this;this.element=ew();this.element.tabIndex=-1;this.Mt=document.createElement("div");this.Mt.style.background="url(https://static-assets.highwebmedia.com/images/feedback/drag.svg) no-repeat center";this.element.appendChild(this.Mt);this.ih=document.createElement("button");this.ih.type="button";y(this.ih,"highlight");this.Gy=new Image;this.Gy.src="https://static-assets.highwebmedia.com/images/feedback/highlight_issue.svg";this.ih.appendChild(this.Gy);this.Iy=document.createElement("span");this.Iy.textContent=kk;this.ih.appendChild(this.Iy);B("click",this.ih,function(){Aw(b.canvas)});this.element.appendChild(this.ih);this.D=document.createElement("button");this.D.type="button";this.By=document.createElement("div");this.D.appendChild(this.By);this.Ey=document.createElement("span");this.Ey.textContent=lk;this.D.appendChild(this.Ey);y(this.D,"highlight");B("click",this.D,function(){var c=b.canvas;Bw(c);Cw(c);if(void 0!==c.ub){var d=c.ub.getContext("2d");null!==d&&(y(c.controls.D,"active"),d.globalAlpha=1,d.strokeStyle="rgb(0, 0, 0)",d.lineWidth=5,c.fillRect=!0,Dw(c))}});this.element.appendChild(this.D);this.bK=document.createElement("hr");this.element.appendChild(this.bK);this.done=document.createElement("a");y(this.done,"done");this.done.style.textDecoration="none";B("click",this.done,function(c){c.preventDefault();Ew(b);b.canvas.D()});this.element.appendChild(this.done);Mn(this.element,{},[this.Mt]);B("keydown",a.canvas.element,function(c){c.stopPropagation();27===c.keyCode&&"block"===b.element.style.display&&(c.stopImmediatePropagation(),Ew(b),b.canvas.D())})};function Ew(a){void 0!==a.canvas.ta&&void 0!==a.ta&&(a.ta.element.style.backgroundImage='url("'+a.canvas.ta.toDataURL("image/png")+'")')}
zw.prototype.Na=function(){J(this.element,{borderRadius:"4px",padding:"10px 15px 5px 15px",position:"fixed",zIndex:2010,textAlign:"right",width:"115px",height:"101px",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",userSelect:"none",boxShadow:"10px 10px 25px -5px rgba(0,0,0,0.75)"});J(this.Mt,{width:"20px",height:"10px",position:"absolute",right:"0",top:"5px"});y(this.ih,"highlight");J(this.ih,{border:"0",display:"inline-block",padding:"5px",position:"relative",margin:"7px 0 0 0",left:"-15px",width:"145px",textAlign:"left",cursor:"pointer",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif"});J(this.Gy,{width:"23px",verticalAlign:"middle",marginRight:"10px"});this.Iy.style.verticalAlign="middle";y(this.D,"highlight");J(this.D,{border:"0",display:"inline-block",padding:"5px",position:"relative",margin:"0",left:"-15px",width:"145px",textAlign:"left",cursor:"pointer",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif"});y(this.By,"hideImage");J(this.By,{width:"20px",verticalAlign:"middle",marginRight:"10px",height:"20px",display:"inline-block"});this.Ey.style.verticalAlign="middle";J(this.done,{padding:"4px",cursor:"pointer",textAlign:"right"});this.done.textContent=uk};function Fw(){x.call(this);this.fillRect=!1;this.oo=navigator.mediaDevices;if(void 0===this.oo||void 0===this.oo.getDisplayMedia)this.oo=void 0;void 0===document.createElement("canvas").toBlob&&(this.oo=void 0);this.controls=new zw(this);this.I(this.controls,this.element)}q(Fw,x);k=Fw.prototype;k.initData=function(){var a=this;this.element=ew();this.Xn=ew(this.element);this.Xn.innerHTML=jk+' (<a href="#" onclick="this.parentNode.style.display=\'none\';">'+jg+"</a>)";B("click",this.Xn,function(){var b;null===(b=a.ub)||void 0===b?void 0:b.focus()});this.Xn.style.userSelect="none"};k.Na=function(){y(this.element,"canvas");J(this.element,{display:"none",position:"absolute",height:"100%",width:"100%"});y(this.Xn,"infoToolTip");J(this.Xn,{position:"fixed",backgroundColor:"#FFFFD3",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",zIndex:2020,top:"100px",left:"0",right:"0",margin:"0 auto",padding:"12px",fontWeight:"bold",width:"500px",textAlign:"center",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",fontSize:"1.3em"})};function pw(a){return void 0!==a.oo&&!Kb()}k.getDisplayMedia=function(){if(!pw(this))throw new ReferenceError("Display media not supported by browser");return this.oo.getDisplayMedia({video:{gO:"browser",cursor:!1},audio:!1})};function qw(a){sw(a);a.ta=document.createElement("canvas");J(a.ta,{zIndex:2E3,top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0px auto",position:"fixed"});a.D();a.element.appendChild(a.ta)}
function sw(a){Gw(a);void 0!==a.ta&&(a.element.removeChild(a.ta),a.ta=void 0)}function rw(a,b,c){void 0!==a.ta&&(a.ta.width=b,a.ta.height=c,a.ta.style.width=b+"px",a.ta.style.height=c+"px")}function Cw(a){void 0!==a.ta&&(void 0!==a.ub&&(a.element.removeChild(a.ub),a.ub=void 0),a.ub=a.ta.cloneNode(),a.ub.style.zIndex="2001",a.ub.tabIndex=0,a.element.appendChild(a.ub),Hw(a))}function Gw(a){void 0!==a.ub&&(a.element.removeChild(a.ub),a.ub=void 0)}
k.D=function(){this.element.style.display="none";Gw(this);Bw(this);window.top!==window&&null!==window.top&&(window.top.document.body.style.display="");document.body.style.overflow="";cw.j(void 0)};k.show=function(){this.element.style.display="block";this.controls.element.style.left="75px";this.controls.element.style.bottom="30px";this.Xn.style.display="block";window.top!==window&&null!==window.top&&(window.top.document.body.style.display="none");document.body.style.overflow="hidden";Cw(this);Aw(this);void 0!==this.ub&&this.ub.focus();bw.j(void 0)};function Hw(a){if(void 0!==a.ub){var b=a.ub.getContext("2d");if(null!==b){var c=a.ta,d=a.ub;if(void 0!==c&&void 0!==d){var e=d.getContext("2d");if(null!==e){var f=e.globalAlpha;e.globalAlpha=1;e.clearRect(0,0,d.width,d.height);e.drawImage(c,0,0);e.globalAlpha=f}}c=b.globalAlpha;d=b.strokeStyle;b.globalAlpha=.1;b.strokeStyle="rgb(0, 0, 0)";b.fillRect(0,0,a.ub.width,a.ub.height);b.globalAlpha=c;b.strokeStyle=d}}}
function Bw(a){a.controls.D.style.backgroundColor="transparent";a.controls.D.classList.toggle("active",!1);a.controls.ih.style.backgroundColor="transparent";a.controls.ih.classList.toggle("active",!1);void 0!==a.ub&&(void 0!==a.lk&&(C("mousedown",a.ub,a.lk.Vx),C("mouseup",window,a.lk.LB),C("mousemove",window,a.lk.move),a.lk=void 0),a.ub.style.cursor="default")}
function Aw(a){Bw(a);Cw(a);if(void 0!==a.ub){var b=a.ub.getContext("2d");null!==b&&(y(a.controls.ih,"active"),b.globalAlpha=.8,b.strokeStyle="rgb(249, 185, 144)",b.lineWidth=5,a.fillRect=!1,Dw(a))}}
function Dw(a){if(void 0!==a.ub){a.ub.style.cursor="crosshair";var b=a.ub.getContext("2d");if(null!==b){var c=0,d=0,e=0,f=0,g=0,h=0,m=!1,n=function(){h=g=d=c=0;m=!1};a.lk={Vx:function(p){m&&(Iw(a,c,d,g,h,b),n());var v=a.ub.getBoundingClientRect();c=p.clientX-v.left;d=p.clientY-v.top;m=!0;b.canvas.style.cursor="crosshair"},LB:function(){m&&(Iw(a,c,d,g,h,b),n())},move:function(p){if(m){var v=a.ub.getBoundingClientRect();e=p.clientX-v.left;f=p.clientY-v.top;Hw(a);g=e-c;h=f-d;p=c;v=d;var A=g,D=h;b.beginPath();b.rect(p,v,A,D);a.fillRect?b.fill():b.stroke()}}};B("mousedown",a.ub,a.lk.Vx);B("mouseup",window,a.lk.LB);B("mousemove",window,a.lk.move)}}}function Iw(a,b,c,d,e,f){if(void 0!==a.ta){a.ta.style.cursor="crosshair";var g=a.ta.getContext("2d");null!==g&&(g.globalAlpha=f.globalAlpha,g.strokeStyle=f.strokeStyle,g.lineWidth=f.lineWidth,g.beginPath(),g.rect(b,c,d,e),a.fillRect?g.fill():g.stroke())}}
function Jw(){rc.call(this,{Am:function(){a.Am()},uh:function(){a.uh()},Zl:!0});var a=this;this.isVisible=!1;this.qv=this.Sz=!0;this.element.classList.add("block_CB1_chat_focus");y(this.da,"overlayOpacity");y(this.element,"userFeedbackForm");y(this.element,"defaultColor");bw.h(function(){a.element.style.display="none"});cw.h(function(){a.element.style.display="block"})}q(Jw,rc);Jw.prototype.initData=function(){function a(){return c.form.rf.submit.disabled?c.close.control:c.form.rf.submit}function b(d,e){return function(f){"Tab"===f.key&&(f.preventDefault(),f.shiftKey?(e instanceof HTMLElement?e:e()).focus():(d instanceof HTMLElement?d:d()).focus())}}var c=this;this.canvas=new Fw;pw(this.canvas)&&document.body.appendChild(this.canvas.element);this.Oy=ew(this.element);this.close=new fw;B("click",this.close.control,function(){c.D()});this.I(this.close,this.Oy);this.ja=new gw;this.I(this.ja,this.Oy);this.form=new tw(this,this.canvas);pw(this.canvas)&&(this.canvas.controls.ta=this.form.ta.ta);this.I(this.form,this.Oy);this.element.querySelectorAll(".sentimentOption").forEach(function(d){B("keydown",d,b(c.form.mb.input,c.close.control))});B("keydown",this.form.mb.input,b(function(){return xw(c.form)?c.form.ta.button:a()},this.close.control));xw(this.form)&&B("keydown",this.form.ta.button,b(a,this.form.mb.input));B("keydown",this.form.rf.submit,b(this.close.control,this.form.mb.input));B("keydown",this.close.control,b(this.form.mb.input,function(){return c.form.rf.submit.disabled?c.form.mb.input:c.form.rf.submit}))};Jw.prototype.Na=function(){var a=this;J(this.element,{position:"fixed",top:"150px",fontSize:"12px",left:"50%",marginLeft:"-157px",width:"310px",height:"auto",border:"4px",borderRadius:"4px",padding:"15px",fontFamily:"UbuntuRegular, Helvetica, Arial, sans-serif"});pw(this.canvas)&&B("resize",window,function(){a.form.ta.Sy||void 0===a.canvas.ta||(mw(a.form.ta),a.form.ta.error.textContent=pk)})};Jw.prototype.Am=function(){this.form.Pp.value=Wa("csrftoken");this.form.url.value=document.location.href.substr(0,255);this.element.style.display="";this.H();this.isVisible=!0;B("keydown",this.element,$v);B("keydown",document.body,aw);yw(this.form)};Jw.prototype.uh=function(){var a=this.isVisible;this.element.style.display="none";this.isVisible=!1;a&&(C("keydown",this.element,$v),C("keydown",document.body,aw));try{window.dispatchEvent(new Event("resize"))}catch(b){-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?(a=document.createEvent("UIEvents"),a.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(a)):w("Could not fire resize event")}this.canvas.D()};function Kw(){var a=void 0!==screen.orientation?screen.orientation.type:void 0;if(void 0!==a){if(a.startsWith("portrait"))return!0;if(a.startsWith("landscape"))return!1}}function Lw(){if(!tb)return!0;var a=Kw();if(void 0!==a)return a;switch(window.orientation){case 0:case 180:case-180:return!0;case 90:case-90:case 270:return!1}return window.innerWidth===Math.min(screen.width,screen.height)?!0:window.innerWidth<=window.innerHeight}
function Mw(a){if(!tb)return!0;if(!Fb()){var b=Kw();if(void 0!==b)return!b}switch(window.orientation){case 0:case 180:case 270:case-180:return!1;case 90:if(void 0===a||"user"===a)return!Fb();break;case-90:if("environment"===a)return!Fb()}return!0};function kw(a){switch(a){case "0":return"smileyInTrouble";case "1":return"smileyUnhappy";case "2":return"smileyIndifferent";case "3":return"smileySmirk";case "4":return"smileyInLove"}}
function Nw(){if("1"===Dn().force_sentiment){var a=window.location.pathname.replace(/\//g,"");a=new Ow(a);document.body.appendChild(a.element);a.show()}else{var b=["unknown","offline","notconnected","passwordprotected","hidden"],c;M.h(function(e){c=e.B});var d=window.setTimeout(function(){if(void 0!==c&&-1===b.indexOf(c.status)){var e=c.A();E("feedback/sentiment/submit/").then(function(f){T(new N(f.responseText),"show_sentiment_survey")&&(f=new Ow(e),document.body.appendChild(f.element),f.show())}).catch(function(){})}},3E5);gc.once(function(){clearTimeout(d)})}}function Ow(a){x.call(this);var b=this;this.A=a;this.element=Pw(this);this.vB=this.gJ();gc.once(function(){b.close()})}q(Ow,x);function Pw(a){return W("div",{style:{position:"fixed",width:"288px",bottom:"8px",right:"20px",borderRadius:"4px",overflow:"hidden",zIndex:1004},colorClass:"cornerSurveyWrapper"},W("div",{style:{borderRadius:"4px",borderStyle:"solid",borderWidth:"4px 1px 1px 1px",paddingLeft:"16px"},colorClass:"cornerSurveyContainer",ref:function(b){a.tt=b}},W("img",{style:{position:"absolute",width:"14px",height:"14px",top:"14px",right:"14px",padding:"2px",cursor:"pointer",zIndex:1},src:"https://static-assets.highwebmedia.com/tsdefaultassets/popup_survey/close.svg",onClick:function(){a.close();L("FeedbackSentimentClosed")}}),W("div",{style:{margin:"-4px -17px"},colorClass:"timerContainer",ref:function(b){a.HH=b}},W("div",{style:{position:"relative",width:"288px",height:"4px"},colorClass:"timer",ref:function(b){a.ql=b}}))))}k=Ow.prototype;k.show=function(){this.tt.appendChild(this.vB);Qw(this,15,!0);L("FeedbackSentimentPopup")};k.close=function(){this.tt.contains(this.vB)&&F("feedback/sentiment/cancel/",{}).catch(function(){});null!==this.element.parentElement&&this.element.parentElement.removeChild(this.element)};k.submit=function(a){this.NL=a;F("feedback/sentiment/submit/",{rating:a,room_user:this.A,url:window.location.href}).catch(function(){});this.tt.removeChild(this.vB);this.tt.appendChild(this.eJ());Qw(this,7,!1)};k.gJ=function(){return W("div",{colorClass:"survey"},W("div",{style:{position:"relative",paddingTop:"16px",fontSize:"14px",width:"245px"},colorClass:"title"},am),W("div",{style:{position:"relative",padding:"16px 0px 11px 0px"}},this.Mp("0"),this.Mp("1"),this.Mp("2"),this.Mp("3"),this.Mp("4")))};k.Mp=function(a){return Rw(this,a)};function Rw(a,b){return W("div",{style:{position:"relative",display:"inline-block",width:"40px",height:"40px",boxSizing:"border-box",marginRight:"8px",borderRadius:"4px",borderStyle:"solid",borderWidth:"1px",cursor:"pointer"},colorClass:"emoteContainer",onClick:function(){a.submit(b)}},W("div",{style:{position:"relative",width:"24px",height:"24px",top:"7px",left:"7px"},colorClass:kw(b)}))}k.eJ=function(){return this.fJ()};k.fJ=function(){var a=this;return W("div",{colorClass:"confirmation"},W("div",{style:{position:"relative",paddingTop:"16px",fontSize:"12px"},colorClass:"title"},bm),W("a",{href:"#",style:{display:"block",paddingBottom:"12px",fontSize:"12px"},colorClass:"feedbackLink",onClick:function(){a.close();dw.j({source:"sentiment_survey",Qo:a.NL});L("FeedbackSentimentDescribed")}},cm))};function Qw(a,b,c){a.ql.classList.remove("timerBar15s");a.ql.classList.remove("timerBar7s");a.ql.classList.add("timerBar"+b+"s");c?a.element.classList.add("pauseOnHover"):a.element.classList.remove("pauseOnHover");a.HH.removeChild(a.ql);a.ql=a.ql.cloneNode();a.HH.appendChild(a.ql);Lb()||Db()?window.setTimeout(function(){a.close()},1E3*b+200):B("animationend",a.ql,function(){window.setTimeout(function(){a.close()},200)})};function Sw(){function a(v){if("close"===v.data)g.Fp=!0,e();else if("hide-spinner"===v.data)g.pH.style.display="none";else if("crypto-submit"===v.data)g.Fp=!1,g.da.onclick=function(A){A.preventDefault()},p.onclick=function(A){A.preventDefault()};else if("crypto-error"===v.data)g.Fp=!0,g.da.onclick=function(A){A.stopPropagation();e();g.Mc.j(void 0)},p.onclick=e;else if(0===v.data.indexOf("crypto-redirect: "))b(v.data.substring(17),950,780);else if(0===v.data.indexOf("billing-redirect: "))b(v.data.substring(18),715,430);else if(0<=v.origin.indexOf(window.location.hostname)){switch(v.data){case "/tipping/purchase_tokens/":n.style.display="none"}p.onclick=e;null!==h.contentWindow&&B("keydown",h.contentWindow,d)}}function b(v,A,D){window.open(v,"_blank","status=0,toolbar=0,menubar=0,directories=0,resizable=1,scrollbars=1,height="+A+",width="+D);g.Fp=!0;e()}function c(v){var A=document.createElement("div");A.style.position="absolute";A.style.width="3px";A.style.height="15px";A.style.left="5px";A.style.background="#C4C4C4";A.style.transform=v;return A}function d(v){"Esc"!==v.key&&"Escape"!==v.key||e()}function e(){g.Fp&&!g.Ty&&(g.Ty=!0,C("message",window,a),C("keydown",document,d),f())}function f(){clearInterval(g.tL);g.element.style.opacity="0";g.content.style.right="-500px";window.setTimeout(function(){g.D()},500)}rc.call(this,{Zl:!1});var g=this;this.Ty=!1;this.Fp=!0;this.width=430;this.tx=135;this.url="/tipping/purchase_tokens/"+window.location.search;this.element.style.width=this.width+20+"px";this.element.style.position="fixed";this.element.style.right="0";this.element.style.top=this.tx+"px";this.element.style.minHeight="200px";this.element.style.zIndex="1001";this.element.style.overflow="hidden";this.element.style.opacity="0";this.element.style.transition="opacity 1s";this.element.style.zIndex="1003";this.da.style.zIndex="1002";this.da.style.background="rgba(0, 0, 0, 0.5)";this.content=document.createElement("div");this.content.style.position="absolute";this.content.style.right="-500px";this.content.style.minHeight="200px";this.content.style.maxHeight="735px";this.content.style.width=this.width+"px";this.content.style.border="1px solid #ccc";this.content.style.borderRadius="5px";this.content.style.background="#FFF";this.content.style.transition="right 500ms";this.content.style.zIndex="1002";this.element.appendChild(this.content);var h=Tw(this),m=document.createElement("div");this.content.appendChild(m);var n=Uw();m.appendChild(n);var p=document.createElement("div");p.onclick=f;p.style.display="inline-block";p.style.height="12.73px";p.style.width="12.73px";p.style.cursor="pointer";p.style.position="absolute";p.style.right="15px";p.style.top="10px";p.appendChild(c("rotate(-135deg)"));p.appendChild(c("rotate(-45deg)"));m.appendChild(p);this.pH=this.Np();this.content.appendChild(this.pH);this.da.onclick=function(v){v.stopPropagation();e();g.Mc.j(void 0)};n.onclick=function(){h.src=g.url};h.onload=function(){clearInterval(g.tL);var v=document.createElement("a");v.href=h.src;-1===g.url.indexOf(""+v.pathname+
v.search)&&(n.style.display="inline-block",p.onclick=f)};window.setTimeout(function(){g.content.appendChild(h)},1);B("message",window,a);B("keydown",document,d);this.show();window.setTimeout(function(){h.style.opacity="1"},1E3);this.H()}q(Sw,rc);function Tw(a){var b=document.createElement("iframe");b.className="purchaseFrame";b.src=a.url;b.style.border="none";b.style.padding="0";b.style.background="transparent";b.style.height="calc(100% - 5px)";b.style.width="100%";b.style.transition="height 200ms, opacity 1s";b.style.opacity="0";return b}
function Uw(){var a=document.createElement("div");a.innerHTML="&lt; ";a.style.display="none";a.style.color="#999";a.style.cursor="pointer";a.style.fontSize="20px";a.style.fontWeight="bold";a.style.borderRadius="50px";a.style.padding="2px 0 5px 7px";var b=document.createElement("small");b.innerText="Back";b.style.fontSize="12px";b.style.verticalAlign="middle";b.style.lineHeight="9px";a.appendChild(b);return a}
Sw.prototype.Np=function(){var a=document.createElement("div");a.style.animationName="spin";a.style.position="absolute";a.style.top="50%";a.style.left="50%";a.style.width="30px";a.style.height="31px";a.style.margin="-15px 0 0 -15px";a.style.background='url("https://static-assets.highwebmedia.com/tsdefaultassets/images/loading_spinner.svg")';a.style.backgroundSize="cover";a.style.animationName="spin";a.style.animationDuration="2s";a.style.webkitAnimationDuration="2s";a.style.animationTimingFunction="linear";a.style.webkitAnimationTimingFunction="linear";a.style.animationIterationCount="infinite";a.style.webkitAnimationIterationCount="infinite";a.style.zIndex="-1";return a};Sw.prototype.show=function(){var a=this;rc.prototype.show.call(this);window.setTimeout(function(){a.element.style.opacity="1"},1);window.setTimeout(function(){a.content.style.right="10px"},500)};Sw.prototype.H=function(){this.content.style.height=window.innerHeight-this.tx-10+"px";this.element.style.top=Math.min(this.tx,window.innerHeight-this.content.offsetHeight-10)+"px"};function Vw(a){x.call(this);var b=this;this.data=a;this.disabled=!1;this.VK=function(d){b.disabled&&(d.preventDefault(),void 0!==b.data.wD?oo(b.data.wD,function(){void 0!==b.Vi&&b.Vi(d)}):void 0!==b.Vi&&b.Vi(d))};this.iM=function(){void 0!==b.Yg&&(b.Yg.style.display="block")};this.$J=function(){void 0!==b.Yg&&(b.Yg.style.display="none")};this.element.removeAttribute("id");y(this.element,"menuItem");this.element.style.padding="9px 0";this.element.style.cursor="pointer";this.element.style.boxSizing="border-box";this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";void 0!==a.Yg&&(this.Yg=a.Yg,this.Yg.style.top="57px",this.element.appendChild(a.Yg));this.wk=document.createElement("dt");this.wk.style.margin="0";this.wk.style.padding="0 8px 5px 28px";this.wk.style.backgroundSize="14px 14px";this.wk.innerText=a.label;this.element.appendChild(this.wk);var c=a.description;void 0!==c&&0<c.length&&(this.Gn=document.createElement("dd"),this.Gn.style.margin="0",this.Gn.style.padding="0 8px 0 28px",this.Gn.innerText=c,this.element.appendChild(this.Gn));Ww+=1;c="ButtonMenuItem"+Ww.toString();this.input=document.createElement("input");this.input.id=c;this.input.name=c;this.input.type="radio";this.input.style.cursor="pointer";this.input.style.position="absolute";this.input.style.opacity="0";this.input.style.width="0";this.input.style.height="0";this.element.appendChild(this.input);void 0!==a.Vi&&(this.Vi=a.Vi);B("mouseenter",this.element,function(){b.disabled&&void 0!==b.Yg&&b.iM()});B("mouseleave",this.element,function(){b.disabled&&void 0!==b.Yg&&b.$J()});this.aq=a.aq;B("click",this.element,function(d){b.disabled?void 0!==b.Vi&&b.Vi(d):b.aq(d)});B("touchstart",this.element,this.VK);B("focus",this.input,function(){b.element.style.outline="2px solid Highlight"});B("blur",this.input,function(){b.element.style.removeProperty("outline")})}q(Vw,x);k=Vw.prototype;k.select=function(){y(this.wk,"selected")};k.Vl=function(){z(this.wk,"selected")};k.ed=function(){return this.data.value};k.jq=function(){var a=this.data.HC;return void 0===a?this.data.label:a};k.disable=function(){this.disabled||(this.disabled=!0,y(this.element,"disabled"))};k.enable=function(){this.disabled&&(this.disabled=!1,z(this.element,"disabled"))};var Ww=0;function Xw(a,b){gr.call(this);var c=this;this.width=280;this.visible=!1;this.eC=new t("visibilityChange");this.Po=new t("selectionChange");var d=[],e=a.length;0===e&&w("ButtonMenu requires at least one option!");y(this.element,"menu");this.element.style.padding="0";this.element.style.display="none";this.element.style.width=this.width+"px";this.element.style.textAlign="left";this.element.style.fontSize="14px";this.element.style.lineHeight="14px";this.element.style.borderRadius="4px";this.da.style.zIndex="1002";this.element.style.zIndex="1003";this.element.style.overflow="visible";this.element.style.removeProperty("height");for(var f=-1,g=e-1,h={},m=0;m<e;h={Af:h.Af,As:h.As},m+=1){var n=a[m];n.value===b&&(f=m);n.aq=function(p){return function(v){v.stopPropagation();c.vo(p.Af)}}(h);h.Af=new Vw(n);h.As=function(p){return function(v){v.preventDefault();v.stopPropagation();c.vo(p.Af);return!1}}(h);B("keyup",h.Af.input,function(p){return function(v){return 32===v.keyCode?p.As(v):!0}}(h));B("keydown",h.Af.input,function(p){return function(v){return 13===v.keyCode?p.As(v):!0}}(h));0===m&&(h.Af.element.style.borderTopWidth="1px",h.Af.element.style.borderTopLeftRadius="2px",h.Af.element.style.borderTopRightRadius="2px");m===g&&(h.Af.element.style.borderBottomLeftRadius="2px",h.Af.element.style.borderBottomRightRadius="2px");this.I(h.Af);d.push(h.Af.input)}this.hl=this.children()[-1===f?0:f];this.Kn=d;this.Po.h(function(p){p.current.select();void 0!==p.previous&&p.previous.Vl()});this.Mc.h(function(){c.D()})}
q(Xw,gr);k=Xw.prototype;k.ed=function(){return this.hl.ed()};k.jq=function(){return this.hl.jq()};k.isVisible=function(){return this.visible};k.show=function(a){this.isVisible()||(this.eC.j(!0),this.element.style.display="inline-block",this.element.style.top=a.top+"px",this.element.style.left=a.left+"px",this.Eh(),this.visible=!0,this.M())};k.D=function(a){a=void 0===a?!1:a;this.isVisible()&&(a||this.eC.j(!1),this.visible=!1,this.element.style.display="none",this.Fb())};k.toggle=function(a){this.isVisible()?this.D():this.show(a)};k.Ye=function(){gr.prototype.Ye.call(this);var a={current:this.hl};a.current.select();void 0!==a.previous&&a.previous.Vl()};k.hy=function(){for(var a,b=this.parent;void 0!==b;b=b.parent)if("hidden"===window.getComputedStyle(b.element).overflowY){a=b.element;break}return a};k.H=function(){if(this.isVisible()){var a=this.hy();a=(void 0!==a?a.getBoundingClientRect().bottom:document.documentElement.clientHeight)-this.element.getBoundingClientRect().bottom;32>a&&(this.element.style.top=this.element.offsetTop-(32-a)+"px")}};k.vo=function(a){var b=this.hl;this.D();a!==b&&(this.hl=a,this.Po.j({previous:b,current:a}))};function Yw(a){x.call(this);var b=this;this.enabled=this.vn=this.Kq=!0;this.KM=new t("tipTypeChange");y(this.element,"sendTip");this.element.style.margin="6px";this.element.style.display="inline-block";this.element.style.verticalAlign="top";this.element.style.cssFloat="right";this.element.style.overflow="visible";this.element.style.position="static";this.element.style.removeProperty("width");this.element.style.removeProperty("height");this.Kb=this.Kx();this.kg=Zw(this);this.kg.innerHTML="&#9660;";this.kg.id="id_tip_type_select_tm";this.bd=new Xw($w,a);this.Kb.innerText=this.bd.jq();a=l(this.bd.children());for(var c=a.next();!c.done;c=a.next())ax(c.value);this.element.appendChild(this.Kb);this.element.appendChild(this.kg);this.fn=this.bd.ed();this.I(this.bd);this.bd.Po.h(function(d){b.vn&&(d=d.current.ed(),bx(b,d),b.Kb.focus())});B("mouseenter",this.Kb,function(){b.Kb.style.textDecoration="underline"});B("mouseleave",this.Kb,function(){b.Kb.style.textDecoration="none"});B("click",this.kg,function(d){d.preventDefault();d.stopPropagation();d=b.element;var e=jn(b.Kb);b.bd.toggle({top:e.height+2*e.top,left:d.offsetLeft+d.offsetWidth+1-b.bd.width});return!1});this.bd.eC.h(function(d){d||b.Kb.focus()});this.Kn=[this.Kb,this.kg];M.h(function(d){if(d.C.oC){d=b.bd.ed();b.vn=!0;var e=b.bd.children();1<e.length&&e[1].enable();bx(b,d)}else b.vn=!1,d=b.bd.children(),1<d.length&&d[1].disable(),bx(b,"public")})}q(Yw,x);function cx(a,b){a.Kb.innerHTML=b+" &#9656;";a.Kb.title=b;a.Kq&&(a.hasFocus()&&a.Kb.focus(),a.Kq=!1,a.bd.D(),a.Kb.style.borderRadius="4px",a.kg.style.display="none",a.Kn=[a.Kb])}function dx(a){a.vn?(a.Kb.innerText=a.bd.jq(),a.Kb.title=a.bd.jq()):(a.Kb.innerHTML=Hd,a.Kb.title=Hd)}k=Yw.prototype;k.isEnabled=function(){return this.enabled};k.disable=function(){this.isEnabled()&&(this.enabled=!1,this.bd.D(),this.Kb.disabled=!0,y(this.Kb,"disabled"),this.kg.disabled=!0,y(this.kg,"disabled"))};k.enable=function(){this.isEnabled()||(this.enabled=!0,this.Kb.disabled=!1,z(this.Kb,"disabled"),this.kg.disabled=!1,z(this.kg,"disabled"))};k.hasFocus=function(){return-1<ex(this).index};function fx(a){a=ex(a);var b=a.elements.length;--a.index;if(-2===a.index)a.index=b-1;else if(-1===a.index)return!1;a.elements[a.index].focus();return!0}function gx(a){a=ex(a);var b=a.elements.length;a.index+=1;if(a.index>=b)return!1;a.elements[a.index].focus();return!0}
function ex(a){var b=a.Kn;a.Kq&&a.bd.isVisible()&&(b=a.Kn.concat(a.bd.Kn));return{elements:b,index:b.indexOf(document.activeElement)}}function bx(a,b){a.fn=b;a.KM.j(b);dx(a)}function ax(a){a.wk.style.fontFamily="'UbuntuMedium', Helvetica, Arial, sans-serif";void 0!==a.Gn&&(a.Gn.style.fontFamily="'UbuntuRegular', Helvetica, Arial, sans-serif")}
k.vt=function(){var a=document.createElement("button");y(a,"buttons");a.style.position="relative";a.style.display="inline-block";a.style.cursor="pointer";a.style.fontSize="14px";a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.height="32px";a.style.verticalAlign="top";a.style.margin="0";B("focus",a,function(){a.style.zIndex="100"});B("blur",a,function(){a.style.zIndex="auto"});return a};k.Kx=function(){var a=this.vt();a.type="submit";a.title=Hd;a.style.padding="6px 18px";a.style.borderRadius="4px 0 0 4px";a.style.borderRight="0 none transparent";a.style.maxWidth="145px";a.style.overflow="hidden";a.style.textOverflow="ellipsis";a.style.whiteSpace="nowrap";return a};function Zw(a){a=a.vt();a.style.padding="6px 0";a.style.borderRadius="0 4px 4px 0";a.style.width="24px";return a}
var $w=[{label:Ld,value:"public",description:Md,HC:Hd,aq:function(){}},{label:Nd,value:"anonymous",description:Od,HC:Pd,aq:function(){},Vi:function(){L("SupporterPageOpened",{source:"anon_tip"});null!==window.top&&(window.top.location.href="/supporter/upgrade/")},Yg:jp({content:Jk,li:!1,width:240,ud:0,fe:"40px"}),wD:Jk+" "+Rd}];function hx(a,b){window.setTimeout(function(){b.vn&&L("SendTipViewed",{source:a,tipType:b.fn,localStorage:mb()})},0)}
function ix(){var a=document.createElement("input");y(a,"tipAmountInput");B("keypress",a,function(b){b.metaKey||8===b.charCode||0===b.charCode||13===b.charCode||48<=b.charCode&&57>=b.charCode||b.preventDefault()});B("paste",a,function(){window.setTimeout(function(){/^[1-9]\d*$/.test(a.value)||(a.value="")},0)});return a}var jx;function kx(a){a=void 0===a?!1:a;var b=""===window.location.search?"/tipping/purchase_tokens/":"/tipping/purchase_tokens/"+window.location.search,c=new Hp(["PrchPgIfrmV4","PrchPgPopupV4"],"purchaseredesign");c.sA();c.$l&&c.active?(b=c.Ls,c=""===window.location.search?"/tipping/purchase_tokens/":"/tipping/purchase_tokens/"+window.location.search,"PrchPgIfrmV4"===b?a?Kp(c,"_blank","height=715, width=430, scrollbars=1"):void 0===jx||jx.Ty?jx=new Sw:jx.show():"PrchPgPopupV4"===b?Kp(c,"_blank","height=715, width=430, scrollbars=1"):Kp(c,"_blank","height=615, width=850, scrollbars=1")):Kp(b,"_blank","height=615, width=850, scrollbars=1")}function lx(a){for(var b=l(document.querySelectorAll(".tokencount[updatable-count]")),c=b.next();!c.done;c=b.next())c.value.textContent=""+a}function mx(a){a.onclick=function(b){b.ctrlKey||b.metaKey||(b.preventDefault(),kx(b.target.className.includes("popup_only")))};""===a.href&&(a.href="/tipping/purchase_tokens/")};function nx(a){x.call(this,"div");this.element.style.height="";this.element.style.width="";this.element.style.position="relative";void 0!==a&&(a instanceof x?this.I(a):this.element.appendChild(a))}q(nx,x);function ox(a,b){x.call(this,a);var c=this;this.rD="inline-block";this.qt=new t("collapse",{qe:!1});this.yi=[];this.Pr=[];this.Oj=new nx;this.nx=[];if(void 0===a||"string"===typeof a)this.element.appendChild(document.createTextNode(px)),J(this.element,{cursor:"pointer",width:"",height:"",padding:"0 10px",textAlign:"center"});this.Fd=new zp(this.element,!0===b);J(this,{userSelect:"none"});this.Sa();J(this.Oj,{cssFloat:"right",height:"100%",visibility:"hidden"});this.Fd.Xj.h(function(d){c.onToggle(d)});cp.h(function(d){c.Fd.$a()&&c.Fd.Sa();qx(c,!d)});window.setTimeout(function(){if(void 0!==c.parent||null!==c.element.parentElement){var d=void 0===c.parent?c.element.parentElement:c.parent.element,e=rx(c);void 0!==e&&d.insertBefore(c.Oj.element,e.element.nextSibling)}qx(c)})}q(ox,x);function qx(a,b){b=void 0===b?!0:b;var c=a.Fd.$a();c&&sx(a);a.Ro();if(0===a.yi.length)a.$a()&&(a.Sa(),a.Oj.element.style.paddingLeft="0px",a.qt.j(!1));else{var d;if(d=1===a.yi.length&&a.$a()){d=a.yi[0];var e=getComputedStyle(d.element);d=d.element.offsetWidth+Xm(e.marginLeft)+Xm(e.marginRight)+5<=a.element.offsetWidth+a.Oj.element.offsetLeft-a.element.offsetLeft}d?(a.Sa(),d=a.Oj.element.style.paddingLeft,a.Oj.element.style.paddingLeft="0px",a.Ro(),0<a.yi.length?(a.ob(a.rD),a.Oj.element.style.paddingLeft=d):a.qt.j(!1)):a.$a()||(a.ob(a.rD),a.xh(),a.qt.j(!0),a.Ro())}b&&a.$a()&&a.YD();c&&(0===a.yi.length?a.Fd.Sa():(tx(a),a.Fd.xh()))}function ux(a,b){a.Oj.element.style.width=b+"px"}function rx(a){if(void 0!==a.parent){a=l(a.parent.children());for(var b=a.next();!b.done;b=a.next())if(b=b.value,vx(b.element))return b}}k=ox.prototype;k.H=function(){x.prototype.H.call(this);qx(this)};k.onToggle=function(a){a.nb?(this.Ro(),tx(this)):sx(this)};function tx(a){a.yi.forEach(function(b){a.nx.unshift([b,b.nextSibling()]);a.Fd.I(b);b.collapse(!0)})}function sx(a){var b=a.parent;a.nx.forEach(function(c){var d=c[0];Ra(b,d,c[1]);d.collapse(!1)});a.nx=[]}function wx(a){return void 0===a.parent?[]:a.parent.children().filter(function(b){return b instanceof xx&&b.$a()})}
k.Ro=function(){var a=this;if(null!==this.element.parentElement&&null!==this.element.parentElement.offsetParent){var b=wx(this);this.yi=[];this.Pr=[];b.forEach(function(c){(Jp()?2<=c.element.offsetTop:c.element.offsetTop+2>=c.element.offsetHeight)?a.yi.push(c):a.Pr.push(c)})}};k.xh=function(){null!==this.element.parentElement&&(J(this.element,{position:"absolute",boxSizing:"border-box",textAlign:"center"}),this.Oj.element.style.paddingLeft=this.element.offsetWidth+"px",this.element.removeAttribute("data-floatingnav"),""===this.element.style.width&&(this.element.style.width=this.element.offsetWidth+1+"px"))};k.YD=function(){var a=this;if(void 0!==this.parent){for(var b=0,c=l(this.parent.children()),d=c.next();!d.done;d=c.next())d=d.value,!vx(d.element)||d===this||d instanceof xx&&-1===this.Pr.indexOf(d)||(b=Math.max(d.element.offsetLeft+d.element.offsetWidth+Xm(getComputedStyle(d.element).marginRight),b));this.element.offsetLeft!==b&&(this.element.style.left=b+"px",window.setTimeout(function(){a.element.style.left=""}))}};var px=".\u2009.\u2009.";function vx(a){return"none"!==a.style.display&&"right"!==a.style.cssFloat&&"absolute"!==a.style.position&&"fixed"!==a.style.position}function xx(a){x.call(this,void 0===a?"div":a);var b=this;this.Tk=new t("collapse",{qe:!1});this.collapsed=!1;window.setTimeout(function(){b.Tk.j(b.collapsed)})}q(xx,x);xx.prototype.collapse=function(a){(this.collapsed=a)?this.element.classList.add("collapsed"):this.element.classList.remove("collapsed");this.Tk.j(a)};function yx(){x.call(this);this.Tf={position:"relative",padding:"5px",margin:"2px 0 0 2px",borderRadius:"4px 4px 0 0",minWidth:"16px",width:"auto",height:"100%",fontSize:"10px",cursor:"pointer",cssFloat:"left",OQ:"none",WebkitTextSizeAdjust:"none",userSelect:"none"};this.vM={cursor:"default"};y(this.element,"BaseTabsContainer");this.tc=new nx;this.tc.element.id="tab-row";this.tc.element.style.overflow="hidden";this.tc.element.style.width="100%";this.tc.element.style.borderRadius="2px 2px 0 0";x.prototype.I.call(this,this.tc);this.window=document.createElement("div");this.window.style.width="100%";this.window.style.position="absolute";y(this.window,"window");this.element.appendChild(this.window);Jp()&&(y(this.element,"modern"),delete this.Tf.borderRadius,delete this.Tf.margin,delete this.Tf.marginRight,this.Tf.padding="0 8px",this.Tf.lineHeight="22px",this.Tf.height="22px")}q(yx,x);k=yx.prototype;k.H=function(){this.window.style.height=this.element.clientHeight-this.tc.element.offsetHeight+"px"};k.I=function(){throw Error("addChild not implemented");};k.ce=function(a){a.element.style.width="100%";a.element.style.height="100%";a.element.style.display="none";x.prototype.I.call(this,a,this.window);this.Sw(a);return a};k.Sw=function(a){var b=zx(a);this.tc.I(b);Ax(a);y(b,"tab");y(b,"chatAreaTabColor");return b};k.children=function(){return x.prototype.children.call(this).filter(function(a){return a instanceof Bx})};function Cx(a,b){a.Bt=b;b=a.children();for(var c=b.length-1;0<=c;--c){var d=b[c];d!==a.Bt?d.Sa():a.Bt.active||d.ob()}a.M();a.Ye()}k.dd=function(){return this.Bt};k.Oc=function(){for(var a=!1,b=l(this.children()),c=b.next();!c.done;c=b.next())a=Ax(c.value)||a;a&&this.tc.M()};k.cj=function(a){a.active?y(a.Z,"active"):(z(a.Z,"active"),a instanceof Dx&&(a.collapsed?y(a.Z,"collapsed"):z(a.Z,"collapsed")));return Object.assign(Object.assign(Object.assign({},this.Tf),a instanceof Dx&&a.collapsed?a.VJ:{}),a.active?this.vM:{})};function Bx(){x.call(this);this.ZE=this.active=!1;this.element.style.position="relative"}q(Bx,x);k=Bx.prototype;k.sf=function(){Ex(this)};k.jo=function(){return"none"===this.Z.element.style.display};k.fh=function(){return[document.createTextNode("\u00a0")]};k.dj=function(){return""};function Ax(a){for(var b=a.Z.element.textContent;null!==a.Z.element.firstChild;)a.Z.element.removeChild(a.Z.element.firstChild);for(var c=document.createElement("span"),d=l(a.fh()),e=d.next();!e.done;e=d.next())c.appendChild(e.value);a.Z.element.appendChild(c);Fx(a);c="none"===a.Z.element.style.display;a.Z.element.style.display=a.jo()?"none":"inline-block";return b!==a.Z.element.textContent||c!==("none"===a.Z.element.style.display)}
function zx(a){a.Z=a.$C();for(Wb(["click","touchstart"],a.Z.element,function(d){a.sf(d);a instanceof Dx&&a.collapsed&&(a.ZE=!1)});null!==a.Z.element.firstChild;)a.Z.element.removeChild(a.Z.element.firstChild);for(var b=l(a.fh()),c=b.next();!c.done;c=b.next())a.Z.element.appendChild(c.value);a.Z.element.id=a.dj();Fx(a);Ym(a.Z).h(function(d){a.ZE=d;Fx(a)});return a.Z}k.$C=function(){return new x(document.createElement("div"))};function Ex(a){void 0===a.parent?w("no parent"):Cx(a.parent,a)}
function Gx(a){return void 0===a.parent?(w("no parent"),!1):a.parent.dd()===a}k.Oc=function(){void 0===this.parent?w("no parent"):this.parent.Oc()};k.cj=function(){return void 0!==this.parent?this.parent.cj(this):{}};function Fx(a){J(a.Z,a.cj())}k.Sa=function(){x.prototype.Sa.call(this);this.active=!1;Fx(this)};k.ob=function(){x.prototype.ob.call(this);this.active=!0;Fx(this)};function Dx(){Bx.apply(this,arguments);this.VJ={display:"block",cssFloat:"none",padding:"9px 12px",margin:0,borderRadius:"",border:"none",boxSizing:"border-box",width:"100%",height:"auto"}}q(Dx,Bx);Dx.prototype.$C=function(){var a=this,b=new xx(document.createElement("div"));b.Tk.h(function(c){a.collapsed=c;void 0!==a.TK&&a.TK(c);Ax(a)});return b};function Hx(a){var b=Jb();void 0!==b&&9>=b||(a.style["-webkit-overflow-scrolling"]="touch");a.style.overflowY="scroll";B("touchstart",a,function(c){1<c.touches.length?c.preventDefault():0===a.scrollTop&&(a.scrollTop=1)});B("touchmove",a,function(c){c.stopPropagation();a.scrollHeight<=a.clientHeight&&c.preventDefault()});B("scroll",a,function(){0===a.scrollTop?a.scrollTop=1:a.scrollTop===a.scrollHeight-a.offsetHeight&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)})};function Ix(a){x.call(this);y(this.element,"twitterUpdateRow");this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontStyle="normal";this.element.style.fontWeight="normal";this.element.style.position="relative";this.element.style.height="";this.element.style.width="";this.element.style.margin="7px";this.element.style.padding="6px";a.yg?y(this.element,"seen"):z(this.element,"seen");this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderRadius="4px";var b=this.element,c=b.appendChild,d=document.createElement("div");d.innerHTML=a.text;Jx(d);y(d,"contentSection");d.style.fontSize="12px";d.style.lineHeight="14px";d.style.whiteSpace="pre-wrap";d.style.marginBottom="6px";d.style["word-wrap"]=d.style["word-break"]="break-word";d.style.overflow="hidden";c.call(b,d);""!==a.ds&&(b=a.ds,c=document.createElement("div"),y(c,"timeSince"),c.appendChild(document.createTextNode(b)),c.style.fontSize="9px",c.style.lineHeight="13px",c.style.cssFloat="left",this.element.appendChild(c));""!==a.url&&(b="twitter_feed",void 0!==a.KF&&(b=a.KF),a=Kx(a.url,b),this.element.appendChild(a))}q(Ix,x);function Jx(a){Array.from(a.querySelectorAll("a")).forEach(function(b){y(b,"tweetLink");b.target="_blank";b.style.outline="none";b.style.fontSize="12px";b.style.lineHeight="14px";null!==b.firstChild&&b.firstChild instanceof Text&&null!==b.firstChild.textContent&&(b.firstChild.textContent=b.firstChild.textContent.replace(/^http(s)?:\/\//,"").replace(/^www\./,""));b.onclick=function(){L("NewsfeedItemLinkClick")}})}
function Kx(a,b){var c=document.createElement("a");c.href=a;c.target="_blank";a="twitter_feed"===b;c.appendChild(document.createTextNode(a?wi:xi));y(c,"twitterLink");c.style.fontSize="9px";c.style.lineHeight="13px";c.style.textAlign="right";c.style.cssFloat="right";a&&(c.onclick=function(){L("NewsfeedItemViewOnTwitter")});return c};function Lx(){x.call(this);this.element.style.overflow="";this.element.style.position="static";this.element.style.overflowX="hidden";this.element.style.overflowY="auto";Mx(this)}q(Lx,x);function Mx(a){if(/iPad|iPhone|iPod/.test(navigator.platform)){a.element.style["-webkit-overflow-scrolling"]="touch";var b=function(){a.element.style.overflowY="scroll";C("scroll",a.element,b)};B("scroll",a.element,b)}};function Nx(){Lx.call(this);this.I(new Ix({text:Oe+"...",yg:!0,timestamp:0,ds:"",url:""}))}q(Nx,Lx);function Ox(a,b){Ta(a);0===b.length&&a.I(new Ix({text:""+Dk,yg:!0,timestamp:0,ds:"",url:""}));b.forEach(function(c){a.I(new Ix(c))})}Nx.prototype.Na=function(){this.element.style.maxHeight="307px";this.element.style["-webkit-transform"]="translateZ(0)"};function Px(){Nx.apply(this,arguments)}q(Px,Nx);Px.prototype.Na=function(){Nx.prototype.Na.call(this);this.element.style.maxHeight="";Hx(this.element)};var Qx=new t("dropDownToggle"),Rx=new t("updatesAreRead"),Sx=new t("toggleElementHasUnseen");function Tx(a){var b=["twitter_feed","offline_tip"].map(function(c){return"notification_type="+c}).join("&");E("notifications/updates/?"+b).then(function(c){c=Yn(new N(c.responseText),"items");void 0!==c&&(c=c.map(function(d){return{text:Q(d,"text"),url:Q(d,"url"),timestamp:U(d,"timestamp"),ds:Q(d,"time_since"),yg:T(d,"seen"),KF:Q(d,"notification_type")}}),a(c))}).catch(function(){})}function Ux(a,b){E("notifications/record_last_seen/?timestamp="+a).then(function(){b()}).catch(function(){})};function Vx(a,b){var c=parseInt(window.serverTimeDiff);return!isNaN(c)&&((void 0===b?0:b)||4E3<Math.abs(c))?new Date(a.getTime()-c):a};function Wx(a,b){var c=Xx.get(a);void 0===c?u("calling fireMessage with no topics in TopicManager",a):c.forEach(function(d){d.Ib.j(d.N(b))})}function Yx(a,b){var c;null===(c=Xx.get(a))||void 0===c?void 0:c.forEach(function(d){d.Cm.j(b)})}function Zx(a){var b;null===(b=Xx.get(a))||void 0===b?void 0:b.forEach(function(c){c.Xu.j(void 0)})}
function $x(a){var b=Xx.get(a.getKey());void 0!==b&&(b.splice(b.indexOf(a),1),1>b.length?(Xx.delete(a.getKey()),ay.has(a.getKey())||by(a.getKey()).catch(function(){})):Xx.set(a.getKey(),b))}function cy(){function a(c){return 0<c.Ib.listeners.length||0<c.Cm.listeners.length}var b=Array.from(ay.keys());Xx.forEach(function(c,d){c.some(a)&&b.push(d)});return b}function dy(a){ay.has(a)&&by(a).then(function(){ay.delete(a)}).catch(function(){})}var Xx=new Map,ay=new Map;function ey(){this.lm=!1;this.tp=new Set;this.lv=new Set;this.creationTime=(new Date).getTime();this.Lp=new t("connectionStateChange")}ey.prototype.wq=function(){this.lm=!0};function fy(a,b,c){c=void 0===c?{}:c;void 0!==En&&(c.action=b,c.created=a.creationTime,c.client=a.XI,L("PushServiceClient",c))}ey.prototype.isConnected=function(){return"connected"===gy(this.Qd.connection.state)};function hy(a){return a.isConnected()?Promise.resolve():a.connect()}
function iy(a,b){return hy(a).then(function(){var c=jy(a.auth,b);return void 0===c||(new Date).getTime()>=c.expires?Promise.reject("Auth context has no capability: "+a.auth.Ym()):Promise.resolve()})}ey.prototype.dz=function(a){var b=jy(this.auth,a);return void 0!==b&&!((new Date).getTime()>=b.expires)&&this.tp.has(a)};function ky(a,b){a.tp.add(b);a.lv.delete(b);Yx(b,!0)}function ly(a,b){a.tp.delete(b);a.lv.delete(b);Yx(b,!1)}function my(a,b){a.tp.delete(b);a.lv.add(b)}ey.prototype.iE=function(){return""};var ny=new function(){this.xI=new Set(["connecting","closing"])};var oy=0;function py(a,b,c){this.token=a;this.expires=b;this.clientId=c;this.id=oy+=1}function qy(a){return new Promise(function(b,c){F("push_service/auth/",{topics:JSON.stringify(a)}).then(function(d){try{var e=new N(d.responseText);b(e)}catch(f){c(f)}}).catch(function(d){c(d)})})};function ry(a){this.clientId=Q(a,"client_id");this.lw=bo(a,"token_request");this.Yj=new Map;this.jt=new Map;this.Hn=new Map;var b=ao(a,"settings");this.kl={Uw:Q(b,"backend"),restHost:P(b,"rest_host"),realtimeHost:P(b,"realtime_host"),fallbackHosts:Zn(b,"fallback_hosts"),flags:new Map};sy(this.kl.flags,go(b,"flags"));ty(this.Yj,go(a,"channels"));ty(this.jt,go(a,"channels"),!0);b=this.Hn;var c=go(a,"failures");if(void 0!==c){var d=Object.keys(c);d=l(d);for(var e=d.next();!e.done;e=d.next())e=e.value,b.set(e,c[e])}ho(a)}ry.prototype.si=function(){return void 0!==this.lw};ry.prototype.Ym=function(){return JSON.stringify(this.lw)};function ty(a,b,c){c=void 0===c?!1:c;if(void 0!==b){var d=Object.keys(b);d=l(d);for(var e=d.next();!e.done;e=d.next()){var f=e.value;e=f.split("#")[1];f=b[f];c?a.set(f,e):a.set(e,f)}}}function sy(a,b){if(void 0!==b){var c=Object.keys(b);c=l(c);for(var d=c.next();!d.done;d=c.next())d=d.value,a.set(d,b[d])}};function uy(a,b){return void 0===b?{code:a,message:"Unknown"}:"string"===typeof b?{code:"auth",message:b}:"statusCode"in b?vy(a,b):b}function vy(a,b){a={code:a,message:"Unknown failure"};void 0!==b&&(a.message=b.message);return a}
function gy(a){switch(a){case "initialized":return"initialized";case "connecting":return"connecting";case "connected":return"connected";case "closing":return"closing";case "closed":return"closed";case "disconnected":return"disconnected";case "failed":return"failed";case "suspended":return"suspended";default:return"unknown"}}
function wy(a){switch(a){case "initialized":return"initialized";case "attaching":return"subscribing";case "attached":return"subscribed";case "detaching":return"unsubscribing";case "detached":return"unsubscribed";case "failed":return"failed";case "suspended":return"suspended";default:return"unknown"}};function xy(a){py.call(this,a.token,a.expires,a.clientId);this.tokenDetails=a;this.capability=yy(a.capability)}q(xy,py);function yy(a){var b={},c=JSON.parse(a),d=Object.keys(c);d=l(d);for(var e=d.next();!e.done;e=d.next()){e=e.value;var f=c[e];f instanceof Array?b[e]=f.map(function(g){return g}):w("Invalid capability type for topic: "+e,{capability:a})}return b}function zy(a){this.st=0;this.Qd=a;this.be=void 0}
zy.prototype.Ym=function(){var a;return!0!==(null===(a=this.be)||void 0===a?void 0:a.si())?"":this.be.Ym()};zy.prototype.getCapabilities=function(){var a=this.yn;return void 0===a?{}:a.capability};function Ay(a,b){return new Promise(function(c,d){return qy(b).then(function(e){a.st=0;var f=go(e,"failures");"object"===typeof f&&0!==Object.keys(f).length&&L("PushServiceClient",{action:"token_request_failed_topics",topics:f,client:"ably"});a.be=new ry(e);if(a.be.si()){e=a.be;if(void 0===e.lw)throw Error("Access to AblyContext.tokenRequest on an invalid context!");c(e.lw)}else d("Invalid token request")}).catch(function(e){a.st+=1;3<=a.st&&a.Qd.connection.close();d(e)})})}
function By(a,b){var c,d=Cy(a);a=null===(c=a.be)||void 0===c?void 0:c.Yj.get(b);return void 0===a?!1:void 0!==d&&d.capability.hasOwnProperty(a)}function jy(a,b){return By(a,b)?a.yn:void 0}function Dy(a){var b=Cy(a);return void 0===b?[]:Object.keys(b.capability).map(function(c){var d,e;return null!==(e=null===(d=a.be)||void 0===d?void 0:d.jt.get(c))&&void 0!==e?e:""}).filter(function(c){return""!==c})}
function Cy(a){if(void 0!==a.yn)if((new Date).getTime()>=a.yn.expires)a.yn=void 0;else return a.yn}function Ey(a){return new Promise(function(b,c){a.Qd.auth.authorize().then(function(d){d=new xy(d);a.yn=d;b()}).catch(function(d){d=uy("auth",d);w(d);c(d)})})};function Fy(){var a=2;try{var b=!1;var c=!0}catch(d){c=b=!1}b?a=0:c&&(a=1);return{level:a}}
function Gy(){ey.call(this);var a=this;this.XI="ably";this.Nh=new Map;this.HB=new Set;this.jH=new Set;this.Lp=new t("connectionStateChange",{Mf:1});this.gH=void 0===Em.current.Ry?!0:!Em.current.Ry;this.kl=Em.current.lA;this.Qd=new Ably.Realtime.Promise(Hy(this));this.auth=new zy(this.Qd);this.Qd.connection.on(function(b){b.previous!==b.current&&a.Lp.j({wH:a,previous:gy(b.previous),current:gy(b.current),reason:vy("connect",b.reason)})})}q(Gy,ey);function Hy(a){var b={autoConnect:!1,closeOnUnload:a.gH,log:Fy(),authCallback:function(c,d){c=[].concat(ja(cy()),ja(Array.from(a.tp)),ja(Array.from(a.lv)));100<c.length&&(u("PushService[ably] is attempting to request too many topics"),c.length=100);var e={};c.forEach(function(f){var g=Xx.get(f);void 0!==g&&0!==g.length?(g=g[0],g={prefix:g.na(),payload:g.kI}):g=void 0;void 0!==g&&(e[g.prefix+"#"+f]=g.payload)});Ay(a.auth,e).then(function(f){d(void 0,f)}).catch(function(f){d(f.message)})},restHost:a.kl.restHost,realtimeHost:a.kl.realtimeHost};0<a.kl.fallbackHosts.length&&(b.fallbackHosts=a.kl.fallbackHosts);return b}k=Gy.prototype;k.connect=function(){var a=this;if(this.isConnected())return Promise.resolve();if(ny.xI.has(gy(this.Qd.connection.state))&&void 0===this.Kp)return Promise.reject("Connection is currently busy!");void 0===this.Kp&&(this.Kp=new Promise(function(b,c){function d(e){"connected"===e.current?(a.Kp=void 0,a.Lp.removeListener(d),b()):"connecting"===e.previous&&(a.Kp=void 0,a.Lp.removeListener(d),c(e.reason))}a.Lp.h(d);a.Qd.connect()}));return this.Kp};k.close=function(){this.isConnected()&&this.Qd.close()};k.iE=function(){var a,b,c,d,e;return null!==(e=null===(d=null===(c=null===(b=null===(a=this.Qd.connection)||void 0===a?void 0:a.connectionManager)||void 0===b?void 0:b.activeProtocol)||void 0===c?void 0:c.transport)||void 0===d?void 0:d.shortName)&&void 0!==e?e:""};k.isConnected=function(){return"connected"===gy(this.Qd.connection.state)};k.wq=function(){var a=this;ey.prototype.wq.call(this);this.gH||B(Ob(),window,function(){a.close()})};function Iy(a,b){var c,d=a.Nh.get(b);if(void 0!==d)return d.then(function(){return Iy(a,b)});d=null===(c=a.auth.be)||void 0===c?void 0:c.Yj.get(b);if(void 0===d)return Promise.reject("Unknown topic key");c=a.Qd.channels.get(d);c=wy(c.state);return a.HB.has(b)?"subscribed"===c||"subscribing"===c?Promise.resolve():Jy(a,b):"unsubscribed"===c||"unsubscribing"===c?Promise.resolve():Ky(a,b)}k.subscribe=function(a){this.HB.add(a);return Iy(this,a)};function Jy(a,b){var c,d=a.Nh.get(b);if(void 0!==d)return Promise.reject("Called subscribe while channel is busy");my(a,b);d=null===(c=a.auth.be)||void 0===c?void 0:c.Yj.get(b);if(void 0===d)return Promise.reject("Unknown topic key");var e=a.Qd.channels.get(d);c=wy(e.state);if("subscribed"===c)return ky(a,b),Promise.resolve();if("subscribing"===c)return Promise.reject(uy("subscribe","Channel was already subscribing"));var f=!1,g=Ly.h(function(){f=!0});d=new Promise(function(h,m){iy(a,b).then(function(){var n=a.jH.delete(b);return e.setOptions({TI:void 0,params:n?{kQ:"30s"}:{},modes:["SUBSCRIBE","PRESENCE"]})}).then(function(){return e.attach()}).then(function(){e.unsubscribe();return e.subscribe(function(n){n.data.providerData={id:n.id,ts:n.timestamp};n=new N(n.data);if("reauth"===P(n,"_control")){var p=Zn(n,"_channel_names");p.forEach(function(v){var A,D,R,K=null===(A=a.auth.be)||void 0===A?void 0:A.jt.get(v);void 0!==K&&(null===(D=a.auth.be)||void 0===D?void 0:D.jt.delete(v),null===(R=a.auth.be)||void 0===R?void 0:R.Yj.delete(K),a.jH.add(K),by(K).catch(function(ca){w("PushService error during re-auth detach",{RQ:p,error:ca})}))});pn(My)}Wx(b,n)})}).then(function(){g.removeListener();ky(a,b);a.Nh.delete(b);h()}).catch(function(n){g.removeListener();ly(a,b);a.Nh.delete(b);"suspended"===e.state&&e.detach().then().catch(function(){});f&&h();m(uy("subscribe",n))})});a.Nh.set(b,d);return d}k.unsubscribe=function(a){this.HB.delete(a);return Iy(this,a)};function Ky(a,b){var c,d=a.Nh.get(b);if(void 0!==d)return Promise.reject("Called unsubscribe while channel is busy");my(a,b);d=null===(c=a.auth.be)||void 0===c?void 0:c.Yj.get(b);if(void 0===d)return Promise.reject("Unknown topic key");var e=a.Qd.channels.get(d);c=wy(e.state);e.unsubscribe();if(["unsubscribed","initialized","failed"].includes(c))return ly(a,b),Promise.resolve();d=new Promise(function(f,g){e.detach().then(function(){ly(a,b);a.Nh.delete(b);f()}).catch(function(h){ly(a,b);a.Nh.delete(b);g("Failed to detach from topic "+b+" - "+h)})});a.Nh.set(b,d);return d}
k.St=function(a,b){var c=this,d,e=this.Nh.get(a);if(void 0!==e)return Promise.reject("Called subscribe while channel is busy");my(this,a);e=null===(d=this.auth.be)||void 0===d?void 0:d.Yj.get(a);if(void 0===e)return Promise.reject("Unknown topic key");var f=this.Qd.channels.get(e);return e=new Promise(function(g,h){iy(c,a).then(function(){return f.setOptions({TI:void 0,params:{},modes:["SUBSCRIBE","PRESENCE"]})}).then(function(){return f.attach()}).then(function(){var m=c.auth.getCapabilities()[a];return Array.isArray(m)&&m.includes("presence")?b.QI?f.presence.update(b.data):Promise.resolve():Promise.reject("Token does not have capability for presence")}).then(function(){ky(c,a);g()}).catch(function(m){c.Nh.delete(a);ly(c,a);h(uy("presence",m))})})};k.Hu=function(){var a=this,b,c=null===(b=this.auth.be)||void 0===b?void 0:b.Yj.get(void 0);void 0===c?Promise.reject("Unknown topic key"):this.Qd.channels.get(c).presence.leave().then(function(){ly(a,void 0)}).catch(function(d){ly(a,void 0);return Promise.reject(uy("presence",d))})};k.dz=function(a){var b,c=null===(b=this.auth.be)||void 0===b?void 0:b.Yj.get(a);return"subscribed"===(void 0===c?"unknown":wy(this.Qd.channels.get(c).state))};function Ny(a){return a.map(function(b){return Promise.resolve(b).then(function(c){return{status:"fulfilled",value:c}}).catch(function(c){return{status:"rejected",reason:c}})})};var Oy,Py;function Qy(){return void 0!==Oy&&Oy.isConnected()}function Ry(){return!0===Em.current.lA.flags.get("presence_enabled")}
function Sy(){var a=Ty();if(void 0!==a){var b=Uy+=1;window.clearTimeout(Py);var c=cy();1>c.filter(function(d){return-1===Dy(a.auth).indexOf(d)||!Vy(d)}).length||Ey(a.auth).then(function(){if(!(b<Uy)){var d=!1,e=Ly.h(function(){d=!0}),f=(new Date).getTime();Wy(c).then(function(g){var h=(new Date).getTime();e.removeListener();if(!(b<Uy)){var m=g.filter(function(p){return"fulfilled"===p.status}).length,n=Dy(a.auth).filter(function(p){return!Vy(p)});L("PushServiceTopicSetup",{topics_requested_count:g.length,successful_topic_count:m,failed_topic_list:n.sort(),is_push_connected:Qy(),elapsed_time:h-f});0<n.length&&!d&&(Py=window.setTimeout(function(){pn(My);Xy*=2},Xy));Yy=0===n.length&&0<m;n.forEach(function(p){Zx(p)})}}).catch(function(){})}}).catch(function(d){b<Uy||(c.filter(function(e){return!Vy(e)}).forEach(function(e){Zx(e)}),w(d))})}}
function Ty(){if(void 0===Oy){var a=Em.current.lA.Uw;try{switch(a){case "ably":Oy=new Gy}}catch(b){u("An exception was thrown during client construction:",b)}void 0===Oy||Oy.wq()}return Oy}function Zy(a){var b=Ty();return void 0===b?Promise.reject("PushService client is not initialized"):b.dz(a)?Promise.resolve():b.subscribe(a).catch(function(c){fy(b,"subscribe_failure",{topic:a,auth:b.auth.Ym(),message:c.message})})}
function by(a){var b=Ty();return void 0===b?Promise.reject("PushService client is not initialized"):b.unsubscribe(a).catch(function(c){fy(b,"unsubscribe_failure",{topic:a,auth:b.auth.Ym(),message:c.message})})}function Vy(a){var b=Ty();return void 0===b?!1:b.dz(a)}function Wy(a){var b=Ty();if(void 0===b)return Promise.all([]);a=a.filter(function(c){return!Vy(c)&&By(b.auth,c)}).map(function(c){var d=ay.get(c);return void 0!==d?b.St(c,d):Zy(c)});return Promise.all(Ny(a))}
var Xy=1E4,Ly=new t("PushServiceClosed",{Mf:1}),My=new on(function(){Sy()},{Ad:800,Ce:1}),Yy=!1,Uy=0;function $y(a){var b=this;this.Nu=50;this.LA={ef:5,bv:function(){b.bv()},cv:function(){b.cv()}};this.initData(a);this.kI=a;this.Ib=new t(this.getKey(),this.LA);this.Xu=new t("TopicAuthFail",this.LA);this.Cm=new t("TopicSubscribeChange",this.LA)}k=$y.prototype;k.N=function(a){return{R:Q(a,"tid"),xG:Q(ao(a,"providerData"),"id"),Pb:{wI:Math.floor(1E3*U(a,"ts")),qr:Math.floor(1E3*U(a,"pub_ts")),Co:Math.floor(Vx(new Date).getTime()),jL:Math.floor(U(ao(a,"providerData"),"ts"))}}};k.St=function(a){var b=this.getKey();a=void 0===a?{}:a;ay.set(b,{QI:!0,data:a});pn(My)};k.Hu=function(){dy(this.getKey())};k.bv=function(){if(1===this.Ib.listeners.length+this.Cm.listeners.length+this.Xu.listeners.length){var a=Xx.get(this.getKey());void 0===a?a=[this]:(a.length>this.Nu&&u(this.getKey()+" has more than "+this.Nu+" listeners"),a.push(this));Xx.set(this.getKey(),a);pn(My)}};k.cv=function(){0===this.Ib.listeners.length+this.Cm.listeners.length+this.Xu.listeners.length&&$x(this)};function az(a){if(7!==a.length&&14!==a.length)throw Error("Invalid uid passed into topic");};function bz(){$y.call(this,{})}q(bz,$y);bz.prototype.getKey=function(){return""+this.na()};bz.prototype.initData=function(){};function cz(){bz.apply(this,arguments)}q(cz,bz);cz.prototype.na=function(){return"NewsTopic"};cz.prototype.N=function(a){return{text:Q(a,"text"),url:Q(a,"url"),timestamp:U(a,"timestamp"),ds:Q(a,"time_since"),yg:T(a,"seen",!1,!1)}};function dz(){var a=document.createElement("div");a.style.position="absolute";a.style.width="100%";a.style.height="100%";a.style.top="0px";a.style.left="0px";a.style.display="none";a.style.zIndex="1003";a.style.backgroundColor="rgba(0, 0, 0, .3)";a.style.boxShadow="0px 0px 4px rgba(0, 0, 0, 0.5)";return a}
function ez(a){function b(h){h.target!==e&&(f.style.display="none",g=!1,C("touchstart",document,b,!0))}var c=Math.floor(a.Ny/2),d=document.createElement("div");d.style.display="inline-block";d.style.position="absolute";d.style.width=d.style.height=a.Ny+"px";d.style.top="calc("+a.QC+" - "+c+"px)";var e=document.createElement("img");e.src="https://static-assets.highwebmedia.com/"+a.ME;e.style.position="relative";e.style.height="100%";e.style.width="100%";e.style.zIndex="1";d.appendChild(e);var f=document.createElement("div");f.style.position="absolute";f.style.display="none";f.style.width="39px";f.style.height="39px";f.style.top=-19+c+"px";f.style.left=-19+c+"px";f.style.borderRadius="4px";f.style.zIndex="0";f.style.backgroundColor="rgba(255, 255, 255, .25)";c=document.createElement("div");c.textContent=a.Ve;c.style.position="relative";c.style.display="inline-block";c.style.top="42px";c.style.left="50%";c.style.transform="translateX(-50%)";c.style.padding="0px 7px";c.style.whiteSpace="nowrap";c.style.fontFamily="UbuntuRegular";c.style.fontSize="12px";c.style.color="#FFF";c.style.backgroundColor="rgba(0, 0, 0, .9)";c.style.border="1px solid #8A8A8A";f.appendChild(c);d.appendChild(f);void 0!==a.YJ&&a.YJ.h(function(){f.style.display="none"});void 0!==a.onClick&&(e.style.cursor="pointer",B("click",e,a.onClick));B("mouseenter",e,function(){f.style.display="block"});B("mouseleave",e,function(){f.style.display="none"});var g=!1;B("touchstart",e,function(h){g?void 0!==a.onClick&&Xb(e,a.onClick):(f.style.display="block",g=!0,B("touchstart",document,b,!0),h.preventDefault(),h.stopPropagation())});return d}function fz(a){return E("api/online/"+a+"/").then(function(b){return JSON.parse(b.responseText).online})}function gz(){return E("api/ts/chat/share-my-cam/").then(function(a){a=JSON.parse(a.responseText).cam_room;return 0<a.length?a[0]:""})}function hz(a){function b(){gz().then(function(c){""===c?a():window.setTimeout(b,5E3)}).catch(function(){})}b()}var iz=!1;function jz(a){$y.call(this,{user_uid:a});az(this.we)}q(jz,$y);jz.prototype.getKey=function(){return this.na()+":"+this.we};jz.prototype.initData=function(a){this.we=a.user_uid};function kz(){jz.apply(this,arguments)}q(kz,jz);kz.prototype.na=function(){return"UserNewsSeenTopic"};kz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{timestamp:U(a,"read_ts")})};function lz(){jz.apply(this,arguments)}q(lz,jz);lz.prototype.na=function(){return"UserMessageTopic"};lz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{T:it(ao(a,"from_user")),message:Q(a,"message"),Uf:P(a,"font_color",!1),gf:Q(a,"id",!1),bb:Q(a,"other_user"),font:Q(a,"font_family"),backgroundColor:P(a,"background"),ib:nt(go(a,"media")),az:!0})};function mz(){jz.apply(this,arguments)}q(mz,jz);mz.prototype.na=function(){return"UserUpdateTopic"};mz.prototype.N=function(a){a=Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{target:Q(a,"target")});"app_tab_refresh"===a.target?a.R="#app_tab_refresh":"refresh_panel"===a.target&&(a.R="#app_panel_refresh");return a};function nz(){jz.apply(this,arguments)}q(nz,jz);nz.prototype.na=function(){return"UserTokenUpdateTopic"};nz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{Ja:U(a,"tokens")})};function oz(){jz.apply(this,arguments)}q(oz,jz);oz.prototype.na=function(){return"UserTipAlertTopic"};oz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{T:it(a),message:Q(a,"message"),amount:U(a,"amount"),Aq:T(a,"is_anonymous_tip"),Za:T(a,"is_broadcaster"),history:T(a,"history"),fp:Q(a,"to_username")})};new t("showMyCamStarted");new t("showMyCamStopped");var pz=new t("showMyCamViewStarted"),qz=new t("showMyCamViewStopped");function rz(){jz.apply(this,arguments)}q(rz,jz);rz.prototype.na=function(){return"UserSMCWatchingTopic"};rz.prototype.N=function(a){var b=Object,c=b.assign,d=Object,e=d.assign,f=Object.assign({},jz.prototype.N.call(this,a));var g={username:Q(a,"username"),Za:!1,je:T(a,"in_fanclub"),Gf:T(a,"has_tokens"),Lc:T(a,"is_mod"),Eg:T(a,"tipped_recently"),Ii:T(a,"tipped_alot_recently"),Fg:T(a,"tipped_tons_recently"),dc:"",sc:"df"};return c.call(b,e.call(d,f,g),{Gi:T(a,"started")})};function sz(){jz.apply(this,arguments)}q(sz,jz);sz.prototype.na=function(){return"SMCPresenceTopic"};sz.prototype.N=function(a){return jz.prototype.N.call(this,a)};function tz(){jz.apply(this,arguments)}q(tz,jz);tz.prototype.na=function(){return"UserAlertTopic"};tz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{message:Q(a,"message")})};function uz(){jz.apply(this,arguments)}q(uz,jz);uz.prototype.na=function(){return"UserChatMediaOpenedTopic"};uz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{gK:Zn(a,"media_ids"),rj:Q(a,"message_id")})};function vz(){jz.apply(this,arguments)}q(vz,jz);vz.prototype.na=function(){return"UserChatMediaRemovedTopic"};vz.prototype.N=function(a){return Object.assign(Object.assign({},jz.prototype.N.call(this,a)),{ic:Q(a,"media_id"),mK:T(a,"is_compliance")})};function wz(){Bx.call(this);var a=this;this.U=0;this.Wy=!1;this.items=[];this.rz=void 0;this.rw=0;this.zE=!1;this.I(this.Tg);Sx.h(function(b){a.zE=b});Qx.h(function(b){(a.nm=b)?(L("NewsfeedOpened",{is_orange:a.zE}),xz(a),a.rw=(new Date).getTime()):(Rx.j(void 0),a.U=0,a.Oc(),0<a.items.length&&(yz(a,a.items[0].timestamp),zz(a,a.items[0].timestamp)),a.WA())});this.pa=void 0===Em.current.Fa;B("beforeunload",window,this.WA.bind(this));B("unload",window,this.WA.bind(this))}q(wz,Bx);function zz(a,b,c){!1===a.pa&&Ux(b,function(){void 0!==c&&c()})}k=wz.prototype;k.initData=function(){this.Tg=new Nx};k.WA=function(){if(0!==this.rw){var a={duration_seconds:((new Date).getTime()-this.rw)/1E3};this.rw=0;L("NewsfeedClosed",a)}};k.fh=function(){return[document.createTextNode(99<this.U?zi+" (99+)":0<this.U?zi+" ("+this.U+")":zi)]};k.dj=function(){return"updates-tab"};k.ob=function(){Bx.prototype.ob.call(this);this.Oc();this.H()};function xz(a){a.Wy?(Ox(a.Tg,a.items),Az(a)):Tx(function(b){var c;a.items=b;Ox(a.Tg,b);a.U=b.filter(function(d){return!d.yg}).length;a.Oc();a.Wy=!0;Az(a);b=null===(c=Em.current.Fa)||void 0===c?void 0:c.we;void 0!==b&&(new kz(b)).Ib.h(function(d){yz(a,d.timestamp);a.U=a.items.filter(function(e){return!e.yg}).length;a.Oc()});(new cz).Ib.h(function(d){var e=0;0<a.items.length&&(e=Math.max.apply(Math,ja(a.items.map(function(f){return f.timestamp}))));e<d.timestamp&&(a.items.splice(0,0,d),a.U=a.items.filter(function(f){return!f.yg}).length,Ox(a.Tg,a.items),a.Oc(),Az(a))})})}function yz(a,b){a.items.forEach(function(c){c.timestamp<=b&&(c.yg=!0)})}function Az(a){0<a.U?(void 0!==a.rz&&clearTimeout(a.rz),a.rz=window.setTimeout(function(){a.nm&&zz(a,a.items[0].timestamp,function(){Rx.j(void 0)})},500)):Rx.j(void 0)}function Bz(){wz.apply(this,arguments)}q(Bz,wz);Bz.prototype.initData=function(){this.Tg=new Px};function Cz(){yx.call(this);this.nm=!1;this.Cu=0;this.element.id="UserUpdatesPanel";y(this.element,"userUpdatesPanel");this.tc.element.style.borderBottom="none";this.tc.element.style.padding="4px 0 0 6px";this.tc.element.style.marginBottom="4px";this.tc.element.style.boxSizing="border-box";this.window.style.position="static";this.Tf=Object.assign(Object.assign({},this.Tf),{fontSize:"12px",padding:"5px 10px"});this.ce(this.sw);Cx(this,this.sw);this.kC()}q(Cz,yx);k=Cz.prototype;k.kC=function(){var a=Dz(!1);this.element.appendChild(a)};k.H=function(){};k.jE=function(a){return this.vJ=new Ez(this,a)};k.Na=function(){this.element.style.overflow="";this.element.style.position="static";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderTop="none";this.element.style.borderRadius="0 0 4px 4px"};k.initData=function(){this.sw=new wz};function Fz(){Cz.call(this);for(var a=1;a<this.element.children.length-1;a+=1)this.element.children[a].style.height="calc(100% - 60px)"}q(Fz,Cz);Fz.prototype.kC=function(){var a=Dz(!0);this.element.appendChild(a)};Fz.prototype.jE=function(a){return new Gz(this,a)};Fz.prototype.Na=function(){Cz.prototype.Na.call(this);this.element.style.borderRight="0"};Fz.prototype.initData=function(){this.sw=new Bz};function Dz(a){var b=document.createElement("A");y(b,"feedbackLink");b.innerText=yi;b.style.fontSize="11px";b.style.textAlign="center";b.style.width="100%";b.style.display="block";b.style.padding="5px 0";b.style.marginBottom="7px";a?(b.href=Gm.SB,b.target="_blank"):(b.href="#",b.onclick=function(){dw.j({source:"site_updates"})});return b}
function Hz(a,b){var c,d,e=null===(c=Em.current.Fa)||void 0===c?void 0:c.username;c=null===(d=Em.current.Fa)||void 0===d?void 0:d.we;(new cz).Ib.h(function(f){a.Cu<f.timestamp&&(b.classList.add("has_unseen"),Sx.j(!0))});void 0!==c&&(new kz(c)).Ib.h(function(f){a.Cu<f.timestamp&&(a.Cu=f.timestamp,Rx.j(void 0))});!0!==Em.current.Ry&&tt.h(function(f){0===f.Xq&&f.fp===e&&(b.classList.add("has_unseen"),f=a.sw,f.removeChild(f.Tg),f.Tg=new Nx,f.I(f.Tg),f.Wy=!1,f.nm&&xz(f))})}
function Ez(a,b){sp.call(this,b);var c=this;this.Gm=a;this.element.appendChild(this.Gm.element);this.Xj.h(function(d){c.Gm.nm!==d.nb&&(c.Gm.nm=d.nb,Qx.j(d.nb),b.classList.toggle("active",d.nb))});Rx.h(function(){b.className=b.className.replace("has_unseen","");Sx.j(!1)});Hz(a,b)}q(Ez,sp);Ez.prototype.Na=function(){sp.prototype.Na.call(this);this.element.style.maxHeight="368px";this.element.style.height="";this.element.style.width="100%";this.element.style.zIndex="1001";this.element.style.backgroundColor="transparent";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.left="-1px";this.element.style.top="24px"};function Gz(a,b){sp.call(this,b);var c=this;this.Gm=a;this.element.appendChild(this.Gm.element);this.Xj.h(function(d){c.Gm.nm!==d.nb&&(c.Gm.nm=d.nb,Qx.j(d.nb),b.classList.toggle("active",d.nb))});Rx.h(function(){b.className=b.className.replace("has_unseen","");Sx.j(!1)});Hz(a,b)}q(Gz,wp);Gz.prototype.Na=function(){wp.prototype.Na.call(this);this.element.style.maxHeight="";this.element.style.width="100%";this.element.style.zIndex="1001";this.element.style.backgroundColor="#FFFFFF";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.left="-1px";this.element.style.top="0";this.element.style.height="calc(100% - 46px)";this.element.style.top="46px"};function Iz(a,b,c){sp.call(this,a);var d=this;this.username=b;this.Ft=c;this.element.id="UserMenuDropDown";y(this.element,"userMenuDropDown");y(this.element,"userInfoDropdownBgColor");this.element.style.display="none";this.element.style.width="100%";this.element.style.height="auto";this.element.style.boxSizing="border-box";this.element.style.top="24px";this.element.style.zIndex="1001";this.element.style.borderRadius="0 0 5px 5px";this.element.style.borderStyle="solid";this.element.style.borderWidth="1px";this.element.style.borderTop="none";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.padding="5px 0";this.element.style.position="absolute";Xc.Nk||Jz(this);if(""!==b){this.jA=Kz(this,Ud);this.element.appendChild(this.jA);this.IF=Kz(this,Dd);this.IF.href="/my_collection/";this.element.appendChild(this.IF);void 0!==window.live_chat_support&&(a=Kz(this,Vd),a.href="/accounts/support_chat/",a.onclick=function(g){g.preventDefault();Kp("/accounts/support_chat/","support_chat","height=630,width=375,resizable=0,location=0")},this.element.appendChild(a));var e=document.createElement("form");e.method="post";e.action="/auth/logout/";e.target="_top";e.style.display="none";var f=document.createElement("input");f.type="hidden";f.name="csrfmiddlewaretoken";f.value=Wa("csrftoken");e.appendChild(f);this.element.appendChild(e);a=Kz(this,Yd);a.style.cursor="pointer";a.onclick=function(g){g.preventDefault();d.Sa();dw.j({source:"user_menu"})};this.element.appendChild(a);a=Kz(this,Wd);a.href="/auth/logout/";a.onclick=function(g){g.preventDefault();d.Sa();oo(Xd,function(){f.value=Wa("csrftoken");e.submit()})};this.element.appendChild(a);void 0!==b&&void 0!==this.jA&&(this.jA.href="/p/"+b+"/?tab=bio")}else b=Kz(this,Ed),b.classList.add("login-link"),b.href="/auth/login",this.element.appendChild(b),b=Kz(this,Fd),b.href="/accounts/register/?src=header",this.element.appendChild(b),b=Kz(this,Yd),b.style.cursor="pointer",b.href="#",b.onclick=function(g){g.preventDefault();d.Sa();dw.j({source:"user_menu"})},this.element.appendChild(b)}q(Iz,sp);function Jz(a){if(void 0!==a.Ft){a.mm=document.body.classList.contains("darkmode");var b=Lz(a);a.element.insertBefore(b,a.element.firstChild);!document.body.classList.contains("isIpad")&&Hb()&&document.body.classList.add("isIpad")}}
function Lz(a){var b=document.createElement("div"),c=document.createElement("span");a.Xl=document.createElement("span");b.innerText=xl;c.appendChild(a.Xl);b.appendChild(c);y(a.Xl,"dmSwitchCircle");J(a.Xl,{borderRadius:"50%",display:"inline-block",height:"16px",width:"16px",position:"relative",top:"2px",left:"3px"});J(c,{borderRadius:"25px",display:"inline-block",height:"20px",marginLeft:"10px",position:"relative",verticalAlign:"bottom",width:"44px",cssFloat:"right",right:"6px",top:"-2px"});y(c,"dmSwitch");Jr(b,"none");Ir(a.Xl,"left 100ms");y(b,"userInfoDropdownTextColor");y(b,"userInfoDropdownHighlightColor");b.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";b.style.fontSize="14px";b.style.fontWeight="normal";b.style.padding="5px 0 5px 10px";b.style.cursor="pointer";b.onclick=function(){Mz(a);void 0!==document.changeColorMode&&document.changeColorMode()};fc.h(function(){Mz(a)});a.mm&&(a.Xl.style.left="25px");return b}
function Mz(a){Xc.Nk||(a.mm?(a.Xl.style.left="3px",a.mm=!1,z(document.body,"darkmode"),y(document.body,"lightmode"),Xa("theme_name","lightmode",60)):(a.Xl.style.left="25px",a.mm=!0,z(document.body,"lightmode"),y(document.body,"darkmode"),Xa("theme_name","darkmode",60)),Xc.Nk&&(a.element.style.backgroundColor=Xc.OH,a.element.style.border="1px solid "+Xc.dw),L("colorModeChanged",{username:void 0===a.username?"__anon__":a.username,color_mode:a.mm?"darkmode":"lightmode"}),ec.j(a.mm?"darkmode":"lightmode"),Fr()||F("api/ts/accounts/userpreferredtheme/",{theme:a.mm?"darkmode":"lightmode"}))}function Kz(a,b){var c=document.createElement("a");c.style.textDecoration="none";c.innerText=b;c.style.display="block";c.style.fontSize="14px";c.style.padding="5px 0 5px 10px";y(c,"userInfoDropdownTextColor");y(c,"userInfoDropdownHighlightColor");c.onclick=function(){a.Sa()};return c}Iz.prototype.ob=function(){return sp.prototype.ob.call(this)};Iz.prototype.Sa=function(){return sp.prototype.Sa.call(this)};function Nz(a,b,c){var d=document.querySelector("#userInfoPanelMenuDropdownRoot"),e=document.querySelector("#user_information_profile_container"),f=document.querySelector("#userUpdatesBellRoot"),g=document.querySelector("#userUpdatesMenuDropdownRoot"),h=document.querySelector("#mmnav");b=void 0===b?!1:b;var m;null!==d&&null!==e&&(a=new Iz(e,a,c),d.appendChild(a.element),a.M());if(!Xc.Nk&&null!==f&&null!==g){0<=f.className.indexOf("has_unseen")&&Sx.j(!0);if(b){var n=new Fz;b=null===(m=Em.current.Fa)||void 0===m?void 0:m.we;void 0!==h&&null!==h&&(void 0!==b&&(new kz(b)).Ib.h(function(p){n.Cu<p.timestamp&&0>h.className.indexOf("has_unseen")&&(h.className=[h.className,"has_unseen"].join(" "))}),Rx.h(function(){h.className=h.className.replace("has_unseen","")}))}else n=new Cz;f=n.jE(f);g.appendChild(f.element)}};function Oz(a,b){B("mouseover",a,function(){var c,d=0,e=a.getBoundingClientRect(),f=a.getBoundingClientRect(),g=Math.round(e.top+window.pageYOffset);e=Math.round(e.left+window.pageXOffset);300>window.innerHeight-g+window.pageYOffset&&(d=258);var h=null===(c=a.nextElementSibling)||void 0===c?void 0:c.cloneNode(!0);void 0!==h&&(h.style.display="",c=b.firstChild,null!==c?b.replaceChild(h,c):b.appendChild(h),b.style.display="");c=b.getBoundingClientRect();b.style.left=e+f.width/2-c.width/2+"px";b.style.top=g+f.height+8-d+"px"});B("mouseleave",a,function(){b.style.display="none"})}function Pz(){var a=document.querySelector("#tag_tip"),b=document.querySelectorAll(".room_link[data-roomlink='true']");if(null!==a){b=l(b);for(var c=b.next();!c.done;c=b.next())Oz(c.value,a)}};function Qz(a,b,c){c=void 0===c?!1:c;x.call(this,a);var d=this;this.mM=b;this.lB=c;this.element.classList.add("sortable");this.Zo=W("div",{className:"sortable-arrow"});this.element.appendChild(this.Zo);Rz(this,this.lB);this.element.onclick=function(){Sz.j({fi:d.mM,tC:d.lB})}}q(Qz,x);function Rz(a,b){b=void 0===b?!1:b;(a.lB=b)?(a.Zo.classList.remove("descending"),a.Zo.classList.add("ascending")):(a.Zo.classList.remove("ascending"),a.Zo.classList.add("descending"))}Qz.prototype.setActive=function(){this.Zo.classList.add("active")};var Tz={ht:"hashtag",vc:"viewers",rc:"rooms"},Sz=new t("updateTagTableEvent");function Uz(a){x.call(this,a);this.Hs="";this.Is=!1;this.nB=new Map;var b=Dn();a=b.sort;b=b.page;void 0!==a&&(this.Hs=(this.Is=!a.startsWith("-"))?a:a.slice(1));Vz(this);Wz(this,b);Xz(this)}q(Uz,x);function Vz(a){var b=a.element.querySelectorAll("div.headers span");a.nB=new Map;b.forEach(function(c){var d=c.getAttribute("data-param");null!==d&&(c=new Qz(c,d),a.nB.set(d,c))});Xz(a)}
function Wz(a,b){Sz.h(function(c){return et(a,function e(){var f=this,g,h,m,n,p,v;return Ba(e,function(A){if(1==A.aa){h=(g=f.Hs===c.fi)&&!c.tC;m=g&&c.tC;n={};p="";m||(p=(h?"":"-")+c.fi,n={sort:p});void 0!==b&&(n.page=b);var D=new Map;D.set("sort",p);D=Bn(D);D!==document.location.search&&"pushState"in window.history&&window.history.pushState("","",Cc(D,location.pathname));L("TagPageArrowClicked",{ArrowName:Tz[c.fi],ArrowDirection:m?"default":h?"ascending":"descending"});return ta(A,E(window.location.pathname.substring(1)+
"?"+Cn(n)),2)}v=A.ae;f.Hs=m?"":c.fi;f.Is=h;f.element.innerHTML=v.responseText;Vz(f);Pz();Yz(p);A.aa=0})})})}function Xz(a){var b=a.nB.get(a.Hs);void 0!==b&&(b.setActive(),Rz(b,a.Is))}function Yz(a){document.querySelectorAll(".top-section > .sub-nav > li > a").forEach(function(b){var c=b.href.split("?")[0],d="";""!==a&&(d="?sort="+a);b.href=""+c+d})};var Zz=new t("showJoinOverlay");function $z(){rc.call(this);var a=this;this.element.style.display="none";this.element.style.position="absolute";this.element.style.width="560px";this.element.style.height="auto";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #cccccc";this.element.style.borderRadius="20px";this.element.style.padding="10px";this.element.style.top="190px";this.element.style.fontSize="12px";this.element.style.fontFamily="UbuntuRegular', Arial, Helvetica, sans-serif";this.da.style.backgroundColor="#000000";this.element.appendChild(this.Np());this.ni=document.createElement("iframe");this.ni.frameBorder="0";this.ni.marginWidth="0";this.ni.scrolling="no";this.ni.marginHeight="0";this.ni.style.width="560px";this.ni.style.height="650px";this.ni.src="/accounts/register_iframe/";this.element.appendChild(this.ni);var b=document.createElement("hr");b.style.margin="15px 0 10px 0";b.style.border="0";b.style.color="#e4e4e4";b.style.backgroundColor="#e4e4e4";b.style.height="1px";this.element.appendChild(b);b=document.createElement("span");var c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/arrow_back.gif";c.style.marginRight="4px";c.style.verticalAlign="bottom";b.appendChild(c);this.xg=document.createElement("a");this.xg.innerText=kg;this.xg.style.color="#0a5a83";this.xg.style.position="relative";this.xg.style.top="-1px";this.xg.onmouseenter=function(){a.xg.style.textDecoration="underline"};this.xg.onmouseleave=function(){a.xg.style.textDecoration="none"};b.appendChild(this.xg);this.element.appendChild(b);b=document.createElement("span");b.style.cssFloat="right";c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/key.gif";c.style.marginRight="4px";c.style.verticalAlign="bottom";b.appendChild(c);c=document.createElement("span");c.innerText=lg;c.style.color="#7f7f7f";c.style.position="relative";c.style.top="-1px";c.style.marginRight="2px";b.appendChild(c);var d=document.createElement("a");d.href="/auth/login/";d.innerText=mg;d.style.color="#0a5a83";d.style.position="relative";d.style.top="-1px";d.onmouseenter=function(){d.style.textDecoration="underline"};d.onmouseleave=function(){d.style.textDecoration="none"};b.appendChild(d);this.element.appendChild(b);this.Mc.h(function(){a.D()})}q($z,rc);$z.prototype.qg=function(a){var b=this;this.xg.href=a.anchor.href;this.xg.onclick=a.su;B("click",this.xg,function(){b.D()});rc.prototype.show.call(this);this.element.style.display="block";this.H();this.ni.onload=function(){var c=b.ni.contentDocument;if(null!==c){var d=c.getElementById("husername");null!==d&&d.focus();c=c.querySelector("a.next");c.href=a.anchor.href;c.onclick=a.su;B("click",c,function(){b.D()})}};L("RegisterIframe_Shown")};$z.prototype.Np=function(){var a=document.createElement("div");a.style.animationName="spin";a.style.position="absolute";a.style.top="50%";a.style.left="50%";a.style.width="30px";a.style.height="31px";a.style.margin="-15px 0 0 -15px";a.style.background='url("https://static-assets.highwebmedia.com/tsdefaultassets/images/loading_spinner.svg")';a.style.backgroundSize="cover";a.style.animationName="spin";a.style.webkitAnimationName="spin";a.style.animationDuration="2s";a.style.webkitAnimationDuration="2s";a.style.animationTimingFunction="linear";a.style.webkitAnimationTimingFunction="linear";a.style.animationIterationCount="infinite";a.style.webkitAnimationIterationCount="infinite";a.style.zIndex="-1";return a};$z.prototype.H=function(){this.element.style.left=(document.documentElement.clientWidth-this.element.offsetWidth)/2+"px"};var aA=new t("commandeerJoinOverlayAnchors",{ef:700,Mf:1}),bA=new t("restoreJoinOverlayAnchors",{ef:700,Mf:1}),cA=!1;function dA(a){var b=this;this.anchor=a=void 0===a?document.createElement("a"):a;if(void 0!==Dn().join_overlay){var c=function(){cA=!0;eA(b)};cA?window.setTimeout(function(){eA(b)},0):aA.h(c);var d=function(){cA=!1;b.restore();aA.removeListener(c);window.setTimeout(function(){bA.removeListener(d)},0)};bA.h(d)}}function eA(a){a.su=a.anchor.onclick;a.jK=a.anchor.href;a.anchor.href="/accounts/register/";a.anchor.onclick=function(b){b.preventDefault();Zz.j(a);bA.j(void 0)}}
dA.prototype.restore=function(){this.anchor.onclick=this.su;this.anchor.href=this.jK;this.su=null};function fA(a){a=l(a.querySelectorAll("a:not(.nooverlay):not([href='#'])"));for(var b=a.next();!b.done;b=a.next())new dA(b.value)}
function gA(){var a=document.getElementById("header");null!==a&&fA(a);a=document.getElementById("footer-holder");null!==a&&fA(a);a=document.getElementById("room_list");null!==a&&fA(a);a=document.getElementById("hashtag_ticker");null!==a&&fA(a);a=document.getElementsByClassName("sub-nav");0!==a.length&&fA(a[0])};function hA(a,b,c){var d=this;this.Ue=a;this.yo=!1;this.nL=this.Ue.querySelector(".followed_counts");y(this.Ue,"gender-tab");y(this.Ue,"tabAnchor");this.Ue.style.borderBottomStyle="solid";this.Ue.style.borderBottomWidth="1px";J(a,{whiteSpace:"nowrap",display:"inline-block",cursor:"pointer",boxSizing:"border-box",WebkitTextSizeAdjust:"none"});this.bh=xq;this.bh.vg=lq(this.Ue.innerText);iA(this);a={username:c,pa:b,pw:function(e){iA(d);0===e.UG.length&&(d.yo=!1,jA(d))},ip:function(e,f){iA(d);d.yo=0<e.KB.length;jA(d);e.fm&&!f&&d.fm()},HJ:function(){iA(d);clearInterval(d.gm);d.gm=void 0;d.yo=!1;jA(d)},ge:new Aq(this.Ue,b),jm:this};this.ge=a.ge;this.ge.Xj.h(function(e){if(e.nb){clearInterval(d.gm);d.gm=void 0;d.yo=!1;jA(d);L("FollowedDropdownOpened",{onlineBroadcasters:d.bh.vg.Uk});if(mb()&&(e=window.localStorage.getItem("onlineFollowedTab"),null!==e)){e=JSON.parse(e);for(var f=l(e.unseenRooms),g=f.next();!g.done;g=f.next())e.seenRooms[g.value.room]=!0;e.timestamp=Date.now();e.flash=!1;e.unseenRooms=[];window.localStorage.setItem("onlineFollowedTab",JSON.stringify(e))}mb()&&window.localStorage.setItem("followedDropdownClicked",JSON.stringify({timestamp:Date.now()}))}});this.bh.fd(a)}hA.prototype.fm=function(){var a=this;if(void 0===this.gm){var b=3,c=!0;this.gm=window.setInterval(function(){if(c){if(y(a.Ue,"orange"),--b,0===b){clearInterval(a.gm);a.gm=void 0;return}}else z(a.Ue,"orange");c=!c},500)}};function iA(a){var b=a.bh.vg;a.Ue.style.width="auto";a.nL.textContent="("+b.Uk+"/"+b.total+")";null!==a.Ue.offsetParent&&window.setTimeout(function(){a.Ue.style.width=a.Ue.offsetWidth+1+"px";a.ge.$a()&&a.ge.xh()})}function jA(a){a.yo&&!a.ge.$a()?y(a.Ue,"orange"):z(a.Ue,"orange")};function kA(a){x.call(this,a);a=a.querySelector(".nav");null!==a&&a instanceof HTMLElement&&ep(a,["padding-left","padding-right"],10,65,500,800);a=document.querySelector(".footer-holder .langs");null!==a&&a instanceof HTMLElement&&ep(a,["padding-left","padding-right"],10,65,500,800);var b=document.querySelector(".footer-holder .footer-cb-address");null!==b&&b instanceof HTMLElement&&ep(b,"margin-left",-55,0,500,589,function(c){0===c&&(b.style.marginLeft="")})}q(kA,x);function lA(a){x.call(this,a);mA();nA();oA();a=document.querySelector("#user_information");null!==a&&a instanceof HTMLElement&&ep(a,"margin-right",4,15,500,600)}q(lA,x);function oA(){var a=document.querySelector(".nav-bar");null!==a&&ep(a,["padding-left","padding-right"],4,15,500,600);a=document.getElementById("nav");if(null!==a){var b=new x(a);Array.from(a.children).forEach(function(g){if(g instanceof HTMLLIElement){var h=new xx(g);Na(b,h);h.element.style.display="block";g=h.element.firstChild;if(null!==g&&g instanceof HTMLAnchorElement){var m=getComputedStyle(g);g.style.color=m.color;g.style.font=m.font;g.style.fontFamily=m.fontFamily;g.style.fontWeight=m.fontWeight;g.style.fontSize=m.fontSize}h.Tk.h(function(n){h.element.style.padding=n?"8px 4px":""})}});var c=new ox("li",!0);b.I(c);Um(c.element);J(c,{border:"1px solid transparent",borderRadius:"4px 4px 0 0",height:"30px",top:"6px",width:"39px",paddingTop:"3px",color:Xc.JF});c.Fd.Xj.h(function(g){c.element.style.border=g.nb?"1px solid "+Xc.dw:"1px solid transparent"});J(c.Fd,{borderColor:""+Xc.dw,padding:"8px 20px 8px 8px"});if(null!==a.parentElement){for(var d=0,e=l(a.parentElement.children),f=e.next();!f.done;f=e.next())f=f.value,f!==a&&f instanceof HTMLElement&&(d+=f.offsetWidth);ux(c,d)}}}function nA(){var a=document.querySelector("#header .ad");if(null!==a&&a instanceof HTMLElement){var b=document.querySelector(".right_section"),c=Wm(null!==a.firstElementChild&&a.firstElementChild instanceof HTMLElement?a.firstElementChild:a).right;cp.h(function(){a.style.display=(null===b?document.body.offsetWidth:b.offsetLeft)-25<c?"none":"block"})}}
function mA(){var a=document.querySelector(".logo-zone");if(null!==a&&a instanceof HTMLElement){var b=document.querySelector(".logo-zone svg"),c=document.querySelector(".logo-zone strong:last-child");ep(a,"padding-left",8,15,500,600);ep(a,"padding-top",12,6,500,600);null!==b&&b instanceof HTMLElement&&(ep(b,"width",145,198,500,600),ep(b,"height",45,61,500,600));null!==c&&c instanceof HTMLElement&&(ep(c,"font-size",8,10,500,600),ep(c,"padding-left",13,17,500,600));var d=document.querySelector(".logo-zone .logo");if(null!==d&&d instanceof HTMLElement){var e=d.clientWidth;e>500-$m()&&cp.h(function(){d.style.maxWidth=e+d.offsetLeft>en()?en()-d.offsetLeft-1+"px":""})}}};var pA=[];M.h(function(a){pA=a.C.kh});var qA=new t("openEmoticonPreview"),rA=new t("closeEmoticonPreview"),sA=new t("emoticonPreviewClosed");function tA(){rc.call(this);var a=this;y(this.element,"emoticonPreviewModal");this.element.style.position="fixed";this.element.style.width="auto";this.element.style.height="auto";this.element.style.borderRadius="6px";this.element.style.padding="10px";this.element.style.fontSize="12px";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.zIndex="1003";this.element.style.textAlign="center";this.element.style.boxShadow="0 0 18px rgba(0, 0, 0, 0.4)";this.da.style.backgroundColor="#000000";this.da.style.opacity="0.4";this.da.style.zIndex="1003";var b=document.createElement("div");y(b,"closeButton");b.style.display="inline-block";b.style.position="absolute";b.style.width="10px";b.style.height="10px";b.style.top="9px";b.style.right="9px";b.style.cursor="pointer";b.style.opacity="1";b.onclick=function(){a.D()};b.onmouseenter=function(){b.style.opacity="1"};b.onmouseleave=function(){b.style.opacity="0.5"};this.element.appendChild(b);this.lf=document.createElement("img");this.lf.style.verticalAlign="middle";this.lf.style.padding="10px";B("load",this.lf,function(){a.H()});this.element.appendChild(this.lf);this.nf=document.createElement("div");y(this.nf,"hrefColor");this.nf.innerText="REPORT EMOTICON";this.nf.style.cursor="pointer";this.nf.onclick=function(){a.nf.style.display="none";a.zj.style.display="block";a.H()};this.nf.onmouseenter=function(){a.nf.style.textDecoration="underline"};this.nf.onmouseleave=function(){a.nf.style.textDecoration="none"};this.element.appendChild(this.nf);this.zj=document.createElement("div");this.zj.style.display="none";this.element.appendChild(this.zj);var c=document.createElement("span");c.innerText="Choose a category:";c.style.marginRight="6px";this.zj.appendChild(c);var d=document.createElement("select");y(d,"categorySelect");d.style.borderRadius="4px";d.style.marginBottom="2px";c=l(uA);for(var e=c.next();!e.done;e=c.next()){e=e.value;var f=document.createElement("option");f.innerText=e.label;f.value=e.value;d.appendChild(f)}this.zj.appendChild(d);c=document.createElement("span");c.style.display="inline-block";e=document.createElement("span");y(e,"cancelButton");e.innerText="CANCEL";e.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";e.style.fontSize="12px";e.style.padding="2px 6px";e.style.borderRadius="4px";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="inline-block";e.style.marginLeft="6px";e.onclick=function(){a.nf.style.display="block";a.zj.style.display="none";a.H()};c.appendChild(e);e=document.createElement("span");y(e,"reportButton");e.innerText="REPORT";e.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";e.style.fontSize="12px";e.style.padding="2px 6px";e.style.borderRadius="4px";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="inline-block";e.style.marginLeft="6px";e.onclick=function(){F("emoticon_report_abuse/"+a.Zp.Td+"/",{category:d.value}).then(function(){pA.push(a.Zp.Td);a.zj.style.display="none";a.tl.style.display="block";a.H()}).catch(function(h){w("Error reporting emoticon: "+
h)})};c.appendChild(e);this.zj.appendChild(c);this.tl=document.createElement("div");this.tl.style.display="none";this.element.appendChild(this.tl);c=document.createElement("span");c.innerText="EMOTICON REPORTED - ";this.tl.appendChild(c);var g=document.createElement("span");y(g,"hrefColor");g.innerText="UNDO";g.style.cursor="pointer";g.onclick=function(){F("emoticon_report_abuse/"+a.Zp.Td+"/",{category:d.value}).then(function(){var h=pA.indexOf(a.Zp.Td,0);0<=h&&pA.splice(h,1);a.tl.style.display="none";a.nf.style.display="block";a.H()}).catch(function(h){w("Error reporting emoticon: "+h)})};g.onmouseenter=function(){g.style.textDecoration="underline"};g.onmouseleave=function(){g.style.textDecoration="none"};this.tl.appendChild(g);this.Mc.h(function(){a.D()});rA.h(function(){a.D()})}q(tA,rc);tA.prototype.qg=function(a){this.Zp=a;this.lf.src=this.Zp.url;this.nf.style.display="none";this.zj.style.display="none";this.tl.style.display="none";0<=pA.indexOf(a.Td)?this.tl.style.display="block":this.nf.style.display="block";rc.prototype.show.call(this);this.H()};tA.prototype.H=function(){this.element.style.left=(document.documentElement.clientWidth-this.element.offsetWidth)/2+"px";this.element.style.top=(document.documentElement.clientHeight-this.element.offsetHeight)/2+"px"};tA.prototype.D=function(){rc.prototype.D.call(this);sA.j(void 0)};tA.prototype.show=function(){rc.prototype.show.call(this);this.element.style.visibility="";this.H()};var uA=[{label:"Just ignore this emoticon",value:"ignore"},{label:"Offensive",value:"offensive"},{label:"Disgusting",value:"disgusting"},{label:"Fake Tip",value:"fake_tip"},{label:"Advertising",value:"advertising"}];function vA(a,b,c){this.pa=a;this.AL=b;this.$b=c;wA(this)}function wA(a){a.Ys();Iq(Jq(),function(){a.Ys()})}vA.prototype.Ys=function(){var a=this,b=document.getElementById(this.AL);if(null!==b){var c={};b=l(b.querySelectorAll("div.icon_following, div.icon_not_following"));for(var d=b.next();!d.done;c={ys:c.ys},d=b.next())c.ys=d.value,c.ys.onclick=function(e){return function(){a.XA(e.ys)}}(c)}};function xA(a){a.classList.remove("icon_update_following");a.classList.add("icon_following");a.classList.add("no_hover");window.setTimeout(function(){a.classList.remove("no_hover")},3E3);a.title=ff}function yA(a,b){b.classList.remove("icon_not_following");b.classList.add("icon_update_following");var c=b.getAttribute("data-slug");null!==c&&(c=Gv(c,a.pa),void 0!==c&&c.then(function(d){d?xA(b):zA(a,b)}).catch(function(){}))}
function AA(a){a.classList.remove("icon_update_following");a.classList.add("icon_not_following");a.classList.add("no_hover");window.setTimeout(function(){a.classList.remove("no_hover")},3E3);a.title=gf}function zA(a,b){b.classList.remove("icon_following");b.classList.add("icon_update_following");var c=b.getAttribute("data-slug");null!==c&&(void 0!==Hv(c,a.pa)?AA(b):(b.classList.remove("icon_update_following"),b.classList.add("icon_following")))}
vA.prototype.XA=function(a){a.classList.contains("icon_following")?zA(this,a):a.classList.contains("icon_not_following")&&(this.pa?this.$b?oo("To follow this broadcaster, please create an account or login now.",function(){window.location.href="/accounts/auth/login/?next="+window.location.pathname}):Zp({On:!0}):yA(this,a))};function BA(){window.setTimeout(function(){Op||location.reload();Np.h(function(){location.reload()})},1728E5)};function CA(a){return W("div",{style:{display:"block",width:"100%",height:"100%",position:"absolute"},ref:a},W("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"30px",height:"31px",margin:"-15px 0 0 -15px",background:'url("https://static-assets.highwebmedia.com/images/loading_spinner.svg")',backgroundSize:"cover",animationName:"spin",animationDuration:"2s",animationTimingFunction:"linear",animationIterationCount:"infinite"}}))};function DA(a,b,c){function d(p){"left"===p?m.style.fill="#E2E2E2":n.style.fill="#E2E2E2"}function e(p){g.mc&&("left"===p?m.style.fill="#B8B8B8":n.style.fill="#B8B8B8")}function f(p){var v=document.createElementNS("http://www.w3.org/2000/svg","svg"),A=document.createElementNS("http://www.w3.org/2000/svg","path");A.setAttribute("d","M5.7 0L0 5.55 18.6 24 0 42.45 5.7 48 30 24 5.7 0z");A.setAttribute("fill","#E2E2E2");"left"===p&&A.setAttribute("transform","translate(30, 0) scale(-1,1)");v.appendChild(A);v.setAttribute("viewBox","0 0 30 50");return v}c=void 0===c?!0:c;x.call(this);var g=this;this.mc=c;this.Kd=document.createElement("div");this.re=document.createElement("div");this.Kd.style.display=this.re.style.display="inline-block";this.Kd.style.height=this.re.style.height="calc(100% - 20px)";this.Kd.style.width=this.re.style.width="50%";this.Kd.style.top=this.re.style.top="0px";this.Kd.style.position=this.re.style.position="absolute";this.Kd.style.left=this.re.style.right="0px";this.mc&&(this.Kd.style.cursor=this.re.style.cursor="pointer");this.Kf=document.createElement("div");this.Qf=document.createElement("div");this.Kf.style.position=this.Qf.style.position="absolute";this.Kf.style.top=this.Qf.style.top=(this.Kd.offsetHeight-50)/2+"px";this.Kf.style.height=this.Qf.style.height="50px";this.Kf.style.width=this.Qf.style.width="30px";this.Kf.style.userSelect=this.Qf.style.userSelect="none";this.Kf.style.webkitUserSelect=this.Qf.style.webkitUserSelect="none";this.Kf.style.left=this.Qf.style.right="0";c=f("left");var h=f("right");this.Kf.appendChild(c);this.Qf.appendChild(h);this.Kd.appendChild(this.Kf);this.re.appendChild(this.Qf);var m=this.Kf.firstChild.firstChild,n=this.Qf.firstChild.firstChild;this.Kd.onmouseenter=function(){e("left")};this.Kd.onmouseleave=function(){d("left")};this.re.onmouseenter=function(){e("right")};this.re.onmouseleave=function(){d("right")};this.Kd.onclick=a;this.re.onclick=b}q(DA,x);function EA(a){a.Kf.style.left=a.Qf.style.right="25px"}
function FA(a){a.Kd.style.visibility=a.re.style.visibility="hidden"};function GA(a){var b=W("path",{fill:"#E2E2E2",d:"M11.7255 0.392534C11.6095 0.276307 11.4717 0.184097 11.32 0.121183C11.1684 0.0582692 11.0058 0.0258858 10.8415 0.0258858C10.6773 0.0258858 10.5147 0.0582692 10.363 0.121183C10.2113 0.184097 10.0735 0.276307 9.95753 0.392534L6.23553 4.11453C6.18867 4.16125 6.1252 4.18748 6.05903 4.18748C5.99287 4.18748 5.9294 4.16125 5.88253 4.11453L2.15953 0.392534C2.0448 0.270837 1.90682 0.173402 1.75375 0.106C1.60068 0.0385979 1.43564 0.00259895 1.26841 0.000135597C1.10118 -0.00232775 0.935151 0.0287947 0.780163 0.0916592C0.625176 0.154524 0.484381 0.247852 0.366117 0.366117C0.247852 0.484381 0.154524 0.625176 0.0916592 0.780163C0.0287947 0.935151 -0.00232775 1.10118 0.000135597 1.26841C0.00259895 1.43564 0.0385979 1.60068 0.106 1.75375C0.173402 1.90682 0.270837 2.0448 0.392534 2.15953L4.11453 5.88153C4.13782 5.90476 4.15629 5.93234 4.16889 5.96272C4.18149 5.99309 4.18798 6.02565 4.18798 6.05853C4.18798 6.09142 4.18149 6.12398 4.16889 6.15435C4.15629 6.18472 4.13782 6.21231 4.11453 6.23553L0.392534 9.95953C0.158287 10.1941 0.0267145 10.512 0.0267145 10.8435C0.0267145 11.175 0.158287 11.493 0.392534 11.7275C0.629353 11.9575 0.946449 12.0861 1.27653 12.0861C1.60662 12.0861 1.92371 11.9575 2.16053 11.7275L5.88253 8.00553C5.90567 7.98228 5.93317 7.96383 5.96346 7.95124C5.99375 7.93865 6.02623 7.93217 6.05903 7.93217C6.09184 7.93217 6.12431 7.93865 6.1546 7.95124C6.18489 7.96383 6.2124 7.98228 6.23553 8.00553L9.95953 11.7255C10.1967 11.9548 10.5137 12.0829 10.8435 12.0829C11.1734 12.0829 11.4904 11.9548 11.7275 11.7255C11.9618 11.491 12.0934 11.173 12.0934 10.8415C12.0934 10.51 11.9618 10.1921 11.7275 9.95753L8.00553 6.23553C7.98225 6.21231 7.96378 6.18472 7.95118 6.15435C7.93857 6.12398 7.93209 6.09142 7.93209 6.05853C7.93209 6.02565 7.93857 5.99309 7.95118 5.96272C7.96378 5.93234 7.98225 5.90476 8.00553 5.88153L11.7255 2.15953C11.8416 2.04354 11.9337 1.90581 11.9965 1.75422C12.0593 1.60262 12.0917 1.44013 12.0917 1.27603C12.0917 1.11194 12.0593 0.949446 11.9965 0.797851C11.9337 0.646255 11.8416 0.508526 11.7255 0.392534Z"});return W("div",{className:"closeButton",style:{position:"absolute",width:"15px",padding:"15px",right:"0px",zIndex:1102,cursor:"pointer"},onMouseEnter:function(){b.style.fill="#B8B8B8"},onMouseLeave:function(){b.style.fill="#E2E2E2"},onClick:a},W("svg",{viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b))};function HA(a){var b=this,c;this.Ab=a;this.element=W("div",null);this.ow=new Map;this.EH=new Map;IA();void 0!==a.rj&&(void 0===JA.get(a.rj)&&JA.set(a.rj,[]),null===(c=JA.get(a.rj))||void 0===c?void 0:c.push(this));this.Ab.ib.forEach(function(d){var e,f;d.T=a.bb;var g=W("div",{style:KA},CA(function(m){f=m;f.style.background="rgba(0,0,0,0.6)"}));g.onclick=function(){var m=Object.assign(Object.assign({},b.Ab),{ib:[].concat(ja(b.Ab.ib))});void 0===LA&&(LA=new MA);LA.Ab!==m&&LA.fd(m);NA(LA,LA.ib.indexOf(d))};var h=new Image;h.style.position="absolute";h.style.maxHeight="100%";h.src=d.pl;h.onload=function(){g.appendChild(h);if(!0!==d.xo)if(b.Ab.dr){var m=document.createElement("span");m.innerText=Hl;J(m,{color:"#FFFFFF",backgroundColor:"#2067AB",fontFamily:"'UbuntuBold', Arial, Helvetica, sans-serif",fontSize:"8px",position:"absolute",bottom:"2px",right:"2px",padding:"0px 1px",zIndex:1});b.ow.set(d.ic,m);g.appendChild(m)}else{m=document.createElement("canvas");var n=m.getContext("2d"),p=h.height;m.width=h.width;m.height=p;n.drawImage(h,0,0,8,8);n.imageSmoothingEnabled=!1;n.drawImage(m,0,0,8,8,0,0,m.width,m.height);b.ow.set(d.ic,m);m.style.zIndex="1000";m.style.position="absolute";g.insertBefore(m,g.firstChild)}};h.onerror=function(){var m=new Image;m.src="https://static-assets.highwebmedia.com/images/no_thumbnail_1.jpg";m.style.position="absolute";m.style.maxHeight="100%";m.style.left="-9px";g.appendChild(m);g.onclick=function(){V(gm)}};b.element.appendChild(g);b.EH.set(d.ic,g);OA.has(d.ic)||OA.set(d.ic,[]);null===(e=OA.get(d.ic))||void 0===e?void 0:e.push(b)})}HA.prototype.It=function(a){this.Ab.ib=this.Ab.ib.filter(function(c){return c.ic!==a});var b=this.EH.get(a);void 0!==b&&PA(b)};function QA(a,b){var c;a=JA.get(a);if(void 0!==a){a=l(a);for(var d=a.next();!d.done;d=a.next()){d=d.value;for(var e=l(b),f=e.next();!f.done;f=e.next()){f=f.value;var g=d.ow.get(f);null===(c=null===g||void 0===g?void 0:g.parentElement)||void 0===c?void 0:c.removeChild(g);d.ow.delete(f)}}}}
function RA(a){var b,c=l(null!==(b=OA.get(a))&&void 0!==b?b:[]);for(b=c.next();!b.done;b=c.next())b.value.It(a)}var JA=new Map,OA=new Map;function PA(a){for(var b=W("img",{src:"https://static-assets.highwebmedia.com/images/no_thumbnail_1.jpg",style:{position:"absolute",maxHeight:"100%",left:"-9px"}});null!==a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b);a.onclick=function(){V(gm)}}var SA=!1;function IA(){SA||(TA.h(function(a){RA(a)}),UA.h(function(a){RA(a)}),SA=!0)};function MA(){rc.call(this,{Am:function(){a.element.style.display="block";a.H()},Zl:!0});var a=this;this.bc=0;TA.h(function(b){a.It(b)},!1);UA.h(function(b){a.It(b)},!1)}var LA;q(MA,rc);k=MA.prototype;k.fd=function(a){var b;this.Ab=a;this.Ab.dr=null!==(b=this.Ab.dr)&&void 0!==b?b:!1;a=l(this.ib);for(b=a.next();!b.done;b=a.next()){b=b.value;if(void 0!==b.vq)return;var c=W("img",{src:b.url,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"calc(100% - 30px)",maxWidth:"calc(100% - 180px)"}});c.onload=function(){var d;null===(d=LA)||void 0===d?void 0:d.H()};b.vq=c}VA(this)};function VA(a){a.Ze=void 0;1<a.ib.filter(function(b){return""!==b.pl}).length&&(a.Ze=new DA(function(){a.previous()},function(){a.next()}),EA(a.Ze));a.element=W("div",{tabIndex:-1,style:{position:"fixed",zIndex:1101,backgroundColor:"#ffffff",padding:"0px 80px",outline:"none",width:"80vw",height:"80vh",left:"10vw",top:"10vh",boxShadow:"0 0 3px black",boxSizing:"border-box"}},GA(function(){a.D()}),void 0!==a.Ze?a.Ze.Kd:void 0,void 0!==a.Ze?a.Ze.re:void 0);B("keydown",a.element,function(b){switch(b.key){case "Left":case "ArrowLeft":a.previous();break;case "Right":case "ArrowRight":a.next();break;case "Esc":case "Escape":a.D()}})}function WA(a){var b,c,d;null===(d=null===(c=null===(b=a.Xh)||void 0===b?void 0:b.vq)||void 0===c?void 0:c.parentElement)||void 0===d?void 0:d.removeChild(a.Xh.vq)}function NA(a,b){b=void 0===b?0:b;var c;a.show();WA(a);a.bc=b;void 0!==a.Xh&&void 0!==a.Xh.vq&&(a.element.appendChild(a.Xh.vq),a.Ab.dr||!1!==a.Xh.xo||(a.Xh.xo=!0,XA(a.Xh.T,a.Ab.rj,a.Xh.ic),QA(null!==(c=a.Ab.rj)&&void 0!==c?c:"",[a.Xh.ic])));a.H()}
k.D=function(a){rc.prototype.D.call(this,void 0===a?!0:a);WA(this)};k.It=function(a){var b,c=this.ib.findIndex(function(d){return d.ic===a});-1!==c&&(this.bc===c&&this.D(),this.ib.splice(c,1),this.bc>c&&--this.bc,1===this.ib.length&&(null===(b=this.Ze)||void 0===b?void 0:FA(b)))};k.next=function(){for(var a=(this.bc+1)%this.ib.length;""===this.ib[a].pl;)a=(a+1)%this.ib.length;NA(this,a)};k.previous=function(){for(var a=0<this.bc?this.bc-1:this.ib.length-1;""===this.ib[a].pl;)a=0<a?a-1:this.ib.length-1;NA(this,a)};k.H=function(){var a;null===(a=this.Ze)||void 0===a?void 0:a.Kf.style.top=a.Qf.style.top=(this.element.offsetHeight-50)/2+"px"};ea.Object.defineProperties(MA.prototype,{ib:{configurable:!0,enumerable:!0,get:function(){return this.Ab.ib}},Xh:{configurable:!0,enumerable:!0,get:function(){return this.ib[this.bc]}}});var KA={width:"64px",height:"64px",margin:"0px 1px",display:"inline-block",backgroundSize:"cover",backgroundPosition:"center",position:"relative",cursor:"pointer",borderRadius:"4px",overflow:"hidden",zIndex:0};var YA=Object.assign(Object.assign({},KA),{cursor:"default"});function ZA(a,b){b=void 0===b?0:b;x.call(this);var c=this;this.ci=a;this.YG=$A;this.Xm=0;var d={height:"100%",position:"absolute",zIndex:1E3,opacity:.8,borderRadius:0,border:"none",fill:"currentColor"};this.element=W("div",{className:"pmMediaDockContainer",style:{position:"absolute",width:"100%",display:"none",overflowX:"hidden",whiteSpace:"nowrap",height:"77px",bottom:0}},W("button",{ref:function(e){return c.XG=e},onClick:function(){c.scrollLeft()},style:Object.assign(Object.assign({},d),{left:0})},W("svg",{width:"8",height:"12",viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},W("path",{d:"M9.19276e-07 5.98581C-0.000425611 5.65497 0.147594 5.33999 0.406233 5.12135L6.21431 0.216066C6.6146 -0.106384 7.20982 -0.0630863 7.55493 0.313586C7.90004 0.690259 7.8688 1.26253 7.48456 1.6025L2.40562 5.89181C2.37742 5.91555 2.36125 5.9498 2.36125 5.98581C2.36125 6.02182 2.37742 6.05607 2.40562 6.07981L7.48456 10.3691C7.75191 10.5845 7.87679 10.922 7.81086 11.251C7.74493 11.58 7.49854 11.8489 7.16704 11.9537C6.83554 12.0584 6.47093 11.9826 6.21431 11.7556L0.408316 6.85177C0.149051 6.63276 0.000328855 6.31734 9.19276e-07 5.98581Z",fill:"#222222"}))),W("button",{ref:function(e){return c.OA=e},onClick:function(){var e=Math.min(c.NA,c.Xm+c.YG);c.ci.element.style.transform="translateX(-"+e+"px)";c.Xm=e;aB(c)},style:Object.assign(Object.assign({},d),{right:0})},W("svg",{width:"8",height:"12",viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},W("path",{d:"M8 5.98581C8.00043 5.65497 7.85241 5.33999 7.59377 5.12135L1.78569 0.216066C1.3854 -0.106384 0.790178 -0.0630863 0.44507 0.313586C0.0999627 0.690259 0.131205 1.26253 0.515437 1.6025L5.59438 5.89181C5.62258 5.91555 5.63875 5.9498 5.63875 5.98581C5.63875 6.02182 5.62258 6.05607 5.59438 6.07981L0.515437 10.3691C0.248085 10.5845 0.123215 10.922 0.189144 11.251C0.255072 11.58 0.501458 11.8489 0.832959 11.9537C1.16446 12.0584 1.52907 11.9826 1.78569 11.7556L7.59168 6.85177C7.85095 6.63276 7.99967 6.31734 8 5.98581Z",fill:"#222222"}))));a.tb=this;this.I(a);0<b&&(this.element.style.borderTopLeftRadius="4px",this.element.style.borderTopRightRadius="4px",this.element.style.transform="translate(-1px, -27px)",y(this.element,"containsSelectedMediaDock"));aB(this)}q(ZA,x);k=ZA.prototype;k.H=function(){aB(this)};function bB(a){a.ci.element.style.transform="translateX(0px)";a.Xm=0;aB(a)}k.scrollLeft=function(){var a=Math.max(0,this.Xm-this.YG);this.ci.element.style.transform="translateX(-"+a+"px)";this.Xm=a;aB(this)};function aB(a){a.XG.style.display=0<a.Xm?"block":"none";a.NA>a.element.getBoundingClientRect().width-64&&a.Xm<a.NA?a.OA.style.display="block":a.OA.style.display="none"}k.toggle=function(){var a=this;this.$a()?this.D():this.show();window.setTimeout(function(){aB(a)},0)};k.show=function(){this.$a()||(this.ob(),this.OA.click(),this.XG.click(),this.ci.Vz.M())};k.D=function(){this.Sa();this.ci.uh();this.ci.Vz.M()};ea.Object.defineProperties(ZA.prototype,{NA:{configurable:!0,enumerable:!0,get:function(){return Math.max(0,this.ci.children().length*$A+cB)}},qc:{configurable:!0,enumerable:!0,get:function(){return this.ci.qc.parent}}});function dB(a){x.call(this);var b=this;this.Vz=a;this.element=W("div",{className:"MediaDock",style:{minHeight:"77px",width:"auto",minWidth:"100%",position:"absolute",boxSizing:"border-box",bottom:0,left:0,padding:cB+"px",whiteSpace:"nowrap",overflow:"hidden"}});TA.h(function(c){var d;null===(d=eB(b,c))||void 0===d?void 0:d.Qm()});UA.h(function(c){var d;null===(d=eB(b,c))||void 0===d?void 0:d.xF()})}q(dB,x);function fB(a){var b;null===(b=a.tb)||void 0===b?void 0:aB(b)}
function eB(a,b){b=b.toString();return a.items().find(function(c){return c.bA.ic===b})}dB.prototype.clear=function(){for(var a;0<this.items().length;)this.items().forEach(function(b){b.remove()});null===(a=this.tb)||void 0===a?void 0:bB(a)};dB.prototype.items=function(){return this.children()};function gB(a){return et(a,function c(){var d=this,e,f,g,h;return Ba(c,function(m){switch(m.aa){case 1:e=d.items(),f=l(e),g=f.next();case 2:if(g.done){m.aa=4;break}h=g.value;return ta(m,h.lG,3);case 3:g=f.next();m.aa=2;break;case 4:return m.return(e.map(function(n){return n.bA}))}})})}dB.prototype.uh=function(){};var cB=5;function hB(a,b){x.call(this);var c=this;this.lG=a;this.uj=b;this.element=W("div",{style:Object.assign(Object.assign({},YA),{backgroundImage:""}),colorClass:"mediaDockItem"},W("img",{src:"https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/closeButton.svg",onClick:function(d){d.stopPropagation();c.remove()},ref:function(d){return c.GG=d},style:{position:"absolute",top:0,right:0,zIndex:1,cursor:"pointer"}}),W("div",{style:Object.assign(Object.assign({},YA),{position:"absolute"}),ref:function(d){return c.image=d}},CA(function(d){return c.vb=d})));a.then(function(d){if("FAIL"!==d.ic)c.onload(d)})}q(hB,x);hB.prototype.onload=function(a){var b=this;this.bA=a;var c=new Image;this.element.setAttribute("name","photo-"+a.ic);c.onload=function(){b.image.style.backgroundImage='url("'+c.src+'")';b.vb.style.display="none"};c.src=a.pl};hB.prototype.Qm=function(){var a;null===(a=this.parent)||void 0===a?void 0:a.removeChild(this)};var $A=66;function iB(){ZA.apply(this,arguments)}q(iB,ZA);iB.prototype.show=function(){ZA.prototype.show.call(this);var a=this.qc;0===a.ci.items().length||a.show()};iB.prototype.D=function(){ZA.prototype.D.call(this);this.qc.D()};function jB(a,b,c,d){dB.call(this,a);var e=this;this.Xb=b;this.kp=d;this.eq=W("input",{type:"file",accept:"image/*",multiple:!0});this.vb=new kB;this.listeners=new La;this.qc=new lB(this.Vz);this.qc.qc=this;a=W("div",{style:Object.assign(Object.assign({},YA),{cursor:"pointer",backgroundImage:"none",backgroundColor:"#2C2C2C"})},W("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(1.5)"}},W("img",{src:"https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/uploadBackground.svg"}),W("img",{src:"https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/uploadSymbol.svg",style:{position:"absolute",bottom:0,right:0,transform:"translate(50%, 25%) scale(0.66)"}})));a.onclick=function(){e.eq.click()};this.element.appendChild(a);this.eq.onchange=function(){mB(e)};nB(this);r(Po.od.h(function(f){e.kp.includes(f.jg)&&nB(e)}),this.listeners);r(oB.h(function(f){var g;e.kp.includes(X())&&e.Xb===f.Xb&&(e.qE.apply(e,ja(f.files)),null===(g=e.tb)||void 0===g?void 0:g.show())}),this.listeners);r(pB.h(function(f){e.kp.includes(X())&&qB(e,new rB(f.promise,e,e.Xb===f.Xb))},!1),this.listeners)}q(jB,dB);jB.prototype.Eb=function(){Ma(this.listeners)};function mB(a){et(a,function c(){var d=this;return Ba(c,function(e){null!==d.eq.files&&(d.qE.apply(d,ja(d.eq.files)),d.eq.value="");e.aa=0})})}
jB.prototype.qE=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return et(this,function e(){var f,g,h,m=this;return Ba(e,function(n){1==n.aa&&(f=l(b),g=f.next());if(3!=n.aa){if(g.done){n.aa=0;return}h=g.value;return ta(n,sB(h,m.Xb),3)}g=f.next();n.aa=2})})};function qB(a,b,c){for((void 0===c||!c)&&0<a.items().length?Qa(a,b):a.I(b);20<a.items().length;)a.removeChild(a.lastChild());fB(a)}
function nB(a){Ta(a);a.I(a.vb);fB(a);pn(tB);uB.then(function(b){Ta(a);a.vb.element.style.display="none";b=l(b);for(var c=b.next();!c.done;c=b.next())qB(a,new rB(Promise.resolve(c.value),a),!0);fB(a)}).catch(function(){a.vb.element.style.display="none";fB(a)})}jB.prototype.items=function(){return dB.prototype.items.call(this)};function kB(){x.call(this);this.element=W("div",{style:Object.assign(Object.assign({},YA),{backgroundImage:""})},W("div",{style:Object.assign(Object.assign({},YA),{position:"absolute"})},CA()))}q(kB,x);function rB(a,b,c){c=void 0===c?!1:c;hB.call(this,a,b);var d=this;this.nI=c;this.FG=this.selected=!1;a.then(function(e){"FAIL"===e.ic&&(V(fm),d.Qm())});this.Hv=W("img",{ref:function(e){return d.Hv=e},src:"https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/selected.svg",style:{position:"absolute",bottom:0,right:0,zIndex:1,display:"none"}});this.element.appendChild(this.Hv)}q(rB,hB);k=rB.prototype;k.onload=function(a){var b=this;hB.prototype.onload.call(this,a);this.nI&&window.setTimeout(function(){b.select()},0);this.element.onclick=function(){b.selected?b.Vl():b.select()}};k.select=function(){var a,b;this.selected||(this.selected=!0,this.GG.style.display="none",this.Hv.style.display="block",void 0===this.qc&&(this.qc=new vB(this.lG,this.uj.qc),this.qc.qc=this),this.uj.qc.I(this.qc),null===(a=this.uj.qc.tb)||void 0===a?void 0:a.show(),null===(b=this.uj.qc.tb)||void 0===b?void 0:aB(b))};k.Vl=function(){var a;this.selected=!1;this.GG.style.display="block";this.Hv.style.display="none";null===(a=this.qc)||void 0===a?void 0:a.remove(!0)};k.remove=function(){var a=this;this.FG?this.Qm():oo(dm,function(){a.vb.style.display="block";var b=a.image.style.backgroundImage;a.image.style.removeProperty("background-image");wB(a.bA.ic).then(function(){a.Qm()}).catch(function(){a.vb.style.display="none";a.image.style.backgroundImage=b;V(em)})})};k.xF=function(){this.element.removeChild(this.image);this.element.onclick=null;var a=W("div",{style:{whiteSpace:"break-spaces",fontSize:"11px",width:"100%",height:"100%",padding:"2px"},colorClass:"rejected"},xm);this.element.appendChild(a);this.FG=!0};k.Qm=function(){var a=this,b;hB.prototype.Qm.call(this);xB(1,19).then(function(c){var d;0<c.length&&(c=Promise.resolve(c[0]),c=new rB(c,a.uj),qB(a.uj,c,!0));null===(d=a.uj)||void 0===d?void 0:fB(d)});this.vb.style.display="none";null===(b=this.uj)||void 0===b?void 0:fB(b)};function yB(){ZA.apply(this,arguments)}q(yB,ZA);function lB(a){dB.call(this,a);y(this.element,"selectedMediaDock")}q(lB,dB);lB.prototype.uh=function(){this.clear()};function vB(a,b){hB.call(this,a,b)}q(vB,hB);vB.prototype.remove=function(a){a=void 0===a?!1:a;var b,c,d=this.uj;this.Qm();null===d||void 0===d?void 0:fB(d);null===(b=null===d||void 0===d?void 0:d.tb)||void 0===b?void 0:0===b.ci.items().length&&b.D();a||(null===(c=this.qc)||void 0===c?void 0:c.Vl())};vB.prototype.xF=function(){this.remove()};function zB(a,b){if(AB){var c=W("div",{style:{position:"absolute",top:"0",left:"0",boxSizing:"border-box",height:"100%",width:"100%",background:"rgba(0,0,0,0.5)",padding:"10px",display:"none",zIndex:1E3}},W("div",{style:{border:"3px dashed white",padding:"10px",height:"calc(100% - 26px)"}}));a.appendChild(c);Wb(["dragenter","dragover","dragleave","drop"],a,function(d){d.preventDefault();d.stopPropagation()});Wb(["dragenter","dragover"],a,function(){c.style.display="block"});Wb(["dragleave","drop"],c,function(){c.style.display="none"});B("drop",c,function(d){var e,f;d=Array.from(null!==(f=null===(e=d.dataTransfer)||void 0===e?void 0:e.files)&&void 0!==f?f:[]);oB.j({Xb:b,files:d})})}};var oB=new t("pmMediaDrop"),pB=new t("pmMediaUpload"),TA=new t("pmMediaDeleted"),UA=new t("pmMediaRejected"),AB=!1;function sB(a,b){var c=new FormData;c.append("image",a);a=F("api/ts/chatmessages/photos/upload/",c).then(function(d){d=JSON.parse(d.responseText).payload;return{ic:d.media_id,url:d.media_url,pl:d.media_thumbnail_url,xo:!1}}).catch(function(d){w("Could not upload media",d);return{ic:"FAIL",url:"FAIL",pl:"FAIL",xo:!1}});pB.j({Xb:b,promise:a});return a}
function xB(a,b){return E("api/ts/chatmessages/media/?media_type=I&limit="+(void 0===a?20:a)+"&offset="+(void 0===b?0:b)).then(function(c){var d=[];c=JSON.parse(c.responseText).media;c=l(c);for(var e=c.next();!e.done;e=c.next())e=e.value,d.push({ic:e.media_id,url:e.media_url,pl:e.media_thumbnail_url,xo:!1});d.sort(function(f,g){return Number(g.ic)-Number(f.ic)});return d})}var uB,tB=new on(function(){uB=xB()},{Ad:10,Ce:0});function wB(a){return F("api/ts/chatmessages/media/delete/",{media_id:a.toString()}).then(function(b){return 200===b.status?(TA.j(a.toString()),Promise.resolve()):Promise.reject()}).catch(function(){return Promise.reject()})}
function XA(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];e=new FormData;e.append("from_username",a);e.append("message_id",b);d=l(d);for(var f=d.next();!f.done;f=d.next())e.append("media_id",f.value.toString());F("api/ts/chatmessages/media/opened/",e).then(function(g){return 204===g.status}).catch(function(){return!1})};function BB(a){a=void 0===a?!1:a;x.call(this,an());var b=this;this.$b=a;this.Vo=this.co=!1;this.lj=(new Fp("hpfilter1")).active||(new Fp("hpfilter2")).active||(new Fp("hpfilter3")).active;this.LH=function(){var c=document.querySelector("#id_show_location"),d=document.querySelectorAll(".subject"),e=document.querySelectorAll(".location");if(null!==c&&c.checked){if(c=document.querySelector(".followed_online_offline"),null===c||"offline"!==c.getAttribute("data-status"))d.forEach(function(f){f.style.height=(b.$b?15:16)+"px"}),e.forEach(function(f){f.style.display=""})}else d.forEach(function(f){f.style.height=(b.$b?30:32)+"px"}),e.forEach(function(f){f.style.display="none"});CB(b)};this.open=function(){b.ob();L("RoomsFilterOpened")};this.close=function(){b.Sa();L("RoomsFilterClosed")};this.toggle=function(){b.$a()?b.Sa():b.ob();L("AdvancedSearchOptionsClicked")};this.Xw=function(){var c=document.querySelectorAll(".advanced_search_region"),d=document.querySelector("#main");null!==d&&c.forEach(function(e){e.onclick=function(){b.ob();Ab().scrollTop>d.offsetTop&&(window.location.href="#main")}})};this.bH=function(){b.Vo=null!==b.Fl?b.Fl.checked:!1};this.pz=document.querySelector("#main .content");DB(this);EB(this);this.lj&&FB(this);GB(this);HB(this);this.Xw();IB(this);JB(this);KB(this);LB();MB();NB(this);this.LH();Iq(Jq(),this.LH);Iq(Jq(),this.Xw);this.co&&Tq(this.Vo);OB(this)}q(BB,x);function PB(a,b){a.onmouseover=function(){a.style.display="block"};a.onmouseout=function(){window.setTimeout(function(){a.matches(":hover")||b.matches(":hover")||(a.style.display="none")},75)};b.onmouseover=function(){a.style.display="block"};b.onmouseout=function(){window.setTimeout(function(){a.matches(":hover")||b.matches(":hover")||(a.style.display="none")},75)}}
function QB(a,b,c){c.style.cursor="default";c.style.opacity="0.5";b.style.cursor="default";var d=jp({content:Mk,hasHTML:"true",width:"auto",divotPosition:"0",divotLeftOrTop:"40px"});y(d,"disabledTooltipColor");J(d,{marginTop:"5px",marginLeft:"42px",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",boxShadow:"0px 0px 16px rgba(0,0,0,0.16)"});var e=d.querySelector(".divotTop"),f=d.querySelector(".divotBorder"),g=d.querySelector(".divotBackground");null!==e&&null!==f&&null!==g&&(J(e,{top:"-5px"}),J(f,{borderWidth:"4px"}),J(g,{borderWidth:"5px",top:"1px",left:"-1px"}));a.lj&&(d.style.left="-28px",d.style.width="171px");PB(d,c);b.readOnly=!0;b.onclick=function(){};return d}
function RB(a,b,c){c.style.cursor="default";c.style.opacity="0.5";b.style.cursor="default";var d=jp({content:$k,hasHTML:"true",width:"auto",divotPosition:"0",divotLeftOrTop:"40px"}),e=d.querySelector("a");null!==e&&(e.onclick=function(){L("SupporterPageOpened",{source:"AnimateRoomImagesTooltip"})});y(d,"disabledTooltipColor");J(d,{marginTop:"5px",marginLeft:"42px",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",boxShadow:"0px 0px 16px rgba(0,0,0,0.16)"});e=d.querySelector(".divotTop");var f=d.querySelector(".divotBorder"),g=d.querySelector(".divotBackground");null!==e&&null!==f&&null!==g&&(J(e,{top:"-5px"}),J(f,{borderWidth:"4px"}),J(g,{borderWidth:"5px",top:"1px",left:"-1px"}));a.lj&&(d.style.left="-28px",d.style.width="171px");PB(d,c);b.readOnly=!0;b.onclick=function(){};return d}
function FB(a){var b=document.querySelector("#filter_gender_form");null!==b&&(b.onchange=function(){SB(a,b)},b.querySelectorAll("input[type=checkbox]").forEach(function(c){B("change",c,function(){L("RoomsFilterGenderClicked",{gender:c.value,checked:c.checked})})}))}
function GB(a){var b=document.querySelector("#filter_location_form");null!==b&&(b.onchange=function(){SB(a,b)},b.querySelectorAll("input[type=checkbox]").forEach(function(c){B("change",c,function(){L("RoomsFilterRegionClicked",{region:c.value,checked:c.checked})})}))}
function HB(a){var b=document.querySelector("#filter_options_form");null!==b&&(b.onchange=function(){SB(a,b)},b.querySelectorAll("input[type=checkbox]").forEach(function(c){B("change",c,function(){for(var d=c.name.toLowerCase().split("_"),e=0;e<d.length;e+=1)d[e]=d[e].charAt(0).toUpperCase()+d[e].slice(1);L(d.join("")+"Clicked",{checked:c.checked})})}))}
function DB(a){var b=document.querySelector("#animate_thumbnails_form");a.Fl=document.querySelector("#id_animate_thumbnails");if(null!==b){if(null!==a.Fl){var c=a.Fl;c.disabled||(a.co=!0);a.Vo=a.Fl.checked;c.onchange=function(){a.co&&(SB(a,b),void 0!==document.setAnimateFollowedTab&&document.setAnimateFollowedTab(a.Vo))}}var d=b.querySelector("label[for='id_animate_thumbnails']");null!==d&&(d.onclick=function(){var e=d.querySelector("input");null!==e&&e instanceof HTMLInputElement&&L("AnimateRoomImagesClicked",{checked:e.checked})});a.co||null===a.Fl||null===d||(c=RB(a,a.Fl,d),b.appendChild(c))}}function CB(a){if(a.lj){var b=document.querySelector(".collapse-filters");document.querySelector(".expand-filters").onclick=a.open;b.onclick=a.close}else b=document.querySelector(".advanced_search_button"),null!==b&&(b.onclick=a.toggle)}
function TB(a){a.ob();var b=document.querySelector("label[for='id_enable_floatingplayer']");if(null!==b){var c=b.style.color;b.style.color="#ff6b00";a.lj&&window.setTimeout(function(){An(new Map([["advanced_options",""]]));b.scrollIntoView({behavior:"auto",block:"center",inline:"center"})},500);a.ID.onclick=function(){b.style.color=c}}}
function EB(a){var b=document.querySelector("#floatingplayer_options_form");if(null!==b){a.ID=b;window.location.search.includes("advanced_options")&&TB(a);var c=document.querySelector("#id_enable_floatingplayer");null!==c&&(c.onchange=function(){F(b.action,new FormData(a.ID)).then(function(){var d=c.checked;L("EnableFloatingPlayerOption",{isEnabled:d});d?void 0!==document.enableFloatingPlayer&&document.enableFloatingPlayer():void 0!==document.disableFloatingPlayer&&document.disableFloatingPlayer()}).catch(function(){})})}}
function SB(a,b){clearTimeout(a.hG);a.bH();var c=document.querySelectorAll(".searching-overlay");c.forEach(function(d){UB(d);d.style.display="block"});F(b.action,new FormData(b)).then(function(){a.co&&Tq(a.Vo);a.Xw();OB(a);Mq(Jq(),function(){c.forEach(function(d){UB(d)});clearTimeout(a.hG);a.hG=window.setTimeout(function(){c.forEach(function(d){d.style.display="none"})},300)})}).catch(function(){})}
function UB(a){var b=a.nextElementSibling;if(null!==b){if("discover_root"!==b.id){var c=b.querySelector(".list");null===c&&(c=b.lastElementChild);b=null===c?void 0:c}}else b=void 0;c=b;if(void 0!==c){var d=c.getBoundingClientRect().width;b=c.getBoundingClientRect().height;a.style.height=b+"px";a.style.left=c.offsetLeft+"px";a.style.top=c.offsetTop+"px";a.style.right=document.documentElement.clientWidth-c.offsetLeft-d+"px";a.style.lineHeight=b+"px";a=a.querySelector(".searching-overlay-spinner");null!==a&&(50>b?(a.classList.add("searching-overlay-spinner-very-small"),a.classList.remove("searching-overlay-spinner-small"),a.classList.remove("searching-overlay-spinner-medium")):50<=b&&200>b?(a.classList.remove("searching-overlay-spinner-very-small"),a.classList.add("searching-overlay-spinner-small"),a.classList.remove("searching-overlay-spinner-medium")):200<=b&&550>b?(a.classList.remove("searching-overlay-spinner-very-small"),a.classList.remove("searching-overlay-spinner-small"),a.classList.add("searching-overlay-spinner-medium")):(a.classList.remove("searching-overlay-spinner-very-small"),a.classList.remove("searching-overlay-spinner-small"),a.classList.remove("searching-overlay-spinner-medium")))}}
function JB(a){var b=document.querySelector("#filter_options_form"),c=document.querySelector("#id_enable_recommendations"),d=!1;if(null!==b){null!==c&&(c.onchange=function(){L("EnableRecommendationsOptionClicked",{isEnabled:c.checked})},c.disabled||(d=!0));var e=b.querySelector("label[for='id_enable_recommendations']");d||null===c||null===e||(a=QB(a,c,e),b.appendChild(a))}}
function IB(a){var b=document.querySelector("#refresh_cams_form");null!==b&&(b.onchange=function(){var c=b.querySelector("#id_refresh_frequency");if(null!==c){var d=parseInt(c.value);a.bH();F(b.action,new FormData(b)).then(function(){L("RefreshFrequencyChanged",{seconds:d});a.co&&Tq(a.Vo);Mq(Jq(),function(){clearTimeout(Gq);0!==d&&Lq(1E3*d)})}).catch(function(){})}})}
BB.prototype.ob=function(){this.$a()||(this.lj?(this.pz.classList.remove("collapsed"),mb()&&localStorage.setItem("homepageFiltersCollapsed","false")):this.element.classList.remove("collapsed"))};BB.prototype.Sa=function(){this.$a()&&(this.lj?(this.pz.classList.add("collapsed"),mb()&&localStorage.setItem("homepageFiltersCollapsed","true")):this.element.classList.add("collapsed"))};BB.prototype.$a=function(){return this.lj?!this.pz.classList.contains("collapsed"):!this.element.classList.contains("collapsed")};function OB(a){if(a.lj){a=VB("#filter_gender_form input[type=checkbox]:checked");var b=VB("#filter_gender_form input[type=checkbox]"),c=VB("#filter_location_form input[type=checkbox]:checked"),d=VB("#filter_location_form input[type=checkbox]");An(new Map([["g",a===b?"":a.replace("s","t")],["r",c===d?"":c]]))}}
function KB(a){var b=a.element.querySelector(".show-type");null!==b&&B("change",b,function(){L("RoomsFilterShowTypeChanged",{showType:b.options[b.selectedIndex].text.toLowerCase().split(" ")[0]});window.location.href=b.value})}function LB(){document.querySelectorAll("#hashtag_ticker a").forEach(function(a){B("click",a,function(){L("RoomsFilterTagsClicked",{tagName:a.textContent})})})}
function MB(){var a=document.querySelector(".search_input"),b=document.querySelector("#search_icon"),c=document.querySelector(".suggestionsDiv");if(null!==a&&null!==b&&null!==c){var d=function(){L("RoomsFilterSearchClicked",{keyword:a.value})};[b,c].forEach(function(e){B("click",e,function(){d()},!0)});[a,b,c].forEach(function(e){B("keydown",e,function(f){"Enter"!==f.key&&13!==f.keyCode||d()},!0)})}}
function NB(a){if(!a.$b){var b=W("img",{style:{position:"absolute",height:"12px",width:"14px",right:"16px",top:"13px",cursor:"pointer"},src:"https://static-assets.highwebmedia.com/tsdefaultassets/option_close.svg",onClick:a.toggle});a.element.appendChild(b)}}function VB(a){return Array.from(document.querySelectorAll(a)).filter(function(b){return null!==b.parentElement&&-1===b.parentElement.className.indexOf("transparentCheckbox")}).map(function(b){return b.value}).join(",")};var WB=new t("tipsInPast24HoursUpdate"),XB=new t("tokenBalanceUpdate");function YB(a){return new Promise(function(b,c){E("tipping/current_tokens/?room="+a).then(function(d){d=new N(d.responseText);var e={Lb:U(d,"token_balance")},f=P(d,"tip_options");if(void 0!==f){f=new N(f);f=fo(f,"tip_options");if(void 0!==f){f=new N(f);var g=f.getAsString("label"),h=eo(f,"options"),m=[];h=l(JSON.parse(h));for(var n=h.next();!n.done;n=h.next())n=new N(JSON.stringify(n.value)),m.push({label:n.getAsString("label")}),ho(n);g={label:g,options:m};ho(f);f=g}else f=void 0;e.Wj=f}ho(d);XB.j({Ja:e.Lb});b(e)}).catch(function(d){c(d.status)})})}var ZB=!1;function $B(a){return new Promise(function(b,c){ZB||(ZB=!0,F("tipping/send_tip/"+a.K+"/",{tip_amount:a.IH,message:a.message,source:a.source,tip_room_type:a.JH,tip_type:a.fn,video_mode:a.xf}).then(function(d){ZB=!1;d=new N(d.responseText);var e={success:T(d,"success")},f=P(d,"error",!1);void 0!==f?e.error=f:(e.Lb=U(d,"token_balance"),e.uf=U(d,"tipped_performer_last_24hrs"));ho(d);void 0!==e.Lb&&XB.j({Ja:e.Lb});b(e)}).catch(function(d){ZB=!1;c(d.status)}))})};var aC="";function bC(a){this.Xz(a);Em.current=this.context;this.fd();!0===Em.current.Ft&&void 0===Em.current.IM&&(a=new Fp("DrkSysStngsV2"),a.active&&(window.matchMedia("(prefers-color-scheme: dark)").matches?(a.sA(),Xa("sys_color_settings","darkmode",60)):Xa("sys_color_settings","lightmode",60)))}k=bC.prototype;k.Xz=function(a){var b,c;var d=a.logged_in_user;d=null!==d?{username:d.username,ii:d.gender,ri:d.is_supporter,Eq:d.is_staff,Lb:d.token_balance,we:d.user_uid,jM:d.signed_username,gI:d.animate_thumbnails,Gb:d.is_age_verified,nc:d.is_broadcasting,PM:d.total_followed,vg:d.online_followed}:void 0;var e=a.current_logo,f=a.no_ads,g=a.is_mobile;a:{var h=new N(a.push_service);var m={Uw:"undefined",flags:new Map};switch(P(h,"backend")){case "ably":m={Uw:Q(h,"backend"),restHost:P(h,"rest_host"),realtimeHost:P(h,"realtime_host"),fallbackHosts:Zn(h,"fallback_hosts"),flags:new Map};sy(m.flags,go(h,"flags"));h=m;break a}u("PushService parseContext failed: unrecognized backend or critical error in parse");h=m}this.context={jJ:e,PK:f,$b:g,Fa:d,lA:h,Ft:a.dark_mode_enabled,IM:a.theme_name,wP:a.chat_settings.max_pm_age,tK:a.JPEG_STREAM_URL,sK:a.JPEG_ROOM_IMAGE_URL,pG:null!==(b=a.pm_photos_enabled)&&void 0!==b?b:!1,aD:a.entrypoint_context_id,$p:!0===a.offline_room_chat_pm_enabled,$E:void 0,CC:a.bio_quarantine_phase,qI:a.bio_is_custom,UQ:null!==(c=a.use_mobile_redesign)&&void 0!==c?c:!1};mb()&&(b=window.localStorage.getItem("contextID"),window.localStorage.setItem("contextID",this.context.aD),this.context.$E=b===this.context.aD);aC=a.language_code};k.fd=function(){var a,b;BA();so=null!==(a=this.context.tK)&&void 0!==a?a:"https://cbjpeg.stream.highwebmedia.com/";to=null!==(b=this.context.sK)&&void 0!==b?b:"https://roomimg.stream.highwebmedia.com/";!0===this.context.pG&&(AB=!0);this.roomReload={addOnLoadHandler:Nq,loadRooms:Oq,scheduleRefresh:Pq,chatRoomListOnClick:Rq,startStreaming:Uq,stopStreaming:Vq,clearRefresh:Qq,setRoomAnimation:Tq};this.addPageAction=L;this.context.$b?(cC(this,!0),new BB(!0)):dC(this)};function dC(a){cC(a,!1);eC(a);fC(a);a.Ys();gC();a.nE();hC();iC();jC();kC();void 0===a.context.Fa&&("/auth/login/"!==window.location.pathname&&lC(),void 0!==Dn().join_overlay&&"/accounts/register/"!==window.location.pathname&&a.aB());mC();a.context.PK||nC();oC();ms(void 0===a.context.Fa);a.displayLoginOverlay=Zp;a.openFeedbackForm=function(b){dw.j({source:b})};a.showModal=Wq}k.aB=function(){gA();aA.j(void 0);var a;Zz.h(function(b){void 0===a&&(a=new $z);window.scrollTo(0,0);a.qg(b)})};function mC(){var a=new Jw;dw.h(function(b){var c=a.form;c.source.value=b.source;uw(c);void 0!==b.Qo&&a.form.Qo.qf(b.Qo);a.show()})}function lC(){for(var a=l(document.querySelectorAll("a.login-link")),b=a.next();!b.done;b=a.next())b.value.onclick=function(c){c.preventDefault();eq()}}k.nE=function(){B("popstate",window,function(a){void 0!==a.state&&null!==a.state&&location.reload()})};function cC(a,b){Nz(void 0!==a.context.Fa?a.context.Fa.username:"",void 0===b?!1:b,a.context.Ft)}
function eC(a){for(var b=l(document.querySelectorAll(".purchase_tokens a, a.purchase_tokens")),c=b.next();!c.done;c=b.next())c=c.value,void 0!==a.context.Fa?mx(c):c.onclick=function(d){Zp({});d.preventDefault()}}function nC(){for(var a=l(document.querySelectorAll(".remove_ads a")),b=a.next();!b.done;b=a.next())b.value.onclick=function(){L("HideAds_Click")}}
function oC(){if(window.hasOwnProperty("ReportingObserver")){var a=function(c){c=l(c);for(var d=c.next();!d.done;d=c.next())d=d.value,"intervention"===d.type&&L("AdIntervention",{report:JSON.stringify(d.body)})},b=new window.ReportingObserver(function(c){a(c)},{buffered:!0});b.observe();B("beforeunload",window,function(){var c=b.takeRecords();a(c)})}}
function fC(a){var b=document.getElementById("followed_anchor");if(null!==b&&b instanceof HTMLAnchorElement){b.href="#";var c=document.getElementById("followed_tab");new hA(null!==c&&((new Fp("hpfilter1")).active||(new Fp("hpfilter2")).active)?c:b,void 0===a.context.Fa,void 0!==a.context.Fa?a.context.Fa.username:"")}}
function iC(){var a=document.querySelector("#header");null!==a&&a instanceof HTMLElement&&new lA(a);a=document.querySelector(".footer-holder");null!==a&&a instanceof HTMLElement&&new kA(a)}
function kC(){function a(b){var c={};b=l(document.querySelectorAll(b+" input[type='checkbox']"));for(var d=b.next();!d.done;c={Qh:c.Qh,Bl:c.Bl},d=b.next())d=d.value,c.Qh=d,c.Bl=new Xr(16,c.Qh.checked),c.Bl.element.style.top="4px",c.Bl.Ir(function(e){return function(){e.Qh.click()}}(c)),d=d.parentNode,null!==d&&(d.insertBefore(c.Bl.element,c.Qh),c.Qh.style.display="none",c.Qh.disabled&&c.Bl.disable(),B("change",c.Qh,function(e){return function(){e.Qh.disabled||Wr(e.Bl,e.Qh.checked)}}(c)))}a("#filter_gender_form");a("#filter_location_form");a("#filter_options_form");a("#animate_thumbnails_form");a("#floatingplayer_options_form")}function hC(){var a;qA.h(function(b){void 0===a&&(a=new tA);a.qg(b)})}k.Ys=function(){var a,b=(a=void 0===a?!1:a)?"broadcasters":"room_list",c=document.querySelector("div.icon_not_following"),d=document.querySelector("div.icon_following");null===document.querySelector("#"+b)||null===c&&null===d||new vA(void 0===this.context.Fa,b,a)};function gC(){Pz();if((new Fp("TagSort")).active){var a=document.querySelector("#tag-table-container");null!==a&&new Uz(a)}}function jC(){var a;if(0<document.querySelectorAll(".tokencount[updatable-count]").length){var b=null===(a=Em.current.Fa)||void 0===a?void 0:a.we;void 0!==b&&(new nz(b)).Ib.h(function(c){XB.j(c);lx(c.Ja)})}}window.TS=bC;var pC=window.canAutoplay;function qC(){var a=new Ys;return new Promise(function(b){function c(f){var g=0;!0===f&&Np.removeListener(d);Bb()&&0!==e&&(g=window.performance.now()-e);f=Jb();void 0!==f&&10>f&&(a.send(!1,g),b(!1));if(void 0===pC)u("canAutoplay library is undefined. Resolving autoplay to true"),a.send(!0,g,Error("canAutoplay library is undefined. Resolving autoplay to true")),b(!0);else pC.video({inline:!0,muted:!0,timeout:1E3,baseUrl:"https://static-assets.highwebmedia.com/"}).then(function(h){a.send(h.result,g,h.error);b(h.result)})["catch"](function(h){a.send(!1,g,h);b(!1)})}function d(f){f&&c(!0)}var e=0;Op?c():(Bb()&&(e=window.performance.now()),Np.h(d))})};function rC(){return new Promise(function(a,b){E("api/broadcastvideocontext/").then(function(c){a(sC(c.responseText))}).catch(b)})}function sC(a){return new Promise(function(b,c){var d=new N(a);400<=U(d,"status",!1)?c("Bad response from server: "+a):(c={A:Q(d,"room"),Qz:Q(d,"originHost"),YK:Q(d,"originPassword"),ZK:Q(d,"originWSEndpoint")},b(c))})};var tC=new t("tryFullScreen");for(var uC=[],vC=0;256>vC;++vC)uC[vC]=(vC+256).toString(16).substr(1);var wC=[[640,360],[960,540],[1280,720]];function xC(a,b){void 0===b&&(b=200);a.forEach(function(c){c.stop()});return new Promise(function(c){window.setTimeout(function(){c()},b)})}var yC=new t("FirefoxPermanentPermissionError");function zC(){return new Promise(function(a,b){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(function(c){xC(c.getTracks(),void 0).then(function(){navigator.mediaDevices.enumerateDevices().then(function(d){d=Promise.all(d.map(function(f){if("videoinput"===f.kind){var g=new Map;wC.forEach(function(h){var m=h[0];h=h[1];if(Fb()&&Eb()&&960===m&&540===h)m=void 0;else{var n=m/h;m={id:m+"x"+h,An:f.deviceId,label:m+" x "+h,width:m,height:h,ratio:n,le:1.4<n,pK:720<=h}}void 0!==m&&g.set(m.id,m)});return Promise.resolve({device:f,resolutions:g})}return Promise.resolve({device:f})}));var e={wz:new Map,Ep:new Map};d.then(function(f){var g=!0;f.forEach(function(h){var m=h.device;""!==m.label&&(g=!1);"audioinput"===m.kind?e.wz.set(m.deviceId,{id:m.deviceId,label:m.label}):"videoinput"===m.kind&&void 0!==h.resolutions&&0<h.resolutions.size&&e.Ep.set(m.deviceId,{id:m.deviceId,label:m.label,KG:h.resolutions})});g?(yC.j(void 0),b(Error("We need PERMANENT permission to use your camera and microphone in order to proceed."))):a(e)}).catch(function(f){b(f)})}).catch(function(){})}).catch(function(){})}).catch(function(c){b(c)})})};var AC={v:[{name:"version",fa:/^(\d*)$/,ca:"%s"}],o:[{name:"origin",fa:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,ca:"%s %s %d %s IP%d %s",names:"username sessionId sessionVersion netType ipVer address".split(" ")}],s:[{name:"name",fa:/(.*)/,ca:"%s"}],i:[{name:"description",fa:/(.*)/,ca:"%s"}],u:[{name:"uri",fa:/(.*)/,ca:"%s"}],e:[{name:"email",fa:/(.*)/,ca:"%s"}],p:[{name:"phone",fa:/(.*)/,ca:"%s"}],z:[{name:"timezones",fa:/(.*)/,ca:"%s"}],r:[{name:"repeats",fa:/(.*)/,ca:"%s"}],t:[{name:"timing",fa:/^(\d*) (\d*)/,ca:"%d %d",names:["start","stop"]}],c:[{name:"connection",fa:/^IN IP(\d) (\S*)/,ca:"IN IP%d %s",names:["version","ip"]}],b:[{push:"bandwidth",fa:/^(TIAS|AS|CT|RR|RS):(\d*)/,ca:"%s:%s",names:["type","limit"]}],m:[{fa:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,ca:"%s %d %s %s",names:["type","port","protocol","payloads"]}],a:[{push:"rtp",fa:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],ca:function(a){return void 0!==a.encoding?"rtpmap:%d %s/%s/%s":void 0!==a.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",fa:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],ca:"fmtp:%d %s"},{name:"control",fa:/^control:(.*)/,ca:"control:%s"},{name:"rtcp",fa:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],ca:function(a){return void 0!==a.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",fa:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],ca:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",fa:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],ca:function(a){return void 0!==a.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",fa:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],ca:function(a){return"extmap:%d"+(void 0!==a.direction?"/%s":"%v")+(void 0!==a["encrypt-uri"]?" %s":"%v")+" %s"+(void 0!==a.config?" %s":"")}},{name:"extmapAllowMixed",fa:/^(extmap-allow-mixed)/,ca:"%s"},{push:"crypto",fa:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],ca:function(a){return void 0!==a.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",fa:/^setup:(\w*)/,ca:"setup:%s"},{name:"connectionType",fa:/^connection:(new|existing)/,ca:"connection:%s"},{name:"mid",fa:/^mid:([^\s]*)/,ca:"mid:%s"},{name:"msid",fa:/^msid:(.*)/,ca:"msid:%s"},{name:"ptime",fa:/^ptime:(\d*)/,ca:"ptime:%d"},{name:"maxptime",fa:/^maxptime:(\d*)/,ca:"maxptime:%d"},{name:"direction",fa:/^(sendrecv|recvonly|sendonly|inactive)/,ca:"%s"},{name:"icelite",fa:/^(ice-lite)/,ca:"%s"},{name:"iceUfrag",fa:/^ice-ufrag:(\S*)/,ca:"ice-ufrag:%s"},{name:"icePwd",fa:/^ice-pwd:(\S*)/,ca:"ice-pwd:%s"},{name:"fingerprint",fa:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],ca:"fingerprint:%s %s"},{push:"candidates",fa:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:"foundation component transport priority ip port type raddr rport tcptype generation network-id network-cost".split(" "),ca:function(a){var b="candidate:%s %d %s %d %s %d typ %s"+(void 0!==a.raddr?" raddr %s rport %d":"%v%v");b+=void 0!==a.tcptype?" tcptype %s":"%v";void 0!==a.generation&&(b+=" generation %d");b+=void 0!==a["network-id"]?" network-id %d":"%v";return b+=void 0!==a["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",fa:/^(end-of-candidates)/,ca:"%s"},{name:"remoteCandidates",fa:/^remote-candidates:(.*)/,ca:"remote-candidates:%s"},{name:"iceOptions",fa:/^ice-options:(\S*)/,ca:"ice-options:%s"},{push:"ssrcs",fa:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],ca:function(a){var b="ssrc:%d";void 0!==a.attribute&&(b+=" %s",void 0!==a.value&&(b+=":%s"));return b}},{push:"ssrcGroups",fa:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],ca:"ssrc-group:%s %s"},{name:"msidSemantic",fa:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],ca:"msid-semantic: %s %s"},{push:"groups",fa:/^group:(\w*) (.*)/,names:["type","mids"],ca:"group:%s %s"},{name:"rtcpMux",fa:/^(rtcp-mux)/,ca:"%s"},{name:"rtcpRsize",fa:/^(rtcp-rsize)/,ca:"%s"},{name:"sctpmap",fa:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],ca:function(a){return void 0!==a.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",fa:/^x-google-flag:([^\s]*)/,ca:"x-google-flag:%s"},{push:"rids",fa:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],ca:function(a){return void 0!==a.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",fa:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],ca:function(a){return"imageattr:%s %s %s"+(a.dir2?" %s %s":"")}},{name:"simulcast",fa:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~,]+))?$"),names:["dir1","list1","dir2","list2"],ca:function(a){return"simulcast:%s %s"+
(a.dir2?" %s %s":"")}},{name:"simulcast_03",fa:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],ca:"simulcast: %s"},{name:"framerate",fa:/^framerate:(\d+(?:$|\.\d+))/,ca:"framerate:%s"},{name:"sourceFilter",fa:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],ca:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",fa:/^(bundle-only)/,ca:"%s"},{name:"label",fa:/^label:(.+)/,ca:"label:%s"},{name:"sctpPort",fa:/^sctp-port:(\d+)$/,ca:"sctp-port:%s"},{name:"maxMessageSize",fa:/^max-message-size:(\d+)$/,ca:"max-message-size:%s"},{name:"keywords",fa:/^keywds:(.+)$/,ca:"keywds:%s"},{name:"content",fa:/^content:(.+)/,ca:"content:%s"},{name:"bfcpFloorCtrl",fa:/^floorctrl:(c-only|s-only|c-s)/,ca:"floorctrl:%s"},{name:"bfcpConfId",fa:/^confid:(\d+)/,ca:"confid:%s"},{name:"bfcpUserId",fa:/^userid:(\d+)/,ca:"userid:%s"},{name:"bfcpFloorId",fa:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],ca:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"],fa:/(.*)/,ca:"%s"}]},BC=/(\r\n|\r|\n)/,CC=/%[sdv%]/g,DC=RegExp.prototype.test.bind(/^([a-z])=(.*)/);function EC(a){var b=1,c=arguments,d=c.length;return a.replace(CC,function(e){if(b>=d)return e;var f=c[b];b+=1;switch(e){case "%%":return"%";case "%s":return String(f);case "%d":return String(Number(f))}return""})}
function FC(a,b,c){var d=b.ca;"function"===typeof b.ca&&(d=c,void 0===b.push&&void 0!==b.name&&(d=c[b.name]),d=b.ca(d));a=[a+"="+d];if(void 0!==b.names)for(d=0;d<b.names.length;d+=1){var e=b.names[d];void 0!==b.name?a.push(c[b.name][e]):a.push(c[b.names[d]])}else void 0!==b.name&&a.push(c[b.name]);return EC.apply(void 0,a)}function GC(a){return String(Number(a))===a?Number(a):a}var HC="vosiuepcbtrza".split(""),IC=["i","c","b","a"];function JC(a){var b;void 0===b&&(b={$K:HC,kK:IC});void 0===a.version&&(a.version=0);void 0===a.name&&(a.name=" ");a.media.forEach(function(d){void 0===d.bL&&(d.bL="")});var c=[];b.$K.forEach(function(d){AC[d].forEach(function(e){void 0!==e.name&&e.name in a&&void 0!==a[e.name]?c.push(FC(d,e,a)):void 0!==e.push&&e.push in a&&void 0!==a[e.push]&&a[e.push].forEach(function(f){c.push(FC(d,e,f))})})});a.media.forEach(function(d){c.push(FC("m",AC.m[0],d));void 0!==b&&b.kK.forEach(function(e){AC[e].forEach(function(f){void 0!==f.name&&f.name in d&&void 0!==d[f.name]?c.push(FC(e,f,d)):void 0!==f.push&&f.push in d&&void 0!==d[f.push]&&d[f.push].forEach(function(g){c.push(FC(e,f,g))})})})});return c.join("\r\n")+"\r\n"}
function KC(a){var b={},c=[];var d=b;a.split(BC).filter(DC).forEach(function(e){var f=e[0],g=e.slice(2);"m"===f&&(c.push({rQ:[],qO:[]}),d=c[c.length-1]);void 0!==AC[f]&&AC[f].some(function(h){if(h.fa.test(g)){var m=d;void 0!==h.push&&void 0===m[h.push]?m[h.push]=[]:void 0!==h.name&&void 0!==h.names&&void 0===m[h.name]&&(m[h.name]={});var n={};void 0===h.push&&(n=void 0!==h.name&&void 0!==h.names?m[h.name]:m);var p=g.match(h.fa),v=n,A=h.names,D=h.name;if(null!==p)if(void 0!==D&&void 0===A)v[D]=GC(p[1]);else if(void 0!==A)for(D=0;D<A.length;D+=1)D+1<p.length&&(v[A[D]]=GC(p[D+1]));void 0!==h.push&&m[h.push].push(n);return!0}return!1})});b.media=c;return b};var LC=["H264","VP8","VP9"];function MC(a){this.sdp=KC(a);a=Dn()["video-bitrate"];void 0!==a&&(NC(this,parseInt(a)),this.ZM=!0);a=Dn()["video-codecs"];if(void 0!==a){a=a.split(",");var b,c=Dn()["video-profiles"];0<a.length&&void 0!==c&&(b=c.split(","));OC(this,a,b);this.$M=!0}}MC.prototype.write=function(){return JC(this.sdp)};function NC(a,b){if(!a.ZM){var c=PC(b);a.sdp.media.forEach(function(d){"video"===d.type&&QC(c,d)});return c}}
function OC(a,b,c){a.$M||a.sdp.media.forEach(function(d){"video"===d.type&&RC(a,b,d,c)})}function PC(a){var b=1500;void 0!==a&&(360>=a?b=800:540<a&&(b=3E3));return b}function QC(a,b){var c=[];SC(LC,b).forEach(function(d){c.push({payload:d,config:"x-google-min-bitrate="+a});c.push({payload:d,config:"x-google-max-bitrate="+a})});b.fmtp=b.fmtp.concat(c)}
function RC(a,b,c,d){var e=SC(LC,c),f=SC(b,c,d);c.rtp.filter(function(g){return e.some(function(h){return h===g.payload})&&!f.some(function(h){return h===g.payload})}).map(function(g){return g.payload}).forEach(function(g){TC(a,g,c)})}
function SC(a,b,c){var d,e=b.rtp.filter(function(g){var h=a.some(function(m){return m.toUpperCase()===g.codec.toUpperCase()});h&&"VP8"===g.codec.toUpperCase()&&(d=g.payload);return h}).map(function(g){return g.payload});if(void 0!==c){var f=["profile-level-id=","profile-id="];b=b.fmtp.filter(function(g){if(e.some(function(m){return m===g.payload})){var h=!1;g.config.split(";").forEach(function(m){f.forEach(function(n){if(m.startsWith(n)){var p=m.split(n)[1].toUpperCase();c.some(function(v){return v.toUpperCase()===p})&&(h=!0)}})});return h}return!1}).map(function(g){return g.payload});void 0!==d&&e.some(function(g){return g===d})&&b.unshift(d);e=b}return e}
function TC(a,b,c){var d=c.payloads.split(" ");d=d.filter(function(e){return parseInt(e)!==b});c.payloads=d.join(" ");c.rtp=c.rtp.filter(function(e){return e.payload!==b});d=c.rtcpFb;void 0!==d&&(c.rtcpFb=d.filter(function(e){return e.payload!==b}));c.fmtp=c.fmtp.filter(function(e){return e.payload!==b});c.fmtp.filter(function(e){e=e.config;return e.startsWith("apt=")&&parseInt(e.split("apt=")[1])===b?!0:!1}).map(function(e){return e.payload}).forEach(function(e){TC(a,e,c)})};function UC(a){var b=void 0;void 0===a||"number"===typeof a?b=a:void 0!==a.exact?b=a.exact:void 0!==a.ideal&&(b=a.ideal);return b}function VC(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.fatal=!0}q(VC,Error);function WC(a,b){this.Du=this.gz=0;this.DC=!1;this.qM={applicationName:"live-origin",streamName:"stream",sessionId:"[empty]"};this.C=a;this.video=b;this.source="desktop";a=new Uint8Array(16);window.crypto.getRandomValues(a);a[6]=a[6]&15|64;a[8]=a[8]&63|128;b=0;this.Ig=[uC[a[b++]],uC[a[b++]],uC[a[b++]],uC[a[b++]],"-",uC[a[b++]],uC[a[b++]],"-",uC[a[b++]],uC[a[b++]],"-",uC[a[b++]],uC[a[b++]],"-",uC[a[b++]],uC[a[b++]],uC[a[b++]],uC[a[b++]],uC[a[b++]],uC[a[b++]]].join("");this.Du=Date.now();this.Gi=!1}
k=WC.prototype;k.Kr=function(a){var b=this;this.Rb=a;return new Promise(function(c,d){"object"!==typeof navigator||"object"!==typeof navigator.mediaDevices||"function"!==typeof navigator.mediaDevices.getUserMedia?d(Error("Your browser doesn't support broadcasting. Recent versions of Safari, Firefox, or Chrome are recommended.")):navigator.mediaDevices.getUserMedia(a).then(function(e){b.stream=e;var f=e.getVideoTracks();if(0===f.length||void 0===f[0])d(Error("We can't find any cameras, please ensure you have given permission to use your camera."));else{b.Qj=f[0].getSettings();if(void 0!==b.Qj.width&&void 0!==b.Qj.height){var g=b.Qj.width;f=b.Qj.height;if(void 0!==a.video){var h=void 0;var m=void 0;var n=a.video;void 0!==n&&(h=UC(n.width),m=UC(n.height));n=m;if(void 0!==h&&h!==g||void 0!==n&&n!==f)m={WebRTCHandlerError:"Stream resolution different from constraint resolution"},void 0!==h&&(h=a.video.width,"object"===typeof h&&(h=JSON.stringify(h)),m.WebRTCHandlerConstraintWidth=h,m.WebRTCHandlerStreamWidth=g),void 0!==n&&(g=a.video.height,"object"===typeof g&&(g=JSON.stringify(g)),m.WebRTCHandlerConstraintHeight=g,m.WebRTCHandlerStreamHeight=f),L("WebRTCHandlerSetup",m)}}JSON.stringify(a);b.video.srcObject=e;c(e)}}).catch(function(e){var f=e.message;if("ConstraintNotSatisfiedError"===e.name)f="The resolution is not supported by your device.";else if("OverconstrainedError"===e.name)f="Your device does not support the minimum resolution.";else if("PermissionDeniedError"===e.name||"NotAllowedError"===e.name)f="We need permission to use your camera and microphone in order to proceed.";else if(""===f||null===f)f="An unknown error has occurred. We cannot enable your camera or microphone.";f=Error(f);f.name=e.name;d(f)})})};k.start=function(){var a=this;return new Promise(function(b,c){a.Gi=!0;var d=!1;if(void 0===a.stream)a.close(),c(new VC("Unable to get video from camera. Try refreshing the page and make sure you allow video/audio if any prompts come up."));else try{void 0===a.qw&&(a.closed=!1,a.qw=window.setInterval(function(){XC(a)},1E3)),YC(a),void 0===a.jc?c(Error("Unable to connect to peer")):(a.jc.oniceconnectionstatechange=function(){if(void 0!==a.jc&&!d){if("connected"===a.jc.iceConnectionState||"completed"===a.jc.iceConnectionState)d=!0,L("WebRTCHandlerConnected",{WebRTCHandlerSource:a.source}),ZC.j(a.Ig),b();"failed"===a.jc.iceConnectionState&&(d=!0,c(Error("WebRTC failed")))}},$C(a,a.C,c))}catch(e){c(e)}})};k.stop=function(a){var b=this,c=!0===a;return new Promise(function(d){function e(){c||(b.Gi=!1,aD.j(b.Ig));d(b.Ig)}c||b.close();if(void 0!==b.Zd){if(b.Zd.readyState!==WebSocket.CLOSING&&b.Zd.readyState!==WebSocket.CLOSED)try{b.Zd.close()}catch(f){w("could not close websocket connection "+f)}b.Zd=void 0}if(void 0!==b.jc){try{b.jc.close()}catch(f){w("could not close peer connection "+f)}b.jc=void 0}b.gz=Date.now();c||void 0===b.stream?e():xC(b.stream.getTracks()).then(function(){b.stream=void 0;e()}).catch(function(){})})};k.Hr=function(a){void 0===this.stream?w("no stream"):0<this.stream.getAudioTracks().length&&(this.stream.getAudioTracks()[0].enabled=!a)};k.reset=function(){var a=this;return new Promise(function(b,c){var d=a.Gi;a.stop().then(function(){void 0!==a.Rb?a.Kr(a.Rb).then(function(){d?a.start().then(function(){b()}).catch(function(e){c(e)}):b()}).catch(function(e){c(e)}):b()}).catch(function(e){c(e)})})};k.close=function(){this.closed=!0;void 0!==this.qw&&(clearInterval(this.qw),this.qw=void 0)};function XC(a){if(!0===a.closed)a.stop();else{var b=Date.now();if(a.Du<b-1E4){a.Du=b;if(void 0!==bD){a.stop();return}L("WebRTCHandlerRestart");a.stop(!0).then(function(){E("api/switch_origin/?current_origin="+a.C.Qz).then(function(c){a.C.Qz=c.responseText;a.start().catch(function(d){w("Could not restart stream: "+d.message)})}).catch(function(c){w("Could not get new origin: "+c.message)})}).catch(function(){})}b=a.pM;void 0===a.Zd&&(b={status:"connecting"});void 0!==b&&cD.j({Ig:a.Ig,data:b})}}
function YC(a){void 0===a.stream?w("no stream"):(void 0!==a.jc&&(w("peerConnection already open"),a.jc.close(),a.jc=void 0),a.jc=new RTCPeerConnection({iceServers:[]}),a.jc.onicecandidate=function(){},0<a.stream.getAudioTracks().length&&a.jc.addTrack(a.stream.getAudioTracks()[0],a.stream),a.jc.addTrack(a.stream.getVideoTracks()[0],a.stream),a.jc.createOffer().then(function(b){dD(a,b.sdp)}).catch(function(){}))}
function $C(a,b,c){void 0!==a.Zd&&(w("WebSocket already open"),a.Zd.close(),a.Zd=void 0);var d=new WebSocket("wss://"+b.Qz+b.ZK);d.binaryType="arraybuffer";d.onopen=function(){a.Zd=d;d.send(JSON.stringify({method:"connect",username:b.A,password:b.YK}))};d.onerror=function(e){w("webrtc websocket error",{error:e});c(Error("WebSocket error: "+JSON.stringify(e)))};d.onclose=function(){a.Zd=void 0};d.onmessage=function(e){try{var f=JSON.parse(e.data)}catch(g){return}switch(f.method){case "auth_valid":a.createOffer(c);break;case "stream_info":a.pM=f;a.Du=Date.now();break;case "already_publishing":a.gz=Date.now();V("You have started publishing from a new location, shutting down stream",function(){tC.j("")});a.stop();break;case "shutdown":a.gz<Date.now()-1E3&&V("Error Publishing Stream",function(){tC.j("")});a.stop();break;case "origin_info":break;default:switch(f.command){case "sendOffer":eD(a,f,c);break;default:u("Unhandled",f)}}}}
k.createOffer=function(a){var b=this;void 0===this.Zd?a(Error("ws undefined")):void 0===this.stream?a(Error("stream undefined")):(this.Zd.send(JSON.stringify({method:"publish",width:this.Qj.width,height:this.Qj.height,frameRate:this.Qj.frameRate,source:this.source})),void 0===this.jc?w("peerConnection not open"):this.jc.createOffer().then(function(c){void 0===b.jc?w("peerConnection not open"):(c.sdp=dD(b,c.sdp),fD("gotDescription: "+JSON.stringify({sdp:c})+" "+b.jc),b.jc.setLocalDescription(c).then(function(){void 0===b.Zd?a(Error("ws undefined")):b.Zd.send(JSON.stringify({direction:"publish",command:"sendOffer",streamInfo:b.qM,sdp:c}))}).catch(function(d){a(d)}))}).catch(function(c){a(c)}))};function eD(a,b,c){if(void 0===a.jc)w("peerConnection not open");else{var d=b.sdp;void 0!==d&&null!==d&&a.jc.setRemoteDescription(d).catch(function(e){c(e)});b=b.iceCandidates;if(void 0!==b)for(b=l(b),d=b.next();!d.done;d=b.next())a.jc.addIceCandidate(new RTCIceCandidate(d.value)).catch(function(e){c(e)})}}
function dD(a,b){if(void 0===b)return w("sdpStr undefined"),"";b=new MC(b);Fb()?OC(b,["H264"],["42e01f"]):OC(b,["H264","VP8"],["42e01f"]);var c=NC(b,a.Qj.height);void 0===c||a.DC||(L("WebRTCHandlerSDPUpdate",{WebRTCHandlerVideoBitrate:c}),a.DC=!0);return b=b.write()}var cD=new t("streamStatusUpdate"),ZC=new t("streamStart"),aD=new t("streamStop");function gD(a,b,c){a=void 0===a?!0:a;b=void 0===b?function(){}:b;c=void 0===c?function(){}:c;rc.call(this);J(this.element,{position:"fixed",overflow:"hidden",height:"auto",maxWidth:"1000px",minWidth:"450px",width:"90%",top:"50%",transform:"translateY(-50%)",left:"0px",right:"0px",margin:"auto",padding:"20px",borderWidth:"2px",borderStyle:"solid",borderRadius:"20px"});y(this.element,"broadcastTermsModal");this.da.style.background="";a?(y(this.da,"blackOverlay"),this.Sz=!0):(y(this.da,"transparentOverlay"),this.Mc.h(c));this.element.appendChild(this.Sl());this.element.appendChild(hD(this));this.element.appendChild(this.ux(b))}q(gD,rc);gD.prototype.Sl=function(){return W("div",{colorClass:"header"},W("h3",{style:{textAlign:"center"}},"WARNING:  THIS SITE HAS A ZERO TOLERANCE POLICY ON UNDERAGE BROADCASTING."))};function hD(a){var b={textDecoration:"underline",fontWeight:"bold"};a.body=W("div",{style:{height:"200px",overflow:"auto",padding:"0 15px 0 10px",borderWidth:"1px",borderStyle:"solid",margin:"0 auto",textAlign:"left"},colorClass:"body"},W("p",null,"The Chaturbate service is for use by adults only.  By clicking the link below, you are affirming your representation and warranty to us that:"),W("ol",null,W("li",null,'You are at least 18 years old or the age of majority in your jurisdiction, whichever is older (the "Age of Majority");'),W("li",null,"Anyone appearing on camera with you has also reached the Age of Majority;"),W("li",null,"At no time will anyone who has not reached the Age of Majority be present while you are using the Chaturbate service;"),W("li",null,"You will not permit anyone who has not reached the Age of Majority to use the Chaturbate service; and"),W("li",null,"You will immediately report by email to ",W("a",{href:"mailto:support@chaturbate.com"},"support@chaturbate.com")," any and all instances you become aware of wherein an individual has used the Chaturbate service without first reaching the Age of Majority.")),W("p",null,"If we suspect, in our sole discretion, that you are using the Chaturbate service without having complied in every respect with the foregoing statements, your account ",W("span",{style:b},"will")," be terminated immediately, and we ",W("span",{style:b},"will")," report your conduct to law enforcement."));return a.body}
gD.prototype.ux=function(a){var b=this;return W("div",{style:{textAlign:"center",color:"#222"}},W("a",{style:{width:"200px",height:"30px",lineHeight:"30px",fontWeight:"bold",margin:"10px 5px 0px 5px",borderWidth:"1px",borderStyle:"solid",display:"inline-block",textAlign:"center",cursor:"pointer"},colorClass:"acceptLink",ref:function(c){b.kN=c},onClick:function(c){c.stopPropagation();b.D();Xa("broadcast_terms","1",7);a()}},"I AGREE"))};function iD(){this.algorithm=2;this.level=0}function jD(a,b){var c=b.reduce(function(d,e){return d+e*e});a.level=Math.sqrt(c/b.length)}function kD(a,b){var c=Number.MIN_SAFE_INTEGER;b.map(function(d){d>c&&(c=d);return d});0===b.length||0>c?c=0:1<c?c=1:a.level=c}
iD.prototype.connect=function(a){var b=this;this.level=0;qb()&&(this.context="webkitAudioContext"in window?new webkitAudioContext:new AudioContext,this.Dv=this.context.createScriptProcessor(2048,1,1),this.BF=this.context.createMediaStreamSource(a),this.BF.connect(this.Dv),this.Dv.connect(this.context.destination),this.Dv.onaudioprocess=function(c){c=c.inputBuffer.getChannelData(0);1===b.algorithm?jD(b,c):2===b.algorithm?kD(b,c):w("invalid algorithm choice",b.algorithm)})};iD.prototype.stop=function(){return qb()?(this.BF.disconnect(),this.Dv.disconnect(),this.context.close()):Promise.resolve()};var lD=new t("privateJoinInitiated");function mD(a){var b="tipping/private_show_tokens_per_minute/"+a+"/";return new Promise(function(c,d){E(b).then(function(e){e=new N(e.responseText);c({CF:S(e,"private_show_minimum_minutes"),uG:U(e,"price"),CG:T(e,"recordings_allowed"),eI:T(e,"allowed",!0,!1)});ho(e)}).catch(function(e){d(e)})})}
function nD(a){lD.j(void 0);Hr(gi)||(L("RequestPrivateShow"),mD(a.A()).then(function(b){if(b.eI){var c=Rc(a.A(),b.uG,b.CF,b.CG);oo(c,function(){oD(a,b.uG,b.CF,b.CG).then(function(d){""!==d&&V(d)}).catch(function(d){"privatewatching"!==a.status&&(V(Wh),w("Error entering private show: "+d))});L("StartPrivateShow")})}else V(fi)}).catch(function(){}))}
function pD(a){lD.j(void 0);if(!Hr(hi)){L("RequestSpyShow");var b="tipping/spy_on_private_show_tokens_per_minute/"+a.A()+"/";E(b).then(function(c){var d=Number(c.responseText);isNaN(d)?w("isNaN on "+c.responseText):0===d?V(ii):oo(H(G("Spy on private show for (%(price)s tokens per minute)"),{price:d},!0),function(){qD(a).then(function(e){""!==e&&V(e)}).catch(function(e){"privatespying"!==a.status&&(V(Xh),w("Error entering spy show: "+e))});L("StartSpyShow")})}).catch(function(){})}}
function rD(a,b){oo(Zh,function(){L("LeavePrivateOrSpyShow");Fu(a).then(function(c){void 0!==b&&b();""!==c&&V(c)}).catch(function(){})},function(){void 0!==b&&b()})}function sD(){F("tipping/private_show_approve/",{foo:"bar"}).then(function(){}).catch(function(){})}function tD(){F("tipping/private_show_decline/",{foo:"bar"}).then(function(){}).catch(function(){})}function uD(){F("tipping/return_from_away/",{foo:"bar"}).then(function(){}).catch(function(){})};var vD=new t("anyRTCBroadcastStartStop"),wD=new t("webRTCBroadcastStartStop"),xD=new t("flashBroadcastStartStop"),yD=new t("OBSBroadcastStartStop");function zD(a){vD.j(a)}wD.h(zD);xD.h(zD);yD.h(zD);var AD=["public","private","hidden","away","connecting"];function BD(a){var b=document.createElement("div");b.style.paddingLeft="10px";b.style.paddingTop="3px";b.style.fontSize="20px";b.textContent=a;return b}function CD(a){a=BD(a);a.style.paddingTop="10px";a.style.fontFamily="UbuntuRegular";a.style.fontSize="15px";return a}
function DD(){var a=document.createElement("select");y(a,"select");a.style.width="177px";a.style.height="20px";a.style.marginLeft="10px";a.style.marginTop="10px";a.style.fontFamily="UbuntuRegular";a.style.fontSize="12px";a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.borderRadius="4px";a.style.overflow="hidden";return a}
function ED(){var a=document.createElement("video");a.autoplay=!0;a.muted=!0;a.setAttribute("playsinline","");a.oncontextmenu=function(b){b.preventDefault()};return a}function FD(){this.ct=!1;this.rB=void 0}
FD.prototype.Kr=function(a,b,c){var d=this,e={video:{deviceId:{exact:c.An},width:{ideal:c.width}},frameRate:{min:24,max:30}};Kb()?e.aspectRatio=1.777777778:e.video.height={ideal:c.height};"we-only-need-a-silent-mic"!==c.Mq&&(e.audio={deviceId:{exact:c.Mq}},e.audio.advanced=[{autoGainControl:!0},{noiseSuppression:!0}],Cb()&&(e.audio.advanced.push({CO:!0}),e.audio.advanced.push({DO:!0}),e.audio.advanced.push({EO:!0})));this.Ab=new WC(b,a);this.Ig=this.Ab.Ig;return new Promise(function(f,g){void 0!==d.Ab&&d.Ab.Kr(e).then(function(h){d.stream=h;void 0!==d.Ab&&d.Ab.Hr(c.muted);f()}).catch(function(h){g(h)})})};FD.prototype.stop=function(){var a=this;void 0===this.rB&&(this.rB=new Promise(function(b){function c(){a.Ab=void 0;a.stream=void 0;a.ct=!1;b()}void 0!==a.Ab?a.Ab.stop().then(function(d){a.Ig===d&&c()}).catch(function(){}):c()}));return this.rB};FD.prototype.start=function(){var a=this;this.ct=!1;if(void 0!==this.Ab){if(tb&&!Mw(this.Ab.Qj.facingMode)){var b=oj;Lw()&&(b=pj);return Promise.reject(Error(b))}return new Promise(function(c,d){if(void 0!==a.Ab){var e=!1,f=function(h){void 0!==h&&h!==a.Ig||!1!==e||(e=a.ct=!0,ZC.removeListener(g),c())},g=function(h){f(h)};ZC.h(g);a.Ab.start().then(function(){f()}).catch(function(h){!0===h.fatal&&(ZC.removeListener(g),d(h))})}})}return Promise.resolve()};FD.prototype.Hr=function(a){return void 0!==this.Ab&&void 0!==this.stream?(this.Ab.Hr(a),!0):!1};function GD(a,b,c){x.call(this);this.videoWidth=268;this.C=a;this.config=c;this.Rb=b;this.gD();this.BE=HD(this)}q(GD,x);k=GD.prototype;k.start=function(){function a(){void 0!==b.xb&&(hz(function(){b.Sr.disabled=!1}),b.video.style.height=Math.floor(b.videoWidth/b.RH)+"px",ID(b))}var b=this;this.stop().then(function(){b.xb=new FD;b.xb.Kr(b.video,b.C,b.Rb).then(a).catch(function(c){Cb()&&Gb()&&"Could not start video source"===c.message?a():V(Ej+":\n"+c.message)})}).catch(function(){})};k.stop=function(){var a=this;this.Sr.disabled=!0;return JD(this).then(function(){return void 0!==a.xb?a.xb.stop():Promise.resolve()})};function JD(a){return new Promise(function(b){void 0!==a.vw&&(a.vw.style.width="0%");void 0!==a.lp?a.lp.stop().then(function(){clearInterval(a.eN);a.lp=void 0;b()}).catch(function(){}):b()})}function ID(a){JD(a).then(function(){qb()&&void 0!==a.xb&&void 0!==a.xb.stream&&0<a.xb.stream.getAudioTracks().length&&(a.lp=new iD,a.lp.connect(a.xb.stream),a.eN=window.setInterval(function(){void 0!==a.lp&&void 0!==a.vw&&(a.vw.style.width=100*a.lp.level+"%")}))}).catch(function(){})}
function KD(a,b){var c=a.vD.Ep.get(a.Rb.An);void 0!==c&&(b=c.KG.get(b.value),void 0!==b&&(a.Rb.width=b.width,a.Rb.height=b.height,a.RH=b.ratio,void 0!==a.AE&&(a.AE.style.visibility=b.pK?"visible":"hidden"),a.start()))}
function LD(a){var b=a.vD.Ep.get(a.Rb.An);if(void 0!==b){for(var c=a.Aj.options.length-1;0<=c;--c)a.Aj.removeChild(a.Aj.options[c]);var d=Va("selected_res"),e=0,f=-1;b.KG.forEach(function(g){var h=document.createElement("option");h.label=g.label;h.text=g.label;h.value=g.id;a.Aj.add(h);h.value===d&&(f=e);e+=1});-1===f&&(f=Math.floor(a.Aj.options.length/2));b=a.Aj.options[f];b.selected=!0;KD(a,b)}}
function MD(a){var b=a.Dp.selectedIndex;0<=b&&(b=a.Dp.options[b],a.Rb.An=b.value,Xa("selected_cam",b.value,60),Xa("selected_res","",0),LD(a))}function ND(a){var b=a.Aj.selectedIndex;0<=b&&(b=a.Aj.options[b],Xa("selected_res",b.value,60),KD(a,b))}k.gD=function(){y(this.element,"previewPanel");this.element.style.height="382px";this.element.style.width="488px";this.element.style.transform="translate(5px, 18.5px)";this.element.appendChild(this.Op());this.element.appendChild(this.wt());this.element.appendChild(this.Nx())};k.Op=function(){var a=document.createElement("div");y(a,"welcomeTitle");a.style.width="100%";a.style.height="32px";var b=document.createElement("span");b.style.paddingLeft="10px";b.style.verticalAlign="sub";b.style.lineHeight="32px";b.textContent=Dj+", "+this.C.A;a.appendChild(b);return a};k.wt=function(){var a=document.createElement("div");a.style.width="198px";a.style.cssFloat="left";a.style.height="318px";a.style.padding="10px 0 10px 0";a.appendChild(this.dD());a.appendChild(this.fD());this.getUserMedia();return a};k.getUserMedia=function(){var a=this;zC().then(function(b){a.BE.style.display="none";a.vD=b;if(0<b.wz.size&&void 0!==a.Nq){var c=document.createElement("option");c.label=vj;c.text=c.label;c.value="we-only-need-a-silent-mic";a.Nq.add(c);var d=Va("selected_mic"),e=1,f=1;c.value===d&&(f=0);b.wz.forEach(function(n){var p=document.createElement("option");p.label=n.label;p.text=n.label;p.value=n.id;void 0!==a.Nq&&a.Nq.add(p);p.value===d&&(f=e);e+=1});c=a.Nq.options[f];c.selected=!0;a.Rb.Mq=c.value}if(0<b.Ep.size){var g=Va("selected_cam"),h=0,m=0;b.Ep.forEach(function(n){var p=document.createElement("option");p.label=n.label;p.text=n.label;p.value=n.id;a.Dp.add(p);p.value===g&&(m=h);h+=1});b=a.Dp.options[m];b.selected=!0;a.Rb.An=b.value;LD(a)}}).catch(function(b){var c="",d="";null!==b.message&&void 0!==b.message?c="OverconstrainedError"===b.name||"NotFoundError"===b.name||"DevicesNotFoundError"===b.name?""+dj:"PermissionDeniedError"===b.name||"NotAllowedError"===b.name?ej+"<br/><br/>"+gj:"NotReadableError"===b.name?b.message+". "+ij:b.message:null!==b.name&&void 0!==b.name&&(c=b.name);""!==c&&(d=". ");V(""+nj+d+c,function(){a.BE.style.display=""},!0)})};function HD(a){var b=document.createElement("div");y(b,"helpOverlay");b.style.fontSize="14px";b.style.fontFamily="UbuntuRegular";b.style.display="none";b.style.width="280px";b.style.fontWeight="bold";b.style.borderRadius="6px";b.style.textAlign="center";b.style.padding="8px";b.style.position="absolute";b.style.top="25%";b.style.left="50%";b.style.transform="translateX(-50%)";b.style.borderWidth="2px";b.style.borderStyle="solid";b.innerHTML=fj+"<br/><br/>"+gj;var c=document.createElement("button");c.style.display="none";c.style.margin="10px auto 0";c.style.cursor="pointer";c.innerText=hj;c.onclick=function(){a.getUserMedia()};b.appendChild(c);yC.h(function(){c.style.display="block"});a.element.appendChild(b);return b}
k.dD=function(){var a=this,b=document.createElement("div");y(b,"settingsPanel");b.style.width="100%";b.style.height="158px";b.style.marginBottom="5px";b.style.borderWidth="1px";b.style.borderStyle="solid";b.style.boxSizing="border-box";var c=BD(qj);c.style.lineHeight="28px";c.style.paddingTop="8px";b.appendChild(c);c=DD();c.style.marginTop="8px";c.style.height="32px";b.appendChild(c);var d=CD(rj);d.style.marginTop="16px";d.style.fontSize="12px";d.style.paddingTop="0";b.appendChild(d);d=DD();d.style.marginTop="5px";d.style.height="32px";b.appendChild(d);c.onchange=function(){MD(a)};d.onchange=function(){ND(a)};this.Dp=c;this.Aj=d;return b};k.fD=function(){function a(p){if(void 0!==b.xb){if(!b.xb.Hr(p))return!1}else return!1;p?Wr(m,!0):Wr(m,!1);Xa("broadcast_muted",String(p),60);return!0}var b=this,c=document.createElement("div");y(c,"settingsPanel");c.style.width="100%";c.style.height="162px";c.style.paddingTop="8px";c.style.borderWidth="1px";c.style.borderStyle="solid";c.style.boxSizing="border-box";var d=BD(sj);d.style.lineHeight="28px";c.appendChild(d);var e=DD();c.appendChild(e);e.style.marginTop="8px";e.style.height="32px";e.onchange=function(){var p=e.selectedIndex;0<=p&&(p=e.options[p],b.Rb.Mq=p.value,Xa("selected_mic",p.value,60),b.start())};if(d=qb()){var f=document.createElement("div"),g=CD(tj+":");g.style.paddingTop="16px";g.style.paddingLeft="8px";g.style.display="inline-block";for(var h=16;85<cn(h+"px UbuntuRegular")&&1<h;)--h;g.style.fontSize=h+"px";f.appendChild(g);g=document.createElement("div");y(g,"inputLevelBar");g.style.width="82px";g.style.margin="23px 8px 0 10px";g.style.borderWidth="1px";g.style.borderStyle="solid";g.style.display="inline-block";g.style.height="7px";h=document.createElement("div");h.style.width="78px";h.style.height="7px";h.style.width="0%";h.style.backgroundColor="lightgreen";this.vw=h;g.appendChild(h);f.appendChild(g);c.appendChild(f)}f=document.createElement("div");var m=new Xr(16,!1,function(){var p=!b.Rb.muted;a(p)&&(b.Rb.muted=p)});m.ua.value="Mute";m.element.id="mutebox";m.element.style.marginTop="8px";m.element.style.marginLeft="8px";m.disable();var n=window.setInterval(function(){a(b.Rb.muted)&&(m.enable(),clearInterval(n))},200);f.appendChild(m.element);g=document.createElement("label");g.textContent=uj;g.htmlFor="mutebox";g.style.paddingLeft="5px";g.style.transform="translateY(-4px)";g.style.fontFamily="UbuntuRegular";g.style.fontSize="14px";g.style.display="inline-block";g.style.lineHeight="22px";f.appendChild(g);d||(m.element.style.marginTop="100px",g.style.marginTop="70px");c.appendChild(f);this.Nq=e;return c};k.Nx=function(){var a=document.createElement("div");a.style.width="289px";a.style.cssFloat="left";a.style.height="318px";a.style.padding="10px 0 10px 0";var b=ED();b.style.width=this.videoWidth+"px";b.style.height="150px";b.style.marginLeft="10px";b.style.marginRight="10px";b.style.backgroundColor="black";a.appendChild(b);this.video=b;b=document.createElement("div");y(b,"hdLabel");b.style.fontSize="24px";b.style.fontFamily="UbuntuBold";b.style.marginLeft="10px";b.style.marginTop="10px";b.textContent="HD";b.style.visibility="hidden";this.AE=b;a.appendChild(b);a.appendChild(this.Jx());b=CD(zj+":");b.style.fontSize="11px";b.style.paddingLeft="0";b.style.paddingTop="5px";b.style.textAlign="center";a.appendChild(b);b=document.createElement("div");b.style.textAlign="center";var c=document.createElement("a");y(c,"hrefColor");c.style.fontSize="12px";c.text=Aj;c.style.cursor="pointer";b.appendChild(c);a.appendChild(b);c.onclick=function(){};return a};k.Jx=function(){var a=this,b=document.createElement("div");b.style.textAlign="center";var c=document.createElement("button");y(c,"button");c.style.marginTop="75px";c.style.width="268px";c.style.height="32px";c.style.borderStyle="solid";c.style.borderWidth="1px";c.style.borderRadius="4px";c.style.fontWeight="normal";c.style.fontSize="14px";c.textContent=wj;c.style.fontFamily="UbuntuBold";c.style.cursor="pointer";b.appendChild(c);c.disabled=!0;c.onclick=function(){a.Zv()};this.Sr=c;return b};k.Zv=function(){var a=this;gz().then(function(b){""!==b?(V(ld(b)),a.Sr.disabled=!0,hz(function(){a.Sr.disabled=!1})):a.stop().then(function(){a.config.ev()}).catch(function(){})}).catch(function(){})};function OD(a,b,c){GD.call(this,a,b,c)}q(OD,GD);k=OD.prototype;k.stop=function(){return GD.prototype.stop.call(this)};k.start=function(){GD.prototype.start.call(this)};k.gD=function(){this.element.style.width="402px";this.element.style.backgroundColor="transparent";this.element.style.position="relative";this.element.appendChild(this.Op());var a=this.element,b=a.appendChild,c=document.createElement("div");c.style.display="inline-block";c.style.position="relative";c.style.right="-1px";c.style.width=c.style.height="17px";c.style.cssFloat="right";c.style.cursor="pointer";c.onclick=this.config.xi;var d=document.createElement("img");d.src="https://static-assets.highwebmedia.com/tsdefaultassets/close-gray.svg";d.style.width=d.style.height="100%";c.appendChild(d);b.call(a,c);this.element.appendChild(this.Nx());a=this.element;b=a.appendChild;c=document.createElement("div");y(c,"infoPanel");c.style.marginTop="6px";c.style.padding="6px 5px 9px 4px";c.style.borderWidth="1px";c.style.borderStyle="solid";c.style.boxSizing="border-box";var e;d=l(this.config.iK);for(e=d.next();!e.done;e=d.next()){e=e.value;var f=document.createElement("div");f.style.fontFamily="UbuntuRegular";f.style.fontStyle="normal";f.style.fontWeight="bold";f.style.fontSize="12px";f.style.lineHeight="14px";f.style.textAlign="center";f.textContent=e;c.appendChild(f)}b.call(a,c);this.element.appendChild(this.wt());this.element.appendChild(this.Jx())};k.Op=function(){var a=document.createElement("div");a.style.width="200px";a.style.height="26px";a.style.display="inline-block";var b=document.createElement("div");y(b,"title");b.style.fontFamily="UbuntuBold";b.style.fontSize="18px";b.textContent=this.config.title;a.appendChild(b);return a};k.Nx=function(){this.videoWidth=400;var a=document.createElement("div");a.style.textAlign="center";var b=ED();b.style.width=this.videoWidth+"px";b.style.height=this.videoWidth/this.RH+"px";a.appendChild(b);this.video=b;return a};k.wt=function(){var a=GD.prototype.wt.call(this);a.style.width="100%";a.style.height="auto";a.style.padding="9px 0px 0px 0px";a.style.cssFloat="";return a};k.dD=function(){var a=this,b=document.createElement("div");y(b,"settingsPanel");b.style.width="100%";b.style.height="68px";b.style.paddingTop="5px";b.style.borderWidth="2px";b.style.borderStyle="solid";b.style.boxSizing="border-box";var c=document.createElement("div");c.style.display="inline-block";var d=PD(qj),e=DD();e.style.marginLeft="8px";e.style.marginTop="8px";c.appendChild(d);c.appendChild(e);d=document.createElement("div");d.style.display="inline-block";d.style.paddingLeft="16px";var f=PD(rj);f.style.paddingLeft="10px";var g=DD();g.style.marginTop="8px";d.appendChild(f);d.appendChild(g);b.appendChild(c);b.appendChild(d);e.onchange=function(){MD(a)};g.onchange=function(){ND(a)};this.Dp=e;this.Aj=g;return b};k.fD=function(){this.Rb.Mq="we-only-need-a-silent-mic";var a=document.createElement("div");a.style.display="none";return a};k.Jx=function(){var a=this,b=document.createElement("div");b.style.textAlign="center";b.style.paddingTop="10px";var c=document.createElement("button");y(c,"startButton");c.style.width="305px";c.style.height="27px";c.style.borderWidth="1px";c.style.borderStyle="solid";c.style.borderRadius="4px";c.textContent=this.config.nM;c.style.fontFamily="UbuntuBold";c.style.fontSize="16px";c.style.cursor="pointer";c.style.whiteSpace="nowrap";c.style.overflow="hidden";c.style.textOverflow="ellipsis";b.appendChild(c);c.disabled=!0;c.onclick=function(){c.disabled=!0;a.Zv()};this.Sr=c;return b};function PD(a){var b=document.createElement("div");b.style.paddingLeft="8px";b.style.paddingTop="3px";b.style.fontSize="16px";b.style.fontFamily="UbuntuBold";b.textContent=a;return b}
function QD(a,b,c){function d(){var p=performance.now(),v=window.setInterval(function(){if(n){var A=performance.now(),D=Math.floor((A-p)/1E3);1>D||(10<=D&&(p=A),void 0!==f.Nn&&(f.Nn.textContent=""),void 0!==f.status&&(f.status.textContent=Bj+" "+(10-D+1)+"..."))}else clearInterval(v)},200)}function e(p,v){void 0!==f.status&&void 0!==f.ww&&(!0!==v||h?!0!==v&&h&&(f.status.style.color="black",f.status.style.fontFamily="UbuntuRegular",f.status.style.width="",f.status.style.paddingLeft="0px",f.status.style.cssFloat="none",f.status.title="",f.ww.style.display="none",h=!1):(h=!0,f.status.style.color="#D80000",f.status.style.fontFamily="UbuntuBold",f.status.style.width="28%",f.status.style.paddingLeft="18%",f.status.style.cssFloat="left",f.status.title=f.ww.title=cj,f.ww.style.display=""),f.status.textContent=p)}x.call(this);var f=this;this.sB=!1;this.FH=0;this.C=a;this.config=c;this.Rb=b;this.cD();var g=!1,h=!1,m=!1,n=!0;d();this.bG=function(p){if(void 0!==f.xb&&f.xb.Ig===p.Ig){p=p.data;if(void 0!==p.fps){var v=p.fps,A=20,D=15;Kb()&&(A=12,D=9);var R=!0;v=Math.round(v);v>=A?A="frameRateGood":v>=D?A="frameRateAvg":(A="frameRateBad",R=!1);void 0!==f.Nn&&(f.Nn.className="",y(f.Nn,A),f.Nn.textContent=v+" FPS");g=R?!1:!0}void 0!==p.status&&(p=p.status,"connecting"!==p&&(n=!1),RD(p)?e("(Offline)"):"away"!==p||m?"away"!==p&&m?(void 0!==f.Xs&&(f.Xs.style.display="none"),f.hb.style.display="",m=!1):(v=p.charAt(0).toUpperCase()+p.slice(1),"connecting"===p?n||(n=!0,d()):g&&0<f.FH&&5E3<performance.now()-f.FH?e(jj,!0):e("("+v+" Broadcasting)")):(f.hb.style.display="none",void 0!==f.Xs&&(f.Xs.style.display=""),m=!0))}};this.cG=function(p){void 0===f.xb||f.xb.Ig!==p||f.sB||f.stop(!0)};cD.h(this.bG);aD.h(this.cG);this.start()}q(QD,x);k=QD.prototype;k.cD=function(){var a=this.Cx();a.appendChild(this.yt());a.appendChild(this.xx());var b=document.createElement("div");b.style.height="382px";b.style.width="100%";b.style.backgroundColor="black";b.style.display="none";b.appendChild(this.Op());var c=b.appendChild,d=document.createElement("div");d.style.textAlign="center";d.style.paddingLeft="16%";d.style.paddingRight="16%";d.style.paddingTop="50px";var e=document.createElement("span");y(e,"inBrowserAwayMessage");e.style.fontFamily="UbuntuRegular";e.style.fontSize="14px";e.textContent=lj;d.appendChild(e);c.call(b,d);b.appendChild(this.Wh());y(this.element,"broadcastPanel");this.element.appendChild(a);this.element.appendChild(b);this.hb=a;this.Xs=b};k.nc=function(){return void 0!==this.xb?this.xb.ct:!1};k.start=function(){var a=this;this.stop().then(function(){function b(d,e){a.xb=new FD;a.xb.Kr(a.video,a.C,a.Rb).then(function(){void 0!==a.xb&&a.xb.start().then(function(){a.Zu=function(f){f.preventDefault();f.returnValue=!1;return kj};B("beforeunload",window,a.Zu);a.hv=function(){a.stop(!0)};B(Ob(),window,a.hv);wD.j(!0);d()}).catch(function(f){e(Cj+": "+f.message)})}).catch(function(f){if(Hb()&&"Invalid constraint"===f.message){c+=1;if(5>=c){a.stop().then(function(){window.setTimeout(function(){b(d,e)},500)}).catch(function(){});return}e(bj)}e(Fj+": "+f.message)})}var c=0;(new Promise(b)).catch(function(d){V(d);a.stop(!0)})}).catch(function(){})};k.stop=function(a){var b=this;this.sB=!0;void 0!==this.Zu&&(C("beforeunload",window,this.Zu),this.Zu=void 0);void 0!==this.hv&&(C(Ob(),window,this.hv),this.hv=void 0);var c=Promise.resolve();void 0!==this.xb&&(c=this.xb.stop());!0===a&&Xa("last_broadcast_dt",Date.now().toString(10),1);return new Promise(function(d,e){c.then(function(){b.sB=!1;!0===a&&(cD.removeListener(b.bG),aD.removeListener(b.cG),b.config.Bm(),wD.j(!1));d()}).catch(e)})};k.Cx=function(){var a=document.createElement("div");a.style.height="382px";a.style.width="100%";a.style.overflow="unset";return a};k.yt=function(){var a=ED();a.style.width="100%";a.style.height="370px";a.style.backgroundColor="black";return this.video=a};k.xx=function(){function a(p){if(void 0!==b.xb){if(!b.xb.Hr(p))return!1}else return!1;p?y(e,"muted"):z(e,"muted");Xa("broadcast_muted",String(p),60);return!0}var b=this,c=document.createElement("div");y(c,"controls");c.style.width="100%";c.style.height="35px";var d=document.createElement("button");d.style.border="0px";var e=document.createElement("div");y(e,"muteImg");e.textContent="";e.style.height="20px";e.style.width="20px";e.style.border="0px";e.style.paddingTop="9px";Eb()&&!Kb()&&(e.style.paddingTop="3px");e.style.outline="none";d.appendChild(e);var f=document.createElement("div");f.style.cssFloat="left";f.style.textAlign="center";f.style.height="34px";f.style.borderRight="1px solid black";f.style.width="10%";Fb()&&Eb()&&(f.style.width="12%");f.appendChild(d);c.appendChild(f);d.onclick=function(){var p=!b.Rb.muted;a(p)&&(b.Rb.muted=p)};d.disabled=!0;var g=window.setInterval(function(){a(b.Rb.muted)&&(d.disabled=!1,clearInterval(g))},200);f=document.createElement("div");y(f,"inBrowserStatus");f.style.cssFloat="left";f.style.textAlign="center";f.style.height="34px";f.style.width="51%";Fb()&&Eb()&&(f.style.width="44%");f.style.borderRight="1px solid black";f.style.padding="0px";f.style.fontFamily="UbuntuRegular";var h=BD("");h.style.cssFloat="left";h.style.paddingLeft="5px";h.style.paddingTop="10px";var m=CD("");m.style.paddingLeft="0px";var n=document.createElement("img");n.src="https://static-assets.highwebmedia.com/broadcastassets/warning.png";n.style.height="16px";n.style.paddingTop="9px";n.style.paddingLeft="5px";n.style.display="none";n.style.cssFloat="left";f.appendChild(h);f.appendChild(m);f.appendChild(n);this.Nn=h;this.status=m;this.ww=n;c.appendChild(f);f=document.createElement("button");h=document.createElement("input");h.type="image";h.src="https://static-assets.highwebmedia.com/broadcastassets/stop.svg";h.style.verticalAlign="middle";h.style.height="16px";h.style.paddingTop="1px";f.appendChild(h);h=document.createElement("span");h.style.fontFamily="UbuntuRegular";h.textContent=h.innerText=xj;h.style.fontSize=18<h.innerText.length?"13px":"18px";h.style.paddingLeft=18<h.innerText.length?"2px":"7px";h.style.verticalAlign="middle";f.appendChild(h);f.style.paddingTop="5px";f.style.cssFloat="right";f.style.border="0";h=document.createElement("div");h.style.cssFloat="left";h.style.textAlign="center";h.style.height="34px";h.appendChild(f);c.appendChild(h);f.onclick=function(){b.stop(!0)};return c};k.Op=function(){var a=document.createElement("div");a.style.textAlign="center";a.style.paddingTop="90px";var b=document.createElement("span");y(b,"awayTitle");b.textContent=yj;b.style.fontFamily="UbuntuRegular";b.style.fontSize="40px";a.appendChild(b);return a};k.Wh=function(){var a=document.createElement("div");a.style.textAlign="center";a.style.paddingTop="35px";var b=document.createElement("a");y(b,"awayLink");b.text=mj;b.style.fontFamily="UbuntuRegular";b.style.fontSize="20px";b.style.cursor="pointer";b.style.textDecoration="underline";a.appendChild(b);b.onclick=function(){uD()};return a};function RD(a){return!AD.some(function(b){return b===a})};var SD={username:"",Za:!0,je:!1,Gf:!1,Lc:!1,Eg:!1,Ii:!1,Fg:!1,dc:"",sc:"df"},bD,TD;B("pageshow",window,function(a){a.persisted&&void 0!==TD&&UD(TD)});hc.push(function(){return new Promise(function(a,b){void 0!==TD&&TD.nc()?oo(Zj,function(){void 0!==TD?a(UD(TD)):a()},b):a()})});var VD=new t("showMyCamDidNotStart");function WD(a,b,c){if(!Pb()||Nb()||Db())return!1;var d;M.h(function(e){void 0!==TD&&e.B.A()!==TD.Bj.A()&&(TD.mx(),TD=void 0);if(e.B.xc)b.j(function(){Rr.j(!1)});else{void 0===TD&&(TD=new XD(e.B,a));var f=function(){c.j("starting");b.j(function(){});void 0!==d&&d.removeListener();d=VD.h(function(){c.j("stopped");b.j(f)},!1);E("api/ts/chat/can-share-cam/"+e.C.A+"/").then(function(g){g=new N(g.responseText);T(g,"can_share")&&0===Zn(g,"shared_cam").length?void 0!==TD&&YD():(T(g,"is_grey")?oo(Rj,function(){L("SharedCamPurchaseTokensClicked");Kp("/tipping/purchase_tokens/","_blank","height=615, width=850, scrollbars=1")}):T(g,"is_private")?V(Qj):0<Zn(g,"shared_cam").length?(V(Jj),L("SharedCamAlreadySharing")):V(Q(g,"message")),VD.j(void 0))}).catch(function(){})};TD.ev.push(function(){c.j("started");b.j(function(){L("SharedCamBroadcastStopClicked");void 0!==TD&&UD(TD,!0)})});TD.Bm.push(function(){c.j("inactiveStopped");b.j(function(){var g=H(G("Please allow up to %(sec)s seconds before sharing your cam again."),{sec:5},!0);V(g)});window.setTimeout(function(){c.j("stopped");b.j(function(){f()})},5E3)});b.j(function(){f()})}});return!0}
function ZD(a,b){var c=new t("requestChangeClickListener"),d=new t("showMyCamStateChanged");c.h(function(e){a.onclick=e});d.h(function(e){switch(e){case "starting":a.textContent=Hj;a.style.opacity="0.5";a.style.cursor="default";break;case "started":a.textContent=Ij;a.style.opacity="1";a.style.cursor="pointer";break;case "inactiveStopped":a.textContent=Hj;a.style.opacity="0.5";a.style.cursor="default";break;case "stopped":a.textContent=Hj,a.style.opacity="1",a.style.cursor="pointer"}});return WD(b,c,d)}
function XD(a,b){var c=this,d;this.ev=[];this.Bm=[];this.P=new La;this.Zv=function(){void 0!==c.mr&&c.mr.D();L("SharedCamBroadcastStartClicked");if(c.Bv||c.lt)V(Pj),VD.j(void 0);else{var e=c.Bm;c.Bm=[];UD(c).then(function(){c.Bm=e;var f=!1,g=window.setTimeout(function(){void 0!==c.Og&&$D(c.Og);L("SharedCamBroadcastStartTimedOut");V(Nj);w("smcViewer - timeout starting cam");f=!0},2E4);F("api/ts/chat/share-my-cam/",{username:c.Bj.A()}).then(function(){if(!f){c.Og=new aE(c.JC,c.Rb,c.tI,c.Bj,g);c.Og.fB();B(hb(),document,c.Og.fB);for(var h=l(c.ev),m=h.next();!m.done;m=h.next())m=m.value,m()}}).catch(function(){f||(V(Mj),VD.j(void 0))})}).catch(function(){})}};this.tI=function(){void 0!==c.Og&&(C(hb(),document,c.Og.fB),c.Og.Sp&&c.Bj.event.Ia.j({sa:[[ft(Object.assign(SD,{username:c.Bj.A()})),Y(Tj)]],ya:!0}));c.Og=void 0;for(var e=l(c.Bm),f=e.next();!f.done;f=e.next())f=f.value,f()};this.Bj=a;this.Rb={Mq:"",An:"",width:0,height:0,muted:!0};this.Bv=!0;r(b.h(function(e){(c.Bv=e)&&UD(c)},!1),this.P);this.lt=!0;r(a.event.Tc.h(function(e){c.lt="notconnected"===e.Ea;switch(e.Ea){case "privatenotwatching":case "privatespying":case "passwordprotected":case "notconnected":UD(c)}}),this.P);a=null===(d=Em.current.Fa)||void 0===d?void 0:d.we;void 0!==a&&r((new rz(a)).Ib.h(function(e){e.Gi?pz.j(e):qz.j(e)}),this.P)}
function YD(){var a=TD;L("SharedCamStartClicked");a.Bv||a.lt?(V(Pj),VD.j(void 0)):fz(a.Bj.username()).then(function(b){b?(V(Jj),VD.j(void 0)):"1"===Wa("broadcast_terms")?bE(a):(new gD(!1,function(){bE(a)},function(){VD.j(void 0)})).show()}).catch(function(){})}function UD(a,b){return void 0!==a.Og?$D(a.Og,void 0===b?!1:b):Promise.resolve()}XD.prototype.mx=function(){UD(this);Ma(this.P)};function bE(a){a.Bv||a.lt?(V(Pj),VD.j(void 0)):rC().then(function(b){a.JC=b;void 0!==a.mr&&a.mr.D();a.mr=new cE(a.JC,a.Rb,a.Zv,a.Bj.A());a.mr.show()}).catch(function(){})}XD.prototype.nc=function(){return void 0!==this.Og};function cE(a,b,c,d){rc.call(this);var e=this;this.paused=!1;this.qv=!0;this.da.style.backgroundColor="rgba(0, 0, 0, 0.4)";y(this.element,"smc-preview-modal");this.element.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.3)";this.element.style.position="fixed";this.element.style.overflow="hidden";this.element.style.height="auto";this.element.style.width="422px";this.element.style.top="50%";this.element.style.left="50%";this.element.style.transform="translate(-50%, -56%)";this.element.style.borderRadius="6px";this.fA=new OD(a,b,{TP:function(){},ev:c,title:Gj,iK:[Kj,Lj],nM:kd(d),xi:function(){VD.j(void 0);e.D()}});this.element.style.padding="8px 10px";this.element.style.boxSizing="border-box";this.Mc.h(function(){VD.j(void 0);e.D()});this.I(this.fA)}q(cE,rc);cE.prototype.show=function(){this.paused&&this.fA.start();rc.prototype.show.call(this);L("SharedCamPreviewDisplayed")};cE.prototype.D=function(){rc.prototype.D.call(this);this.fA.stop();this.paused=!0};function aE(a,b,c,d,e){QD.call(this,a,b,{Bm:function(){zc("api/ts/chat/share-my-cam/?",{username:f.Ar});null!==f.element.parentElement&&f.element.parentElement.removeChild(f.element);Ma(f.P);bD=void 0;c()}});var f=this;this.Bj=d;this.Sp=!1;this.P=new La;this.right=this.bottom=16;this.Qn=32;this.Rn=0;this.Ct=new Map;this.fB=function(){var h=gb();jb()&&void 0!==h?(h.appendChild(f.element),f.hb.style.bottom=f.Qn+"px",f.hb.style.right=f.Rn+"px"):(document.body.appendChild(f.element),f.hb.style.bottom=f.bottom+"px",f.hb.style.right=f.right+"px")};this.Ar=d.A();this.py();this.element.style.height="auto";this.element.style.width="auto";this.hb=this.Cx();this.hb.appendChild(dE(this));this.hb.appendChild(this.yt());this.hb.appendChild(this.xx());this.element.appendChild(this.hb);eE(this);cp.h(function(){jb()?(f.hb.style.bottom=fE(f,f.Qn)+"px",f.hb.style.right=gE(f,f.Rn)+"px"):(f.hb.style.bottom=fE(f,f.bottom)+"px",f.hb.style.right=gE(f,f.right)+"px")});var g=!0;r(cD.h(function(h){h=h.data.status;"connecting"!==h&&g&&"hidden"===h?(clearTimeout(e),g=!1,hE(f)):!g&&RD(h)&&($D(f),V(Mj),w("smcViewer - cam went offline"))},!1),this.P)}q(aE,QD);function hE(a){L("SharedCamBroadcastStarted");bD=a.Ar;r(pz.h(function(b){iE(a,!0,b)},!1),a.P);r(qz.h(function(b){iE(a,!1,b)},!1),a.P)}function $D(a,b){b=void 0===b?!1:b;B("mouseenter",a.element,function(c){c.stopPropagation()},!0);B("mouseleave",a.element,function(c){c.stopPropagation()},!0);b&&L("SharedCamBroadcastStopClicked",{SO:a.Sp});return a.stop(!0)}
function iE(a,b,c){a.Sp=b;if(b){if(!a.Ct.has(c.username)){a.cn.src="https://static-assets.highwebmedia.com/broadcastassets/active-cam-overlaying-video.svg";a.rH.textContent=a.Ar+" "+Uj;a.Ct.set(c.username,c);var d=Sj}}else a.Ct.has(c.username)&&(a.cn.src="https://static-assets.highwebmedia.com/broadcastassets/inactive-cam-overlaying-video.svg",a.rH.textContent=a.Ar+" "+Vj,a.Ct.delete(c.username),d=Tj);void 0!==d&&a.Bj.event.Ia.j({sa:[[ft(Object.assign(SD,{username:c.username})),Y(d)]],ya:!0})}k=aE.prototype;k.cD=function(){};k.Cx=function(){var a=document.createElement("div");a.style.height="117px";a.style.width=117*this.Rb.width/this.Rb.height+"px";a.style.backgroundColor="#000";a.style.position="fixed";a.style.zIndex="1002";a.style.border="1px solid #FFF";return a};function dE(a){var b=document.createElement("div");b.style.position="absolute";b.style.right="5px";b.style.top="5px";b.style.width=b.style.height="15px";b.style.zIndex="1004";var c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/broadcastassets/inactive-cam-overlaying-video.svg";var d=document.createElement("div");d.style.position="absolute";d.style.backgroundColor="#303030";d.style.border="1px solid #222222";d.style.color="#EEE";d.style.width="175px";d.style.padding="9px";d.style.borderRadius="4px";d.style.fontSize="12px";d.style.display="none";d.style.zIndex="5";d.style.bottom="25px";d.style.left="-168px";var e=document.createElement("span");e.textContent=a.Ar+" "+Vj;d.appendChild(e);d.appendChild(Ao("#222222","#303030","168px",2));b.appendChild(c);b.appendChild(d);a.cn=c;a.aw=d;a.rH=e;return b}k.yt=function(){var a=QD.prototype.yt.call(this);a.style.height="100%";return a};k.xx=function(){var a=this,b=dz(),c=document.createElement("div");c.style.width="100%";c.style.height="26px";c.style.backgroundColor="rgba(0, 0, 0, 0.4)";c.style.cursor="move";jE(this,c);var d=document.createElement("div");d.style.paddingLeft="10px";d.style.position="relative";d.style.top="50%";d.style.transform="translateY(-50%)";d.style.color="#FFF";d.style.cursor="default";d.textContent=Yj;d.style.cursor="move";jE(this,d);c.appendChild(d);b.appendChild(c);c=ez({ME:"broadcastassets/volume-mute-grey.svg",Ve:Wj,Ny:31,QC:"60%"});c.style.left="50%";c.style.transform="translateX(calc(-50% - 30px))";b.appendChild(c);c=ez({ME:"broadcastassets/close.svg",Ve:Xj,Ny:23,QC:"60%",onClick:function(){$D(a,!0)}});c.style.left="50%";c.style.transform="translateX(calc(-50% + 30px))";b.appendChild(c);return this.controls=b};function eE(a){function b(){a.controls.style.display="none";a.cn.src=a.Sp?"https://static-assets.highwebmedia.com/broadcastassets/active-cam-overlaying-video.svg":"https://static-assets.highwebmedia.com/broadcastassets/inactive-cam-overlaying-video.svg"}function c(){a.controls.style.display="block";a.cn.src=a.Sp?"https://static-assets.highwebmedia.com/broadcastassets/active-cam.svg":"https://static-assets.highwebmedia.com/broadcastassets/inactive-cam.svg"}B("mouseenter",a.hb,c);B("mouseleave",a.hb,b);var d=0;B("touchstart",a.hb,function(){"none"===a.controls.style.display?(c(),d=1):d+=1});B("touchend",a.hb,function(){1<d&&b()});B("touchstart",document,function(e){a.element.contains(e.target)||b()});B("mouseenter",a.cn,function(){a.aw.style.display="block"});B("mouseleave",a.cn,function(){a.aw.style.display="none"});B("touchstart",a.cn,function(){a.aw.style.display="block"});B("touchstart",document,function(){a.aw.style.display="none"},!0)}
function jE(a,b){Qm(b,function(c,d,e){var f=gE(a,jb()?a.Rn:a.right),g=fE(a,jb()?a.Qn:a.bottom),h=f,m=g;return{enabled:!0,move:function(n,p){n-=d;m=fE(a,g-(p-e));h=gE(a,f-n);a.hb.style.bottom=m+"px";a.hb.style.right=h+"px"},end:function(){jb()?(a.Rn=h,a.Qn=m):(a.right=h,a.bottom=m);a.MA()}}})}function fE(a,b){return Math.max(0,Math.min(window.innerHeight-a.hb.offsetHeight,b))}function gE(a,b){return Math.max(0,Math.min(window.innerWidth-a.hb.offsetWidth,b))}
k.py=function(){if(mb()){var a=window.localStorage.getItem("smcBroadcastSettings");null!==a&&(a=JSON.parse(a),this.bottom=a.bottom,this.right=a.right,this.Qn=a.fullscreenBottom,this.Rn=a.fullscreenRight)}};k.MA=function(){mb()&&window.localStorage.setItem("smcBroadcastSettings",JSON.stringify({bottom:this.bottom,right:this.right,fullscreenBottom:this.Qn,fullscreenRight:this.Rn}))};function kE(a,b,c){this.red=a;this.green=b;this.blue=c;this.$s=this.eu=this.tv=10}function lE(a,b){var c=void 0===c?!1:c;for(b=Math.min(255,b);b>a.brightness()&&(!c||255!==a.red&&255!==a.green&&255!==a.blue);)a.red=Math.min(a.red+Math.max(1,.05*a.red),255),a.green=Math.min(a.green+Math.max(1,.05*a.green),255),a.blue=Math.min(a.blue+Math.max(1,.05*a.blue),255);a.red=Math.round(a.red);a.green=Math.round(a.green);a.blue=Math.round(a.blue)}
kE.prototype.brightness=function(){return Math.round(this.tv/(this.tv+this.eu+this.$s)*this.red+this.eu/(this.tv+this.eu+this.$s)*this.green+this.$s/(this.tv+this.eu+this.$s)*this.blue)};function mE(){x.call(this);this.Hm=this.kj=!1}q(mE,x);mE.prototype.show=function(a,b,c){var d=this;this.kj&&this.D();this.kj=!0;this.Hm=!1;var e=b.pF,f=c.getBoundingClientRect(),g=a.clientX-f.left;this.ac=W("div",{style:{position:"absolute",zIndex:999999,top:a.clientY-f.top+20+"px",padding:"10px",cursor:"default"},colorClass:"appPreview"},W("div",null,W("div",{style:{display:"flex"}},W("div",{style:{width:"100%",maxWidth:"300px"}},W("div",null,W("h1",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"18px",margin:"0 0 10px 0",fontFamily:"ubuntumedium"}},b.name),W("p",{style:{fontSize:"14px",marginBottom:"15px"},colorClass:"subText"},"by ",e.yC),W("p",{style:{fontSize:"14px",marginBottom:"15px",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"100px",wordBreak:"break-word"},colorClass:"subText"},e.summary))))));this.ac.onmouseenter=function(){d.kj=!0;d.Hm=!1};this.ac.onmouseleave=function(){d.Hm=!0;window.setTimeout(function(){d.Hm&&d.D()},1E3)};c.appendChild(this.ac);a.clientX+this.ac.offsetWidth>window.innerWidth?this.ac.style.right="10px":this.ac.style.left=g+"px"};function nE(a,b){a=a.summary.split("\n",6);var c="";5<a.length&&(c+=a.pop());var d={margin:"0",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:b-10+"px"};return W("div",null,a.map(function(e){return W("p",{style:d},e)}),""!==c?W("p",{style:{margin:"0"}},"..."):"")}mE.prototype.D=function(){this.ac.remove();this.Hm=this.kj=!1};Object.assign(Object.assign({},{Qb:"videoPanel",Wj:"tipOptions"}),{MG:"rewriteMessages"});function oE(a){a=new N(a);if(void 0!==O(a,"settingsValues")){var b=new N(eo(a,"settingsValues"));var c={};b.keys().map(function(d){c[d]=O(b,d)})}return{id:Q(a,"id"),name:Q(a,"name"),RO:T(a,"isPublic",!1,!1),QO:T(a,"isInstalled",!1,!1),kj:T(a,"isActive",!1,!1),IO:T(a,"hasUpdate",!1,!1),OO:void 0!==O(a,"installed")?pE(eo(a,"installed")):void 0,pF:pE(eo(a,"latest")),xQ:c,bQ:void 0!==O(a,"permissionsValues")?qE(eo(a,"permissionsValues")):void 0}}
function qE(a){a=new N(a);return{Qb:T(a,"videoPanel"),MG:T(a,"rewriteMessages"),Wj:T(a,"tipOptions")}}function pE(a){a=new N(a);return{version:Q(a,"version"),id:Q(a,"id"),summary:Q(a,"summary"),description:Q(a,"description"),yC:Q(a,"author"),rN:Q(a,"authorEmail"),LQ:Q(a,"supportEmail"),kl:rE(eo(a,"settings")),permissions:sE(eo(a,"permissions"))}}
function rE(a){var b={},c=new N(a);c.keys().map(function(d){var e=eo(c,d);e=new N(e);e={type:Q(e,"type"),title:P(e,"title",!1),description:P(e,"description",!1),HP:$n(e,"minimum",!1),maximum:$n(e,"maximum",!1),minLength:$n(e,"minLength",!1),maxLength:$n(e,"maxLength",!1),default:O(e,"default"),required:T(e,"required",!1,!1),order:$n(e,"order"),kO:Zn(e,"enum")};b[d]=e});return b}
function sE(a){function b(c){return{kl:Q(new N(c),"settings")}}a=new N(a);return{Qb:b(eo(a,"videoPanel")),MG:b(eo(a,"rewriteMessages")),Wj:b(eo(a,"tipOptions"))}}function tE(a){a=new N(a);return{items:Zn(a,"items").map(function(b){return oE(b)}),sF:U(a,"limit"),offset:U(a,"offset"),total:U(a,"total")}}
function uE(a){var b=new FormData,c={};a=l(Object.entries(a));for(var d=a.next();!d.done;c={zs:c.zs},d=a.next())d=l(d.value),c.zs=d.next().value,d=d.next().value,Array.isArray(d)?d.forEach(function(e){return function(f){b.append(e.zs,f)}}(c)):b.set(c.zs,d);return F("api/public/asp/control/applist/",b).then(function(e){return tE(e.responseText)})}var vE;function wE(a){void 0===vE&&(vE=uE({isInstalled:"1",isActive:"1",room_uid:a}));window.setTimeout(function(){vE=void 0},1E3);return vE}var xE=new t("startAppLogger");function yE(a,b){a=new WebSocket(a+"?broadcastId="+b);a.onmessage=function(c){c=JSON.parse(c.data);if("object"!==typeof c)u("Invalid json received:"),hn(c);else{var d=c.version?"v"+c.version:"";"console.log"===c.type?(console.group("[log] "+c.name+" "+d),console.log(c.message),console.groupEnd()):"error"===c.type?(console.group("[error] "+c.name+" "+d),console.error("Uncaught "+c.message+"\n"+c.location),console.groupEnd()):(u("Unsupported message received:"),hn(c))}};a.onerror=function(c){w("SetupAppLogger error",{event:c})};return a};function zE(){var a=document.createElement("div");a.style.width="100%";a.style.display="inline-block";a.style.padding="2px";return a}
function AE(){var a=void 0===a?"":a;var b=document.createElement("div");b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.width="100%";b.style.paddingTop="3px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";b.style.fontSize="12px";b.style.overflowX="hidden";0<a.length&&b.setAttribute("data-nick",a);return b}function Du(a,b){return b.username===a?"Broadcaster ":b.Lc?"Moderator ":b.je?"Fan club member ":""}
function BE(a){a=Lr(a);a=new kE(a.red,a.green,a.blue);var b=a.brightness();lE(a,255-b/3);return"rgb("+a.red+", "+a.green+", "+a.blue+")"}
function CE(a,b,c,d){return new Promise(function(e,f){wE(b).then(function(g){var h=AE();if(0!==g.items.length){var m=document.createElement("span");m.innerText=Sc(a);h.appendChild(m);m=0;for(var n=new mE,p={},v=l(g.items),A=v.next();!A.done;p={qp:p.qp},A=v.next()){p.qp=A.value;m+=1;A=document.createElement("div");A.style.display="inline";A.style.position="relative";A.style.cursor="default";var D=document.createElement("span");A.appendChild(D);D.innerText=p.qp.name;h.appendChild(A);"mobile"===d?A.onclick=function(R){return function(K){K.preventDefault();K=R.qp;var ca=K.pF,Oa=Math.min(400,document.documentElement.clientWidth-80);K=W("div",{style:{width:Oa+"px"}},W("h1",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",color:"#000000",fontSize:"18px",margin:"0 0 10px 0",fontFamily:"ubuntumedium"}},K.name),W("p",{style:{color:"#808285",fontSize:"14px"}},"by ",ca.yC),W("div",{style:{maxHeight:"96px",color:"#808285",fontSize:"14px",overflow:"hidden"}},nE(ca,Oa)));V(K.innerHTML,void 0,!0)}}(p):A.onmouseenter=function(R){return function(K){K.preventDefault();n.show(K,R.qp,c)}}(p);"mobile"!==d&&(A.onmouseleave=function(R){R.preventDefault();n.Hm=!0;window.setTimeout(function(){n.Hm&&n.D()},1E3)});m<g.items.length&&(A=document.createElement("span"),A.innerText=", ",h.appendChild(A))}h.setAttribute("data-purecolor",BE("#aaaaaa"));h.className="purecolor"}e(h)}).catch(function(g){w("Error fetching ASP app list: "+g);f(g)})})};var DE={o:"room-owner",m:"moderator",f:"fanclub-user",tr:"tipped-recently-user",g:"standard-user",t:"tipped-user",p:"tipped-lots-user",l:"tipped-tons-user"};function EE(a){this.un=this.js=0;this.Hg=[];var b=a.split(",");a=~~b[0];b=b.slice(1);var c=[];b=l(b);for(var d=b.next();!d.done;d=b.next()){var e=l(d.value.split("|"));d=e.next().value;var f=e.next().value;e=e.next().value;f=DE[f];d={username:d,Za:!1,je:!1,Gf:!1,Lc:!1,Eg:!1,Ii:!1,Fg:!1,dc:"",ii:e,sc:"un"};"room-owner"===f?d.Za=!0:"fanclub-user"===f?d.je=!0:"tipped-user"===f?d.Gf=!0:"moderator"===f?d.Lc=!0:"tipped-recently-user"===f?d.Eg=!0:"tipped-lots-user"===f?d.Ii=!0:"tipped-tons-user"===f&&(d.Fg=!0);c.push(d)}this.js=a+c.length;this.un=a;this.Hg=c};function FE(){this.Hn=0}function GE(a){a.Hn+=1;return Math.min(1E4,500*a.Hn)}FE.prototype.reset=function(){this.Hn=0};function HE(a,b,c){this.Cj=a;this.event=b;this.Ma=c;this.Cl=void 0;this.dB=!0;this.CK=new Jt(this.Ma);this.rA=new FE;IE(this)}
function IE(a){var b;if(0<a.Cj.host.length){var c="http"===a.Cj.host.substring(0,4)?new SockJS(a.Cj.host):new WebSocket(a.Cj.host);a.Cl=c;c.onclose=function(d){fD("Connection closed:"+JSON.stringify(d));void 0!==b?a.event.Ia.j({sa:[[Y("Trying to reconnect")]],ya:!0}):(a.event.Ia.j({sa:[[Y("Chat disconnected")]],ya:!0}),a.event.aJ.j(void 0),a.dB&&(b=window.setTimeout(function(){a.event.Ia.j({sa:[[Y("Trying to reconnect")]],ya:!0});IE(a)},GE(a.rA))))};c.onerror=function(d){fD("Connection error:"+JSON.stringify(d));void 0===b&&a.dB&&(b=window.setTimeout(function(){IE(a)},GE(a.rA)))};c.onmessage=function(d){var e=a.CK;d=d.data;var f=JSON.parse(d);f={method:f.method,callback:f.callback,O:f.args};0<=Object.keys(au).indexOf(f.method)?(e.ma.event.Tm.j(f),au[f.method](e.ma,f)):w("Unknown message method: "+f.method+" args: "+d)};c.onopen=function(){a.Ma.lo=new Date;hu(a,"connect",{user:a.Cj.Bn,password:a.Cj.cC,room:a.Cj.A,room_password:a.Cj.JA})}}}
HE.prototype.readyState=function(){if(void 0!==this.Cl)switch(this.Cl.readyState){case WebSocket.CLOSED:return"closed";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CONNECTING:return"connecting";default:return"unknown"}else return"websocket undefined"};HE.prototype.Zd=function(){return this.Cl};function eu(a){a.rA.reset();fu(a.Ma,a.Cj.qb)}HE.prototype.disconnect=function(){this.dB=!1;void 0!==this.Cl&&(this.Cl.close(),this.Cl=void 0)};function hu(a,b,c){c=void 0===c?{}:c;a.Zd().readyState===WebSocket.OPEN&&(b=JSON.stringify({method:b,data:c}),a.Zd().send(b))};var JE=new t("historyPrivateMessage"),KE=new t("createNewSession");function LE(){var a,b=Em.current;return b.pG||!0===(null===(a=b.Fa)||void 0===a?void 0:a.Eq)}var ME;M.h(function(a){ME=a.B});function NE(a){var b=Yn(a,"messages");return void 0===b?{sa:[],U:0}:{sa:b.map(function(c){return mt(c)}),U:U(a,"num_unread")}}
function OE(a,b){b=Cn({room:b});E("api/ts/chatmessages/pm_list/"+a+"/?"+b).then(function(c){var d=NE(new N(c.responseText)).sa;c=!0;d=l(d);for(var e=d.next();!e.done;e=d.next())e=Object.assign(Object.assign({},e.value),{YE:c}),JE.j(e),c&&(c=!1)}).catch(function(c){w("Failed getting pm history",c)})}
function PE(a,b){var c=Mb()?Math.floor(Math.random()*Rb(4)):Sb()[0];c={m:a.message,tid:Math.floor((new Date).getTime()/100)+":"+c};void 0!==a.media&&LE()&&(c.media_id=a.media.map(function(e){return e.ic}));if(void 0!==b){a=l(Object.keys(b));for(var d=a.next();!d.done;d=a.next())d=d.value,c[d]=b[d]}return JSON.stringify(c)}
function QE(a){et(this,function c(){var d,e,f,g,h,m;return Ba(c,function(n){d=a;e=d.username;f=d.source;g=void 0===d.K?"":d.K;h=new FormData;m=PE(a);h.append("room",g);h.append("to_user",e);h.append("message",m);return n.return(F("api/ts/chatmessages/pm_publish/",h).then(function(p){p=new N(p.responseText);var v={username:e,source:f,is_reply:O(p,"is_reply"),token_color:P(p,"token_color"),in_fanclub:T(p,"in_fanclub",void 0,!1),success:"Ok"===Q(p,"status")};L("SendPrivateMessage",v);p=O(p,"status");if("Ok"!==p)return Promise.reject(p);p=ME;p.event.Pu.j(void 0);v=PE(a,{f:"",c:""});hu(p.Xe,RE(p)?"addPrivateUserMsgToUser":"addUserMsgToUser",{msg:v,room:p.A(),to_user:a.username});return Promise.resolve()}).catch(function(p){var v="string"===typeof p?p:wm;p="string"===typeof p?p:p.message;void 0!==a.dy&&a.dy(v);return Promise.reject(p)}))})})}var SE=new Map;function TE(a,b){var c="";void 0!==b&&(c="?"+Cn({room:b}));var d="api/ts/chatmessages/user_info/"+a+"/"+c;if(SE.has(d))return SE.get(d);b=E(d).then(function(e){e=new N(e.responseText);window.setTimeout(function(){SE.delete(d)},2500);return{U:U(e,"num_unread"),cb:it(new N(bo(e,"user")))}}).catch(function(e){w("Error getting user info for "+a+": "+e);throw e;});SE.set(d,b);return b}var UE=new Set,WE=new on(function(){VE(!0)},{Ad:10,Ce:1}),XE=-1;function VE(a){function b(){var f=d();void 0!==f&&F("api/ts/chatmessages/update_pms_last_seen/",f).catch(function(g){w("post error marking PMs as read: "+g);c()})}function c(){e.forEach(function(f){return UE.add(f)})}function d(){if(0!==UE.size){e=[].concat(ja(UE));UE.clear();var f=new FormData;e.forEach(function(g){f.append("from_usernames",g)});f.append("csrfmiddlewaretoken",Wa("csrftoken"));return f}}var e;a&&b();-1!==XE?(window.clearInterval(XE),XE=window.setInterval(b,6E4)):(XE=window.setInterval(b,6E4),B("beforeunload",window,function(){var f=d();void 0===f||navigator.sendBeacon("api/ts/chatmessages/update_pms_last_seen/",f)||(w("beacon error marking PMs as read"),c())}))}function YE(a,b){b=void 0===b?!1:b;UE.add(a);b?pn(WE):-1===XE&&VE(!1)};function ZE(a,b,c,d){this.value=a;this.He=b;this.kL=c;this.iN=d;this.Zt=!1;this.rk=new Date;this.fy=!1}function $E(a,b,c){var d={},e;for(e in a)if(!0!==c[e]&&"function"!==typeof a[e]&&!(a[e]instanceof Object&&b[e]instanceof Object&&zm(a[e],b[e],Object.keys(c)))&&a[e]!==b[e]){var f={};d[e]=(f.wowza=a[e],f.push=b[e],f)}return d}
function aF(a,b,c,d){d=void 0===d?{}:d;this.B=a;this.name=b;this.qH=void 0===c?0:c;this.Qr=d;this.Yk=[];this.Fw=!0;this.version=2;this.$z=this.Zz=0;this.size=1E3;this.timeout=5E3;this.LD=9E4;this.AB=new Set;this.Vs=new bF;this.pv=new bF}k=aF.prototype;k.verify=function(a,b,c){cF(this,a)||this.Ux(a,b,c)};function dF(a,b,c){c=void 0===c?a.timeout:c;var d=window.setTimeout(function(){b();a.AB.delete(d)},c);a.AB.add(d)}
function cF(a,b){var c;if(c=Yy&&Qy())if(c=!a.Fw){if(void 0===b.R)a=0;else a:switch(a=a.B.status,a){case "notconnected":a=!1;break a;case "privatewatching":case "privatespying":case "passwordprotected":case "privaterequesting":case "privatenotwatching":case "away":case "offline":case "hidden":case "public":a=!0;break a;default:u("unexpected status: "+a),a=!1}c=a}return c&&void 0!==b.R?!1:!0}
k.Ux=function(a,b,c){var d=this;if(!cF(this,a)&&void 0!==a.R){var e=new ZE(a,b,Qy(),"open"===this.B.Xe.readyState()),f=function(h,m,n){return 1<n.length||void 0!==h.value.R&&h.value.R.startsWith("#")?zm(h.value,e.value,Object.keys(d.Qr)):h.He!==b&&h.value.R===a.R},g=this.Vs.get(a.R).find(f);void 0!==g?eF(this,g,e):(f=this.pv.get(a.R).find(f),void 0!==f?fF(this,f,e):"push"===e.He&&void 0!==a.Pb&&a.Pb.Co-a.Pb.qr>this.LD?gF(this,e,c):(this.size<this.Yk.length&&this.Yk.shift(),this.Yk.push(e),this.Vs.push(a.R,e),dF(this,function(){cF(d,a)||void 0===a.R||e.Zt||(hF(d.Vs,a.R,e),iF(d,e),0<d.qH&&e.rk.valueOf()-d.B.lo.valueOf()<d.qH||(d.pv.push(a.R,e),dF(d,function(){cF(d,a)||e.Zt||d.qy(e,c)},d.LD)))})))}};function iF(a,b){a.Yk=a.Yk.filter(function(c){return c!==b})}function eF(a,b,c){b.Zt=!0;jF(b,c);if(!zm(b.value,c.value,Object.keys(a.Qr))){var d=$E("wowza"===b.He?b.value:c.value,"push"===b.He?b.value:c.value,a.Qr);kF(a,b,"differs",d,c.value);b.fy=!0}hF(a.Vs,b.value.R,b);iF(a,b)}
function fF(a,b,c){b.Zt=!0;b.IE=(new Date).valueOf()-b.rk.valueOf();jF(b,c);zm(b.value,c.value,Object.keys(a.Qr))?(hF(a.pv,b.value.R,b),iF(a,b),kF(a,b,"late")):(c=$E("wowza"===b.He?b.value:c.value,"push"===b.He?b.value:c.value,a.Qr),kF(a,b,"late and differs",c))}function jF(a,b){var c="wowza"===a.He?a:b;a="push"===a.He?a:b;b=a.value;void 0!==b.Pb&&(b=Object.assign(Object.assign({},b.Pb),{nA:Vx(new Date(b.Pb.Co),!0).getTime()}),c.Pb=b,a.Pb=b)}
k.qy=function(a,b){hF(this.pv,a.value.R,a);iF(this,a);a.fy=!0;var c="never arrived";if("push"===a.He){var d=a.value;void 0!==d.Pb&&(a.Pb=Object.assign(Object.assign({},d.Pb),{nA:Vx(new Date(d.Pb.Co),!0).getTime()}))}b||(c+=", topic was not subscribed");kF(this,a,c)};function gF(a,b,c){b.fy=!0;var d="arrived past timeout";if("push"===b.He){var e=b.value;void 0!==e.Pb&&(b.Pb=Object.assign(Object.assign({},e.Pb),{nA:Vx(new Date(e.Pb.Co),!0).getTime()}))}c||(d+=", topic was not subscribed");kF(a,b,d)}k.stop=function(){for(var a=l(this.AB.keys()),b=a.next();!b.done;b=a.next())clearTimeout(b.value);this.Fw=!0};k.start=function(){this.Fw=!1};function kF(a,b,c,d,e){void 0!==b.value.R&&(a=a.Vh(b,c,d,e),void 0!==En&&L("PushServiceVerifier",a))}
k.Vh=function(a,b,c){var d={};d.verifier_version=this.version;d.trace_id=a.value.R;d.provider_id=a.value.xG;d.running_apps=this.B.hk();d.viewer_ignored=yr(this.B.username());d.received_from=a.He;d.original=a.value;d.push_connected=a.kL;d.wowza_connected=a.iN;d.item_created=a.rk;d.message_age=a.rk.valueOf()-this.B.lo.valueOf();d.verifier=this.name;d.timeout=this.timeout;d.viewer=this.B.username();d.room=this.B.A();d.room_status=this.B.status;d.prev_room_status=this.B.Nc;d.last_connection_time=this.B.lo.getTime();d.created=this.B.rk.getTime();"wowza"===a.He?this.Zz+=1:"push"===a.He&&(this.$z+=1);void 0!==a.Pb&&(d.publish_ts=a.Pb.qr,d.publish_delay=a.Pb.qr-a.Pb.wI,d.receive_ts=a.Pb.Co,d.receive_delay=a.Pb.Co-a.Pb.qr,d.provider_delay=a.Pb.jL-a.Pb.qr,d.receive_ts_synced=a.Pb.nA,d.time_sync_source=0===window.performance.timing.responseStart?"date.getTime":"performance");void 0!==a.IE&&(d.late=a.IE);d.total_failures_push=this.Zz;d.total_failures_wowza=this.$z;d.diff=c;void 0!==c&&(d.diff_fields=Object.keys(c));d.failure_reason=b;return d};function lF(a,b,c,d){d=void 0===d?{}:d;aF.call(this,a,b,void 0===c?0:c,d);var e=this;this.yL=a.event.FA.h(function(f){e.Um=f})}q(lF,aF);lF.prototype.Vh=function(a,b,c,d){a=aF.prototype.Vh.call(this,a,b,c,d);a.room_count=this.Um;return a};lF.prototype.stop=function(){aF.prototype.stop.call(this);this.yL.removeListener()};function mF(){aF.apply(this,arguments);this.Um=0}q(mF,aF);mF.prototype.Ux=function(a,b){if("wowza"===b)this.Um=a.count;else if(!(100>this.Um||Math.abs(this.Um-a.count)<=.1*this.Um)){b=new ZE(a,b,Qy(),"open"===this.B.Xe.readyState());var c={};kF(this,b,"room count difference is too large",{count:(c.wowza=this.Um,c.push=a.count,c)})}};mF.prototype.Vh=function(a,b,c,d){b=aF.prototype.Vh.call(this,a,b,c,d);b.anon_count=a.value.qC;b.auth_count=a.value.xC;return b};function nF(){aF.apply(this,arguments);this.jF=new Map}q(nF,aF);nF.prototype.qy=function(a,b){aF.prototype.qy.call(this,a,b);"wowza"===a.He&&"leave"===a.value.action&&this.jF.set(a.value.cb.username,new Date)};nF.prototype.Vh=function(a,b,c,d){b=aF.prototype.Vh.call(this,a,b,c,d);c=this.jF.get(a.value.cb.username);void 0!==c&&"push"===a.He&&"leave"===a.value.action&&(b.time_since_last_leave=(new Date).getTime()-c.getTime());return b};function oF(a,b,c,d){d=void 0===d?{}:d;aF.call(this,a,b,void 0===c?0:c,d);var e=this;this.xL=300;this.ey=10;this.DJ=1500;this.AK=40;this.kA={Nc:"unknown",Ea:"unknown"};this.hC={Nc:"unknown",Ea:"unknown"};this.zL=Dm.tj.h(function(f){e.kA={Nc:e.kA.Ea,Ea:f.Ga}},!1)}q(oF,aF);oF.prototype.Ux=function(a,b){var c=this;if("wowza"===b){this.hC={Nc:this.hC.Ea,Ea:a.status};var d=0,e,f=function(){if(!cF(c,a)){d+=1;if(d===c.ey){var g=new ZE(a,b,Qy(),"open"===c.B.Xe.readyState());kF(c,g,"RoomStatus does not match");e=new Date}if(Dm.getState().Ga===a.status){if(d>c.ey){var h=new ZE(a,b,Qy(),"open"===c.B.Xe.readyState());g=e;var m=d;h=c.Vh(h,"RoomStatus fixed");h.time_to_fix=(new Date).getTime()-g.getTime();h.numRetries=m;L("PushServiceVerifier",h)}}else d<c.AK&&dF(c,f,d>c.ey?c.DJ:c.xL)}};f()}};oF.prototype.Vh=function(a,b,c,d){b=aF.prototype.Vh.call(this,a,b,c,d);b.push_room_status=Dm.getState().Ga;b.prev_push_room_status=this.kA.Nc;b.wowza_room_status=a.value.status;b.prev_wowza_room_status=this.hC.Nc;return b};oF.prototype.stop=function(){aF.prototype.stop.call(this);this.zL.removeListener()};function bF(){this.values=new Map}
function hF(a,b,c){if(void 0!==b){var d=a.values.get(b);void 0!==d&&(d=d.filter(function(e){return e!==c}),0===d.length?a.values.delete(b):a.values.set(b,d))}}bF.prototype.push=function(a,b){var c=this.values.get(a);void 0===c?this.values.set(a,[b]):c.push(b)};bF.prototype.get=function(a){a=this.values.get(a);return void 0!==a?a:[]};function Z(a){$y.call(this,{broadcaster_uid:a});az(this.Qc)}q(Z,$y);Z.prototype.initData=function(a){this.Qc=a.broadcaster_uid};Z.prototype.getKey=function(){return this.na()+":"+this.Qc};function pF(a,b){$y.call(this,{broadcaster_uid:a,user_uid:b});az(this.Qc);az(this.we)}q(pF,$y);pF.prototype.getKey=function(){return this.na()+":"+this.Qc+":"+this.we};pF.prototype.initData=function(a){this.Qc=a.broadcaster_uid;this.we=a.user_uid};function qF(){Z.apply(this,arguments);this.Nu=1}q(qF,Z);qF.prototype.na=function(){return"PrivilegedSessionTopic"};function rF(){pF.apply(this,arguments);this.Nu=1}q(rF,pF);rF.prototype.na=function(){return"RoomUserPresenceTopic"};function sF(){Z.apply(this,arguments)}q(sF,Z);sF.prototype.na=function(){return"RoomAnonPresenceTopic"};function tF(){Z.apply(this,arguments)}q(tF,Z);tF.prototype.na=function(){return"RoomCountTopic"};tF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{count:U(a,"count"),qC:U(a,"anon_count"),xC:U(a,"auth_count"),R:"#room_count"})};function uF(){Z.apply(this,arguments)}q(uF,Z);uF.prototype.na=function(){return"RoomTitleChangeTopic"};uF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{title:Q(a,"title"),R:"#room_title_change"})};function vF(){Z.apply(this,arguments)}q(vF,Z);vF.prototype.na=function(){return"RoomTipAlertTopic"};vF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{T:it(a),message:Q(a,"message"),amount:U(a,"amount"),Aq:T(a,"is_anonymous_tip"),Za:T(a,"is_broadcaster"),history:T(a,"history"),fp:Q(a,"to_username")})};function wF(){Z.apply(this,arguments)}q(wF,Z);wF.prototype.na=function(){return"RoomStatusTopic"};wF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{status:Yq(Q(a,"status")),message:Q(a,"message"),R:""})};function xF(){pF.apply(this,arguments)}q(xF,pF);xF.prototype.na=function(){return"RoomUserRoomStatusTopic"};xF.prototype.N=function(a){return Object.assign(Object.assign({},pF.prototype.N.call(this,a)),{status:Yq(Q(a,"status")),message:Q(a,"message"),R:"#room_user_status"})};function yF(){Z.apply(this,arguments)}q(yF,Z);yF.prototype.na=function(){return"RoomMessageTopic"};yF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),lt(a))};function zF(){Z.apply(this,arguments)}q(zF,Z);zF.prototype.na=function(){return"RoomSilenceTopic"};zF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{username:Q(a,"username"),T:Q(a,"from_username"),R:"#room_silence"})};function AF(){Z.apply(this,arguments)}q(AF,Z);AF.prototype.na=function(){return"RoomKickTopic"};AF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{username:Q(a,"username"),T:"Unknown",R:"#room_kick"})};function BF(){Z.apply(this,arguments)}q(BF,Z);BF.prototype.na=function(){return"RoomModeratorPromotedTopic"};BF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{username:Q(a,"username"),T:Q(a,"from_username"),R:"#mod_promoted"})};function CF(){Z.apply(this,arguments)}q(CF,Z);CF.prototype.na=function(){return"RoomModeratorRevokedTopic"};CF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{username:Q(a,"username"),T:Q(a,"from_username"),R:"#mod_revoked"})};function DF(){Z.apply(this,arguments)}q(DF,Z);DF.prototype.na=function(){return"RoomNoticeTopic"};DF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:void 0,Xb:void 0})};function EF(){pF.apply(this,arguments)}q(EF,pF);EF.prototype.na=function(){return"RoomUserNoticeTopic"};EF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},pF.prototype.N.call(this,a)),pt(a)),{Te:void 0,Xb:this.we})};function FF(){Z.apply(this,arguments)}q(FF,Z);FF.prototype.na=function(){return"RoomAppLogTopic"};FF.prototype.N=function(a){var b=Object,c=b.assign,d=Object.assign({},Z.prototype.N.call(this,a)),e=Q(a,"type");if("log"===e)var f=Q(a,"message");else if("apperrorlog"===e){var g=O(a,"message");f=[];f.push([Y("Error: ")]);if("string"===typeof g)f.push([Y(g)]);else if(g instanceof Array){g=l(g);for(var h=g.next();!h.done;h=g.next())f.push([Y(h.value)])}else w("parseAppLog error: Invalid message type "+(void 0===g?"undefined":g.toString()))}else w("parseAppLog error: Unknown app log type: "+e),f="";a={message:f,type:e,R:Q(a,"tid")};return c.call(b,d,a)};function GF(){Z.apply(this,arguments)}q(GF,Z);GF.prototype.na=function(){return"RoomPurchaseTopic"};GF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{T:jt(ao(a,"user")),content:Q(a,"message")})};function HF(){Z.apply(this,arguments)}q(HF,Z);HF.prototype.na=function(){return"RoomFanClubJoinedTopic"};HF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{T:jt(ao(a,"user")),content:Q(a,"message")})};function IF(){Z.apply(this,arguments)}q(IF,Z);IF.prototype.na=function(){return"RoomSettingsTopic"};IF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{Bf:T(a,"allow_private_shows"),Pe:U(a,"private_show_tokens_per_minute"),Fh:U(a,"spy_on_private_show_tokens_per_minute"),yj:U(a,"private_min_minutes"),fk:T(a,"allow_show_recordings")})};function JF(){Z.apply(this,arguments)}q(JF,Z);JF.prototype.na=function(){return"RoomEnterLeaveTopic"};JF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{cb:jt(ao(a,"user")),action:Q(a,"action"),R:"#room_enter_leave"})};function KF(){Z.apply(this,arguments)}q(KF,Z);KF.prototype.na=function(){return"RoomPrivilegedEnterTopic"};KF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{cb:jt(ao(a,"user")),sc:P(a,"source"),BJ:P(a,"exploring_hash"),R:"#privileged_enter"})};function LF(){Z.apply(this,arguments)}q(LF,Z);LF.prototype.na=function(){return"RoomPrivilegedLeaveTopic"};LF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{cb:jt(ao(a,"user")),R:"#privileged_leave"})};function MF(){Z.apply(this,arguments)}q(MF,Z);MF.prototype.na=function(){return"RoomPrivateShowApprovedTopic"};MF.prototype.N=function(a){return Object.assign(Object.assign({},Z.prototype.N.call(this,a)),{OM:U(a,"tokens_per_minute")})};function NF(){Z.apply(this,arguments)}q(NF,Z);NF.prototype.na=function(){return"RoomPrivateShowCancelledTopic"};NF.prototype.N=function(a){return Z.prototype.N.call(this,a)};function OF(){pF.apply(this,arguments)}q(OF,pF);OF.prototype.na=function(){return"RoomUserPrivateStatusTopic"};OF.prototype.N=function(a){return Object.assign(Object.assign({},pF.prototype.N.call(this,a)),{status:Q(a,"status"),Xk:S(a,"show_id")})};function PF(){Z.apply(this,arguments)}q(PF,Z);PF.prototype.na=function(){return"RoomModeratorNoticeTopic"};PF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"red",Xb:void 0})};function QF(){Z.apply(this,arguments)}q(QF,Z);QF.prototype.na=function(){return"RoomFanClubTopic"};QF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"green",Xb:void 0})};function RF(){Z.apply(this,arguments)}q(RF,Z);RF.prototype.na=function(){return"RoomLightPurpleTopic"};RF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"lightpurple",Xb:void 0})};function SF(){Z.apply(this,arguments)}q(SF,Z);SF.prototype.na=function(){return"RoomDarkPurpleTopic"};SF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"darkpurple",Xb:void 0})};function TF(){Z.apply(this,arguments)}q(TF,Z);TF.prototype.na=function(){return"RoomDarkBlueTopic"};TF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"darkblue",Xb:void 0})};function UF(){Z.apply(this,arguments)}q(UF,Z);UF.prototype.na=function(){return"RoomLightBlueTopic"};UF.prototype.N=function(a){return Object.assign(Object.assign(Object.assign({},Z.prototype.N.call(this,a)),pt(a)),{Te:"lightblue",Xb:void 0})};function VF(a,b){$y.call(this,{broadcaster_uid:a,show_id:b});if(0===a.length)throw Error("room uid cannot be empty");if(0===b.length)throw Error("show ID cannot be empty");}q(VF,$y);VF.prototype.getKey=function(){return this.na()+":"+this.Qc+":"+this.fM};VF.prototype.initData=function(a){this.Qc=a.broadcaster_uid;this.fM=a.show_id};function WF(){VF.apply(this,arguments)}q(WF,VF);WF.prototype.na=function(){return"PrivateRoomMessageTopic"};WF.prototype.N=function(a){return Object.assign(Object.assign({},VF.prototype.N.call(this,a)),lt(a))};function XF(){VF.apply(this,arguments)}q(XF,VF);XF.prototype.na=function(){return"PrivateRoomTipAlertTopic"};XF.prototype.N=function(a){return Object.assign(Object.assign({},VF.prototype.N.call(this,a)),{T:it(a),message:Q(a,"message",!1),amount:U(a,"amount"),Aq:T(a,"is_anonymous_tip"),Za:T(a,"is_broadcaster"),history:T(a,"history",!1,!1),fp:Q(a,"to_username")})};function YF(a){var b={onRoomCountUpdate:"#room_count",onTitleChange:"#room_title_change",onPromotion:"#mod_promoted",onRevoke:"#mod_revoked",onSilence:"#room_silence",onKick:"#room_kick"};return void 0===b[a]?"":b[a]}var ZF=0;function $F(a){this.B=a;this.XB=[];this.listeners=new La;this.nr=new La}
function aG(a){var b=Dm.getState(),c=b.Qc,d=b.dC,e=[];""!==c&&e.push({name:"roomTitleChange",Xa:new uF(c),pb:a.B.event.Tm,eb:[23,16],Id:{R:!0},ee:function(f){return{title:f.O[0],R:"0"===f.O[1]?"":YF(f.method)}},We:lF,R:"#room_title_change"},{name:"roomTipAlert",Xa:new vF(c),pb:a.B.event.es,eb:[4,18],Id:{Za:!0,history:!0,T:!0},ee:function(f){return Object.assign(Object.assign({},f),{Za:!1,history:!1})},delay:6E3,We:lF},{name:"roomStatus",Xa:new wF(c),pb:a.B.event.Tc,eb:[23],Id:{message:!0,R:!0},ee:function(f){return{status:f.Ea,message:"",R:"#room_status"}},We:oF,delay:0,R:"#room_status"},{name:"roomMessage",Xa:new yF(c),pb:a.B.event.Av,eb:[0,1,2,18],Id:{Uf:!0,backgroundColor:!0,T:!0,xu:!0,gf:!0,font:!0},ee:function(f){return Object.assign(Object.assign({},f),{message:f.message.trim()})},delay:6E3,We:lF},{name:"roomSilence",Xa:new zF(c),pb:a.B.event.Tm,eb:[23],Id:{R:!0},ee:function(f){return{username:f.O[0],T:f.O[1],R:YF(f.method)}},We:lF,R:"#room_silence"},{name:"roomKick",Xa:new AF(c),pb:a.B.event.Tm,eb:[23],Id:{R:!0,T:!0},ee:function(f){return{username:f.O[0],T:"Unknown",R:YF(f.method)}},We:lF,R:"#room_kick"},{name:"roomModPromoted",Xa:new BF(c),pb:a.B.event.Tm,eb:[23],Id:{R:!0},ee:function(f){return{username:f.O[0],T:f.O[1],R:YF(f.method)}},We:lF,R:"#mod_promoted"},{name:"roomModRevoked",Xa:new CF(c),pb:a.B.event.Tm,eb:[23],Id:{R:!0},ee:function(f){return{username:f.O[0],T:f.O[1],R:YF(f.method)}},We:lF,R:"#mod_revoked"},{name:"roomNotice",Xa:new DF(c),pb:a.B.event.Ej,eb:[5],We:lF},{name:"roomAppLog",Xa:new FF(c),pb:a.B.event.yv,eb:[3],We:lF},{name:"roomPurchase",Xa:new GF(c),pb:a.B.event.Cv,eb:[21],delay:6E3,We:lF},{name:"roomFanclubJoined",Xa:new HF(c),pb:a.B.event.Cv,eb:[22],delay:6E3,We:lF},{name:"roomSettings",Xa:new IF(c),pb:a.B.event.Jj,eb:[]},{name:"roomAppLog",Xa:new FF(c),pb:a.B.event.yv,eb:[3]},{name:"roomPurchase",Xa:new GF(c),pb:a.B.event.Cv,eb:[],delay:6E3},{name:"roomSettings",Xa:new IF(c),pb:a.B.event.Jj,eb:[],We:lF});Ry()&&""!==c&&e.push({name:"roomEnterLeave",Xa:new JF(c),pb:a.B.event.GA,eb:[14,23],Id:{R:!0,sc:!0},ee:function(f){return Object.assign(Object.assign({},f),{R:"#room_enter_leave"})},delay:1E3,We:nF,R:"#room_enter_leave"},{name:"roomCount",Xa:new tF(c),pb:a.B.event.Tm,eb:[23],Id:{R:!0},ee:function(f){return{count:parseInt(f.O[0]),qC:0,xC:0,R:YF(f.method)}},We:mF,R:"#room_count"});a.B.xc||void 0===d||(e.push({name:"userTipAlert",Xa:new oz(d),pb:a.B.event.es,eb:[3,15],Id:{Za:!0,history:!0,T:!0},delay:6E3},{name:"appTabRefresh",Xa:new mz(d),pb:a.B.event.sC,eb:[3,23],ee:function(){return{target:"app_tab_refresh",R:"#app_tab_refresh"}},R:"#app_tab_refresh"},{name:"userAlert",Xa:new tz(d),pb:a.B.event.pE,eb:[],Id:{message:!0}}),""!==c&&e.push({name:"roomUserNotice",Xa:new EF(c,d),pb:a.B.event.Ej,eb:[12],Id:{Xb:!0}}),b.gd&&""!==c&&(e.push({name:"roomModGroup",Xa:new PF(c),pb:a.B.event.Ej,eb:[6]}),Ry()&&e.push({name:"roomPrivilegedEnter",Xa:new KF(c),pb:a.B.event.PG,eb:[14,13,23],Id:{R:!0,sc:!0},ee:function(f){return Object.assign(Object.assign({},f),{R:"#privileged_enter"})},delay:1E3,R:"#privileged_enter"},{name:"roomPrivilegedLeave",Xa:new LF(c),pb:a.B.event.QG,eb:[14,13,23],Id:{R:!0,sc:!0},ee:function(f){return Object.assign(Object.assign({},f),{R:"#privileged_leave"})},R:"#privileged_leave"})),b.fo&&""!==c&&e.push({name:"fanclubGroupNotice",Xa:new QF(c),pb:a.B.event.Ej,eb:[7]}),void 0!==b.os&&""!==c&&(b.os.Gf&&e.push({name:"lightBlueGroupNotice",Xa:new UF(c),pb:a.B.event.Ej,eb:[8]}),b.os.Eg&&e.push({name:"darkBlueGroupNotice",Xa:new TF(c),pb:a.B.event.Ej,eb:[9]}),b.os.LM&&e.push({name:"lightPurpleGroupTopic",Xa:new RF(c),pb:a.B.event.Ej,eb:[10]}),b.os.Fg&&e.push({name:"darkPurpleGroupTopic",Xa:new SF(c),pb:a.B.event.Ej,eb:[11]})));bG(a,e)}
function cG(a,b,c){""!==c&&""!==b&&(Ma(a.nr),b=[{name:"privateRoomMessage",Xa:new WF(b,c),pb:a.B.event.Av,eb:[0,1,2,17],Id:{Uf:!0,backgroundColor:!0,T:!0,xu:!0,gf:!0},ee:function(d){return Object.assign(Object.assign({},d),{message:d.message.trim()})},delay:6E3},{name:"privateRoomTipAlert",Xa:new XF(b,c),pb:a.B.event.es,eb:[4,17],Id:{Za:!0,history:!0,T:!0},ee:function(d){return Object.assign(Object.assign({},d),{Za:!1,history:!1})},delay:6E3}],bG(a,b,!0))}
function bG(a,b,c){c=void 0===c?!1:c;b.forEach(function(d){var e=Vy(d.Xa.getKey()),f=dG(a,d.name,d.delay,d.Id,d.We),g=c?a.nr:a.listeners;g.add(d.pb.h(function(h){h=void 0!==d.ee?d.ee(h):h;eG(a,d.eb,h,d.R)&&e&&f.verify(h,"wowza",Vy(d.Xa.getKey()))},!1));g.add(d.Xa.Cm.h(function(h){return e=h}));g.add(d.Xa.Ib.h(function(h){eG(a,d.eb,h,d.R)&&e&&f.verify(h,"push",Vy(d.Xa.getKey()))}))});150>ZF&&fG(a)}
function eG(a,b,c,d){if(gG.has(a.B.status))return!1;b=l(b);for(var e=b.next();!e.done;e=b.next())if(e=e.value,0===e){if(yr(c.T.username))return!1}else if(1===e){if(void 0===c.R)return!1}else if(2===e){if(!0===c.xu)return!1}else if(3===e){if(!a.B.nc)return!1}else if(4===e){if(a.B.nc)return!1}else if(13===e){if(!a.B.nc&&!a.B.gd)return!1}else if(14===e){if(c.cb.username===a.B.username())return!1}else if(15===e){if(c.T.username===a.B.username())return!1}else if(16===e){if(""===c.title)return!1}else if(19===e){if("app_tab_refresh"!==c.target)return!1}else if(20===e){if("refresh_panel"!==c.target)return!1}else if(17===e){if(!hG(a.B))return!1}else if(18===e){if(hG(a.B))return!1}else if(5===e){if(e=c,void 0!==e.Te||void 0!==e.Xb)return!1}else if(6===e){if("red"!==c.Te)return!1}else if(7===e){if("green"!==c.Te)return!1}else if(8===e){if("lightblue"!==c.Te)return!1}else if(9===e){if("darkblue"!==c.Te)return!1}else if(10===e){if("lightpurple"!==c.Te)return!1}else if(11===e){if("darkpurple"!==c.Te)return!1}else if(12===e){if(void 0===c.Xb)return!1}else if(21===e){if(c.content.includes("fan club"))return!1}else if(22===e){if(!c.content.includes("fan club"))return!1}else if(23===e&&void 0!==d){if(c.R!==d)return!1}else if(0>e&&""===c.R)return!1;return!0}function dG(a,b,c,d,e){d=void 0===d?{}:d;e=void 0===e?aF:e;b=new e(a.B,b,void 0===c?2E3:c,Object.assign(Object.assign({},d),{Pb:!0,xG:!0}));a.XB.push(b);return b}
$F.prototype.yB=function(){for(var a=l(this.XB),b=a.next();!b.done;b=a.next())b.value.stop(),--ZF;Ma(this.listeners);Ma(this.nr)};function fG(a){a=l(a.XB);for(var b=a.next();!b.done;b=a.next())b.value.start(),ZF+=1}var gG=new Set(["unknown","notconnected","offline"]);var iG={jd:1,height:0,name:"",oi:"",width:0,sp:""};function jG(a){this.$v="%%%[";this.bq="]%%%";this.zF=/((^|\s)@\w+)/;this.Qe=a.Qe;this.kh=a.kh;this.$b=a.$b}function kG(a,b){var c=document.createElement("span");c.className="emoticonImage";lG(a,b).forEach(function(d){switch(d.jd){case 0:d=d.Rd;""!==d&&c.appendChild(mG(a,d));break;case 1:""!==d.name?c.appendChild(nG(a,d)):c.appendChild(mG(a,""))}});return c}
function lG(a,b){var c=[],d=[];if(0>b.indexOf(a.$v))return[{jd:0,Rd:b}];for(var e=0;e<b.length;e+=1)if("%"===b[e])if(b.slice(e,e+a.$v.length)===a.$v){var f=e+b.slice(e,b.length).indexOf(a.bq);if(b.slice(f,f+a.bq.length)===a.bq){c!==[]&&d.push({jd:0,Rd:c.join("")});c=[];e=b.slice(e,f+a.bq.length);if(e.slice(a.$v.length).startsWith("emoticon")){b:{e=e.replace("%%%[emoticon ","").replace("]%%%","");e=e.split(/\|/);if(6===e.length){if(e={jd:1,name:e[0],bp:e[1],width:oG(e[2])?Number(e[2]):80,height:oG(e[3])?Number(e[3]):80,oi:e[4],sp:e[5]},void 0!==e.bp&&pG(e.bp))break b}else if(5===e.length&&(e={jd:1,name:e[0],oi:e[1],width:oG(e[2])?Number(e[2]):80,height:oG(e[3])?Number(e[3]):80,sp:e[4]},pG(e.oi)))break b;e=void 0}void 0===e&&(w("Cannot parse emoticon: "+e),e=iG)}else e={jd:0,Rd:e};d.push(e);e=f+a.bq.length-1}}else c.push(b[e]);else c.push(b[e]);c!==[]&&d.push({jd:0,Rd:c.join("")});return d}
function nG(a,b){if(a.Qe&&-1===a.kh.indexOf(b.name)){var c=document.createElement("img"),d=b.bp;c.src=void 0!==d?d:b.oi;a.$b?(b.width*=.5,b.height*=.5):(c.title=":"+b.name,c.style.cursor="pointer",c.onclick=function(){qA.j({Td:b.name,url:b.oi})});c.name=b.name;c.height=b.height;c.width=b.width;c.style.verticalAlign="top";return c}c=document.createElement("span");c.style.color="lightskyblue";c.innerText=(a.$b?"":":")+b.name;a.$b||(c.style.cursor="pointer",c.onclick=function(){qA.j({Td:b.name,url:b.oi})});return c}function mG(a,b){var c=document.createElement("span");a.zF.test(b)?b.split(a.zF).forEach(function(d){var e=/^\s/.test(d);if("@"===d.trim().charAt(0)){var f=document.createElement("span");f.innerText=d.trimStart();f.className="username-mention";e&&c.appendChild(document.createTextNode(" "));c.appendChild(f)}else 0<d.trim().length&&c.appendChild(document.createTextNode(d))}):c.innerText=b;return c}
function pG(a){return null===a.match(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g)?(w("Invalid emoticon URL"),!1):!0}function oG(a){return isNaN(parseInt(a,10))?(w("Invalid dimension argument"),!1):!0};function qG(a,b){var c=this,d,e;this.C=a;this.Ma=b;this.Gd=new La;this.iA=new La;this.hs=new $F(this.Ma);rG(this);a=null!==(d=this.C.dC)&&void 0!==d?d:"";var f=null!==(e=this.C.Qc)&&void 0!==e?e:"",g=Dm.getState().gd;Ry()&&sG(this,f,a);tG(this,a);uG(this,f);vG(this,f,a);wG(this,f,g);r(Dm.tj.h(function(h){Dm.getState();g=Dm.getState().gd;h.gd!==g&&wG(c,f,g)}),this.Gd);aG(this.hs);this.qK=window.setTimeout(function(){var h="open"===c.Ma.Xe.readyState(),m=Qy();(h||m)&&L("PushServiceConnectionStatus",{wowza_connected:h,push_connected:m,push_connection_type:void 0===Oy?"":Oy.iE()})},1E4)}
function rG(a){r(a.Ma.event.Av.h(function(b){if(!(1E3>(new Date).valueOf()-a.Ma.lo.valueOf())){var c=b.T.username===a.Ma.username();b.xu||!c||gG.has(a.Ma.status)||void 0===b.R||(c=lG(new jG({Qe:!0,kh:[],$b:!1}),b.message).map(function(d){switch(d.jd){case 0:return d.Rd;case 1:return":"+d.name}}).join(""),b=JSON.stringify({m:c,f:"",c:"",tid:b.R}),F("push_service/publish_chat_message/",{room:a.C.A,message:b,private_show_id:Dm.getState().Xk}).catch(function(d){403===d.$d.status||w("(Push Service) calling publish_chat_message returned an error",d)}))}},!1),a.Gd)}function tG(a,b){a.Ma.xc||""===b||(r((new lz(b)).Ib.h(function(c){yr(c.T.username)||st.j(c)}),a.Gd),r((new uz(b)).Ib.h(function(c){QA(c.rj,c.gK)}),a.Gd),r((new vz(b)).Ib.h(function(c){c.mK?UA.j(c.ic):TA.j(c.ic)}),a.Gd))}
function uG(a,b){""!==b&&(r((new BF(b)).Ib.h(function(c){a.Ma.username()===c.username&&Cm({gd:!0})}),a.Gd),r((new CF(a.C.Qc)).Ib.h(function(c){a.Ma.username()===c.username&&Cm({gd:!1})}),a.Gd),r((new vF(b)).Ib.h(function(c){if(gu()&&"offline"===(null===Hu||void 0===Hu?void 0:Hu.C.Ga)&&!0!==Em.current.Ry){var d=[""===c.T.username?Y(af):ft(c.T),Y(" tipped "+c.amount+" "+(1<c.amount?"tokens":"token"))];""!==c.message&&d.push(Y(" -- "+c.message));c.Aq&&d.push(Y(" anonymously"));tt.j({sa:[d],background:"#ff3",zb:"#000",weight:"bold",ya:!1,Xq:0,hi:c.T.username,fp:c.fp})}}),a.Gd),r((new yF(b)).Ib.h(function(c){var d=a.Ma;Iu(d.d)&&"offline"===d.d.Ga&&!yr(c.T.username)&&a.Ma.event.Jo.j(c)}),a.Gd),r((new HF(b)).Ib.h(function(c){var d=Dm.getState();c.T.username===d.userName&&Cm({fo:!0})}),a.Gd),r((new wF(b)).Ib.h(function(c){Cm({Ga:c.status})}),a.Gd),a.Ma.xc||(r((new MF(b)).Ib.h(function(){var c="privaterequesting"===Dm.getState().Ga;Cm({Ga:c?"privatewatching":"privatenotwatching"})}),a.Gd),r((new NF(b)).Ib.h(function(){Cm({Xk:"",Ga:"away"});Ma(a.hs.nr)}),a.Gd)))}function vG(a,b,c){a.Ma.xc||""===b||""===c||(r((new OF(b,c)).Ib.h(function(d){switch(d.status){case "started":Cm({Xk:d.Xk});cG(a.hs,b,d.Xk);break;case "stopped":case "declined":Cm({Xk:""});Ma(a.hs.nr);break;case "requested":Cm({Ga:"privaterequesting"})}}),a.Gd),r((new xF(b,c)).Ib.h(function(d){Cm({Ga:d.status})}),a.Gd))}function wG(a,b,c){""!==b&&(c?(r((new qF(b)).Ib.h(function(){}),a.iA),r((new KF(b)).Ib.h(function(){}),a.iA)):Ma(a.iA))}
function sG(a,b,c){""!==b&&(a.Ma.xc?r((new sF(b)).Ib.h(function(){}),a.Gd):""!==c&&(a.OG=new rF(b,c),b="",""!==a.C.dc&&(b=Q(new N(a.C.dc),"hashtag")),a.OG.St({exploring_hash:b,source_name:Cq(a.C.sc)})))}qG.prototype.mx=function(){var a;window.clearTimeout(this.qK);null===(a=this.OG)||void 0===a?void 0:a.Hu();Ma(this.Gd);this.hs.yB()};function xG(a){var b=!0,c=this;b=void 0===b?!1:b;this.d=a;this.rk=new Date;this.lo=new Date;this.status=this.Nc="offline";this.yp=this.gd=!1;this.wG="";this.nc=!1;this.dc="";this.sc="un";this.event={Pu:new t("messageSent"),Jo:new t("roomMessage"),Ia:new t("roomNotice"),Ej:new t("roomNoticeWowza"),yv:new t("roomAppErrorWowza"),Av:new t("roomMessageWowza"),Tm:new t("roomControlWowza"),Cv:new t("roomPurchaseWowza"),GA:new t("roomEnterLeave"),PG:new t("roomPrivilegedEnter"),QG:new t("roomPrivilegedLeave"),pE:new t("handleComplianceImage"),vG:new t("privateMessage"),Tc:new t("statusChange",{ef:15}),CE:new t("hiddenMessageChange"),uA:new t("refreshPanel"),BB:new t("titleChange"),UI:new t("clearApp"),wv:new t("removeMessages"),Jj:new t("settingsUpdate"),FA:new t("roomCountUpdate"),DF:new t("modStatusChange"),DB:XB,hL:new t("privateShowRequest"),gr:new t("playSound"),sC:new t("appTabRefresh"),Nw:new t("appDebugLog"),es:new t("tipAlert"),aP:new t("leftRoom"),aJ:new t("connectionLost"),Yu:new t("onBanSilence")};this.og=function(d){c.d.A===c.d.userName?(w("Error: cannot ignore users in this room"),new Promise(function(){return!1})):(c.event.Ia.j({sa:[[Y("Ignoring "+d)]],ya:!0}),F("api/ts/chat/ignored-users/",{username:d}).then(function(e){if("max"===e.responseText)return c.event.Ia.j({sa:[[Y("Please signup/login to enable this feature.")]],ya:!0}),!1;vr.add(d);wr();return!0}).catch(function(e){w("Error posting ignore user: "+e);return!1}))};this.JB=function(d){c.event.Ia.j({sa:[[Y("No longer ignoring "+d)]],ya:!0});zc("api/ts/chat/ignored-users/",{username:d}).then(function(){vr.delete(d);wr();return!0}).catch(function(e){w("Error posting unignore user: "+e);return!1})};this.nc=this.username()===this.A();this.xc=0===a.Bn.indexOf("__anonymous__");!1===this.xc&&xr();this.gd=a.gd;this.bl=a.za.bl;this.cl=a.za.cl;this.oM=this.nc?"public":a.Ga;this.Pe=a.Pe;this.Fh=a.Fh;this.dc=this.d.dc;this.sc=this.d.sc;this.Xe=new HE(this.d,this.event,this);b&&(this.lL=new qG(this.d,this));cu(this,"notconnected")}k=xG.prototype;k.hk=function(){return this.d.hk};k.disconnect=function(){var a;this.Xe.disconnect();null===(a=this.lL)||void 0===a?void 0:a.mx()};function cu(a,b){b!==a.status&&(a.Nc=a.status,a.status=b,a.nc&&"notconnected"===a.Nc&&"public"===a.status&&tD(),a.lo=new Date,a.event.Tc.j({Nc:a.Nc,Ea:a.status}))}function yG(a){a.yp=!a.yp;nr.j(a.yp)}
function RE(a){switch(a.status){case "privatewatching":return!0;case "privaterequesting":case "privatenotwatching":case "passwordprotected":case "public":case "away":case "hidden":case "offline":case "privatespying":case "notconnected":return!1;default:return u("unexpected status: "+a.status),!1}}
function zG(a,b,c){b=void 0===b?"a":b;c=void 0===c?!0:c;if("offline"===a.status||"notconnected"===a.status||"unknown"===a.status)return new Promise(function(e){e({js:0,un:0,Hg:[]})});if(void 0!==a.Br)return a.Br;var d={roomname:a.A(),"private":RE(a),sort_by:b,exclude_staff:c};a.Br=new Promise(function(e,f){E("api/getchatuserlist/?"+Cn(d)).then(function(g){g=new EE(g.responseText);e(g);a.Br=void 0}).catch(function(g){f(g);a.Br=void 0})});return a.Br}
function AG(a,b){a.event.Pu.j(void 0);L("SendRoomMessage");var c=Math.floor((new Date).getTime()/100)+":"+Sb()[0];b=JSON.stringify({m:b,f:"",c:"",tid:c});hu(a.Xe,RE(a)?"messagePrivateRoom":"messageRoom",{room:a.d.A,msg:b})}function BG(a){hu(a.Xe,"updateRoomCount",{room_uid:a.d.Qc,model_name:a.A(),private_room:hG(a)})}function CG(a,b){hu(a.Xe,"kickUser",{user:b,room:a.A()})}
function oD(a,b,c,d){return new Promise(function(e,f){"public"!==a.status?f("unexpected status: "+a.status):F("tipping/private_show_request/"+a.A()+"/",{chat_username:a.username(),price:""+b,private_show_minimum_minutes:""+c,recordings_allowed:""+d}).then(function(g){g=new N(g.responseText);var h=Q(g,"message",!1);T(g,"success")?(ho(g),cu(a,"privaterequesting"),Cm({Ga:"privaterequesting"}),a.event.Ia.j({sa:[[Y(ke)]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0}),e("")):(""===h&&(w("unknown cannot start private show reason"),h="Cannot start private show."),e(h))}).catch(function(g){f(g)})})}
function qD(a){return new Promise(function(b,c){"privatenotwatching"!==a.status?c("unexpected status: "+a.status):F("tipping/spy_on_private_show_request/"+a.A()+"/",{chat_username:a.username()}).then(function(d){d=new N(d.responseText);var e=T(d,"success"),f=Q(d,"message",!1);ho(d);e?(cu(a,"privatespying"),Cm({Ga:"privatespying"}),a.event.Ia.j({sa:[[Y("You are spying on the private show")]],zb:"#222",background:"#ff8b45",weight:"bold",ya:!0}),b("")):(""===f&&(f="Error joining spy show"),b(f))}).catch(function(d){c(d)})})}
function Fu(a){return new Promise(function(b,c){var d="tipping/private_show_cancel/"+a.A()+"/",e=a.status;F(d,{}).then(function(f){f=new N(f.responseText);var g=T(f,"success"),h=U(f,"remaining_seconds"),m=S(f,"private_show_minimum_minutes");ho(f);switch(e){case "privatewatching":if(!g){0===h?b(ie):(f="You have started a private show with a "+m+" minute minimum. You cannot cancel your private show yet. It still has "+(h+" seconds remaining."),b(f));break}b("");break;case "privatespying":if(!g){b("Unable to cancel spy show");break}cu(a,"privatenotwatching");Cm({Ga:"privatenotwatching"});b("");break;case "privaterequesting":if(!g){b("Unable to cancel private request");break}b("");break;default:u("leave private show from status: "+e),g?b(""):b("Unable to leave private show from status: "+e)}}).catch(c)})}function bu(a){hu(a.Xe,"joinRoom",{room:a.A(),exploringHashTag:a.dc,source_name:a.sc});a.dc="";a.sc="df"}function du(a){window.setTimeout(function(){hu(a.Xe,"joinPrivateRoom",{room:a.A()})},500)}
function hG(a){return"privatewatching"===a.status}k.A=function(){return this.d.A};k.md=function(){return this.d.md};k.username=function(){return this.d.Bn};function DG(a){var b=vr;return void 0===b?(w("ignoreSet should not be undefined"),!1):b.has(a)}
function Cu(a,b,c){if(c.username===a.username())return!1;if(c.username===bD)return!0;if(3!==b)if(2===b){if(c.username===a.A()||c.Lc||c.je)return!0}else if(1===b){if(c.username===a.A()||c.Lc||c.je||c.Gf&&(a.nc||a.gd))return!0}else if(0===b&&(c.username===a.A()||c.Lc||c.je||a.nc||a.gd))return!0;return!1}var Eu=new Set(["privatewatching","privatenotwatching","privatespying"]);function EG(a,b,c){x.call(this);var d=this;this.username=a;this.message=b;this.B=c;this.Mn=[];this.bm=[];this.Yy=!1;this.nt=new t("closeChatReportRequest");this.qL=new t("reportSent");this.eK=new t("ignoreReportedUser");this.RM=function(f){f.stopPropagation();27===f.keyCode?d.nt.j(!1):9===f.keyCode&&(f.preventDefault(),d.Yy?FG(d,d.bm,f.shiftKey):FG(d,d.Mn,f.shiftKey))};y(this.element,"chatReport");this.element.style.position="static";this.element.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.element.style.fontSize="11px";this.form=document.createElement("form");b=document.createElement("div");a=document.createElement("div");this.Bd=document.createElement("textarea");this.form.appendChild(b);this.form.style.width="100%";y(b,"headerDiv");b.style.margin="6px";b.style.fontSize="13px";b.innerText=Sh+" "+this.username;void 0===this.message?(w("ChatReport error: expected categories override"),b={}):b=!0===this.message.az&&0<this.message.ib.length?{inappropriate:Nh,rude:Oh,spam:Ph,photo:Qh,other:Rh}:{inappropriate:Nh,rude:Oh,spam:Ph,other:Rh};c={};for(var e in b)c.Pi=document.createElement("label"),c.cg=document.createElement("input"),c.Qi=document.createElement("span"),c.Pi.style.display="block",c.Pi.style.margin="6px 8px",c.cg.type="radio",c.cg.style.margin="0 4px 0 2px",c.cg.name="chatReport",c.cg.value=e,c.Qi.innerText=b[e],c.Pi.appendChild(c.cg),c.Pi.appendChild(c.Qi),this.form.appendChild(c.Pi),c.Pi.onclick=function(f){return function(){d.Js=f.cg}}(c),this.Mn.push(c.cg),window.setTimeout(function(f){return function(){var g=f.Pi.offsetWidth-f.cg.offsetWidth-6;var h=f.Qi.innerText;var m=f.Qi,n=bn.getContext("2d");null!==n?(n.font=getComputedStyle(m).font,h=n.measureText(h).width):h=0;h>g&&(f.cg.style.display="inline-block",f.cg.style.marginBottom="5px",f.Qi.style.display="inline-block",f.Qi.style.width=g+"px",f.Qi.style.verticalAlign="bottom")}}(c),0),c={cg:c.cg,Pi:c.Pi,Qi:c.Qi};a.style.margin="6px 8px";this.Bd.draggable=!1;this.Bd.style.resize="none";this.Bd.style.boxSizing="border-box";this.Bd.style.height="40px";this.Bd.style.width="100%";this.Bd.style.borderWidth="1px";this.Bd.style.borderStyle="solid";this.Bd.maxLength=255;this.Bd.oninput=function(){d.Bd.value=d.Bd.value.slice(0,255)};a.appendChild(this.Bd);this.form.appendChild(a);this.Mn.push(this.Bd);this.zn=document.createElement("div");this.zn.style.margin="0 0 8px";this.zn.style.cssFloat="right";this.zn.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";e=document.createElement("button");y(e,"submitButton");e.type="submit";e.innerText=Th;e.style.fontSize="11px";e.style.padding="4px 6px 4px 6px";e.style.marginRight="8px";e.style.borderRadius="4px";e.style.boxSizing="border-box";e.style.cursor="pointer";e.style.display="inline-block";a=document.createElement("span");y(a,"cancelSpan");a.innerText=wh;a.style.fontSize="11px";a.style.padding="4px 6px 4px 6px";a.style.marginRight="8px";a.style.borderRadius="4px";a.style.boxSizing="border-box";a.style.cursor="pointer";a.style.display="inline-block";this.zn.appendChild(a);this.zn.appendChild(e);this.form.appendChild(this.zn);this.Mn.push(a);this.Mn.push(e);GG(this);B("submit",this.form,function(f){f.preventDefault();d.Bd.blur();void 0===d.Js?V(Tf,d.Vt.bind(d)):"other"===d.Js.value&&""===d.Bd.value.trim()?V(Mh,d.GJ.bind(d)):(d.VA().then(function(g){g.success?(g=d.username,g=H(G("%(username)s has been reported"),{username:g},!0),d.ln.innerText=g):d.ln.innerText=Uh}).catch(function(g){d.ln.innerText=403===g.$d.status?Vh:Uh}),d.qL.j(void 0),HG(d))});B("click",a,function(f){f.preventDefault();d.nt.j(!1)});this.element.appendChild(this.form);this.element.appendChild(this.Jn);B("keydown",this.element,this.RM)}q(EG,x);function HG(a){var b=a.element.offsetWidth,c=a.element.offsetHeight;a.form.style.display="none";a.Jn.style.display="block";a.Jn.style.width=b+"px";a.Jn.style.height=c+"px";a.$i.style.padding=c/2-a.$i.offsetHeight/2+"px 0 0";a.Yy=!0}
EG.prototype.VA=function(){var a=this;return new Promise(function(b,c){var d=void 0===a.Js?"":a.Js.value,e=a.Bd.value;if(void 0===a.message){w("ChatReport error: expected reportEndpoint override");var f=""}else f="chatmessages/report/"+a.message.gf+"/";return F(f,{spammer:a.username,category:d,additional_comments:e}).then(function(g){g=new N(g.responseText);g={success:"success"===P(g,"result"),Ky:P(g,"html")};b(g)}).catch(function(g){c(g)})})};function GG(a){a.Jn=document.createElement("div");a.$i=document.createElement("div");a.ln=document.createElement("div");a.Nb=document.createElement("button");var b=[],c=document.createElement("button");a.bm.push(a.Nb);for(var d=l(b),e=d.next();!e.done;e=d.next())a.bm.push(e.value);a.bm.push(c);a.ln.innerText=Qd;a.ln.style.margin="0 0 8px 0";a.ln.style.textAlign="center";y(a.Nb,"ignoreUserLink");y(c,"closeReportLink");a.Nb.style.textAlign="center";a.Nb.style.fontSize="13px";a.Nb.style.display="block";a.Nb.style.margin="0 auto 8px";a.Nb.style.background="none";a.Nb.style.border="none";a.Nb.style.cursor="pointer";void 0!==a.B&&IG(a,DG(a.username));d=l(b);for(e=d.next();!e.done;e=d.next())e=e.value,e.style.textAlign="center",e.style.fontSize="13px",e.style.display="block",e.style.margin="0 auto 8px",e.style.background="none",e.style.border="none",e.style.cursor="pointer";c.innerText=uh;c.style.textAlign="center";c.style.fontSize="13px";c.style.display="block";c.style.margin="0 auto 8px";c.style.background="none";c.style.border="none";c.style.cursor="pointer";JG(c);a.Jn.style.display="none";a.$i.style.fontSize="13px";a.$i.style.fontFamily="Arial, Helvetica, sans-serif";a.$i.appendChild(a.ln);void 0!==a.B&&a.B.username()!==a.B.A()&&a.$i.appendChild(a.Nb);b=l(b);for(e=b.next();!e.done;e=b.next())a.$i.appendChild(e.value);a.$i.appendChild(c);a.Jn.appendChild(a.$i);B("click",c,function(f){f.preventDefault();a.nt.j(!0)})}
function KG(a){a.Nb.disabled=!0;a.Nb.style.cursor="default";a.Nb.style.textDecoration="none";a.Nb.onmouseenter=function(){};a.Nb.onmouseleave=function(){};a.Nb.onclick=function(){};y(a.Nb,"disabled");var b=a.bm.indexOf(a.Nb);-1!==b&&a.bm.splice(b,1);a.Nb.blur()}function FG(a,b,c){if(document.activeElement instanceof HTMLElement){var d=b.indexOf(document.activeElement);-1===d?a.Vt():(c?(a=d-1,0>a&&(a+=b.length)):a=(d+1)%b.length,b[a].focus())}else a.Vt()}
function IG(a,b){void 0!==a.B&&(b?(a.Nb.innerText=dd(a.username),KG(a)):(a.Nb.innerText=ed(a.username),z(a.Nb,"disabled"),JG(a.Nb),a.Nb.disabled=!1,a.Nb.onclick=function(){Hr()?a.Nb.innerText=Lg:(L("IgnoreUser",{username:a.username,location:"PMTab"}),void 0!==a.B&&a.B.og(a.username),a.Nb.innerText=dd(a.username),a.eK.j(void 0));KG(a)}))}EG.prototype.GJ=function(){this.Bd.focus()};EG.prototype.Vt=function(){this.Yy?this.bm[0].focus():this.Mn[0].focus()};EG.prototype.yB=function(){};function JG(a){a.onmouseenter=function(){a.style.textDecoration="underline"};a.onmouseleave=function(){a.style.textDecoration="none"}};var LG=new t("switchedToHLS");new t("openTipCalloutRequest");new t("loadRoomRequest");new t("userPanelRequest");new t("sendMessageInputFocus");new t("sendMessageInputBlur");new t("siteHeaderMenuOpened");new t("tabChanged");function MG(a,b){var c=document.createElement("div");c.innerText=a;c.style.color="#72C0FF";c.style.cursor="pointer";c.style.paddingTop="5px";c.onmouseenter=function(){c.style.textDecoration="underline"};c.onmouseleave=function(){c.style.textDecoration="none"};c.style.pointerEvents="auto";c.onclick=function(d){b(d)};return c}
function NG(a){a=void 0===a?!0:a;x.call(this);var b=this;this.qG=a;this.ro=MG("More Rooms",function(d){ir.j(void 0);d.stopPropagation()});this.Mj=new Map;this.nh=MG("",function(){});this.cM=!0;this.km="";this.Bq=!1;this.element.style.display="none";this.element.style.position=this.qG?"fixed":"absolute";this.element.style.height="auto";this.element.style.width="auto";this.element.style.boxSizing="border-box";this.element.style.padding="0 50px";this.element.style.left="0";this.element.style.textAlign="center";this.element.style.pointerEvents="none";this.element.style.zIndex="1";this.ja=document.createElement("div");this.ja.style.fontSize="32px";this.ja.style.lineHeight="32px";this.ja.style.color="#72c0ff";this.ja.style.marginBottom="20px";this.element.appendChild(this.ja);this.body=document.createElement("div");this.body.style.fontSize="16px";this.body.style.color="#ffffff";this.text=document.createElement("span");this.body.appendChild(this.text);this.ro.style.display="none";this.body.appendChild(this.ro);this.nh.style.display="none";this.body.appendChild(this.nh);this.element.appendChild(this.body);var c=new La;M.h(function(d){b.Rx=d.B;r(d.B.event.Tc.h(function(e){OG(b,d.B,e.Ea)}),c);r(d.B.event.CE.h(function(e){b.km=e}),c);r(LG.h(function(){b.Ai=!0;OG(b,d.B,d.C.Ga)}),c);b.km=d.C.km;OG(b,d.B,d.C.Ga)});Tn.h(function(){Ma(c);b.km="";b.Xd=!1});this.Mj.set("away",function(){b.ja.innerText="Performer Is Away";b.text.innerText="You may continue chatting while you wait for the broadcaster to return.";b.nh.style.display="none";PG(b,!0);b.element.style.display="block"});this.Mj.set("privatenotwatching",function(d){b.ja.innerText="Private Show In Progress";b.text.innerText="You may continue chatting while you wait for the broadcaster to return from the private show. If a goal had been set when the broadcaster returns it will continue where it left off.";void 0===b.Ai?w("unexpected"):!0===b.Ai&&(b.nh.innerText="SPY ON THIS PRIVATE SHOW",b.nh.style.display="block",b.nh.onclick=function(){pD(d)},b.nh.style.display="block");PG(b,!0);b.element.style.display="block"});this.Mj.set("hidden",function(){b.ja.innerText="Cam is Hidden";b.text.innerText=b.km;b.nh.style.display="none";PG(b,!1);b.element.style.display="block"});this.Mj.set("offline",function(){b.ja.innerText="Offline";b.text.innerText="The member you are trying to view is currently offline. Please wait or choose another member to view.";b.nh.style.display="none";b.element.style.display="block";PG(b,!0)});this.Mj.set("passwordprotected",function(){b.ja.innerText="Password Required";b.text.innerText="The broadcaster has set a password which is required for viewing. If you know the password, refresh this page to enter it.";b.nh.style.display="none";PG(b,!0);b.element.style.display="block";jb()&&eb()})}q(NG,x);NG.prototype.D=function(){this.element.style.visibility="hidden"};NG.prototype.show=function(){this.element.style.visibility=""};NG.prototype.$A=function(a){this.Xd=a;void 0!==this.Rx&&OG(this,this.Rx,this.Rx.status)};NG.prototype.H=function(){if(void 0!==this.parent){var a=this.parent.element.getBoundingClientRect(),b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;a.width<=b?(this.element.style.width=a.width+"px",this.qG&&(this.element.style.left=a.left+"px")):(this.element.style.width=b+"px",this.element.style.left="0");this.element.style.top=a.height<=c?"fixed"===this.parent.element.style.position?a.top+.5*a.height-.5*this.element.offsetHeight+"px":.5*a.height-.5*this.element.offsetHeight+
"px":.5*c-.5*this.element.offsetHeight+"px";this.element.style.maxHeight=a.height+"px"}};function OG(a,b,c){a.Xd&&(c="offline");var d=a.Mj.get(c);if(void 0!==d)d(b),a.M();else switch(a.Bq||(a.ro.style.display="none",a.element.style.display="none"),c){case "public":case "privaterequesting":case "privatewatching":case "privatespying":case "notconnected":break;default:u("unexpected status: "+c)}}function PG(a,b){var c=a.Bq&&!a.Xd;a.ro.style.display=void 0!==b&&!b||c||!a.cM?"none":"block"};var QG=[];function RG(a){if(!QG.some(function(c){return c.we===a})){var b=new sz(a);b.St();QG.push(b)}}function SG(a){void 0!==a?QG=QG.filter(function(b){return b.we===a?(b.Hu(),!1):!0}):(QG.forEach(function(b){b.Hu()}),QG=[])};new t("stopCamRequest");new t("shutdownCamRequest");var TG=!1;function UG(a,b){var c,d;TG||(TG=!0,""!==a.Qc&&(new sz(a.Qc)).Xu.h(function(){b.stop();V(Oj);SG(a.Qc)}),!0===(null===(d=null===(c=Em.current)||void 0===c?void 0:c.Fa)||void 0===d?void 0:d.nc)&&(SG(),E("api/ts/chat/share-my-cam/").then(function(e){e=Yn(new N(e.responseText),"shared_rooms");if(void 0!==e){e=l(e);for(var f=e.next();!f.done;f=e.next())Q(f.value,"username")===a.A&&RG(a.Qc)}}).catch(function(){})))};function VG(){var a=this;this.Rr=new Map;this.supported=!0;this.supported=sb()&&qb()||ob();this.fd();B("beforeunload",window,function(){a.close()});Np.h(function(b){b&&Fb()&&(b=Jb(),void 0!==b&&13>b?a.fd():void 0!==a.context&&a.context.resume())})}
VG.prototype.fd=function(){var a=this;if(this.supported)if(qb()){hn("Using audio context");this.close();this.context="webkitAudioContext"in window?new webkitAudioContext:new AudioContext;var b=function(){if(void 0!==a.context){var c=a.context.createBufferSource();c.buffer=a.context.createBuffer(1,1,22050);c.connect(a.context.destination);c.start(0)}C("click",document,b);C("touchstart",document,b);C("touchend",document,b)};B("click",document,b);B("touchstart",document,b);B("touchend",document,b)}else hn("Using audio elements");else u("Sounds are not supported.")};VG.prototype.close=function(){void 0!==this.context&&("close"in this.context&&this.context.close(),this.context=void 0)};function WG(a,b,c){a.Rr.set(b,{ready:!1});if(void 0!==a.context){var d=new XMLHttpRequest;d.open("GET",c,!0);d.responseType="arraybuffer";d.onload=function(){200>d.status||300<=d.status?w("Error requesting sound "+b+" "+d.status+" "+d.statusText):void 0===a.context?w("unexpected"):void a.context.decodeAudioData(d.response.slice(0),function(e){a.Rr.set(b,{ready:!0,buffer:e})},function(e){w("Error decoding sound "+b+" "+e)})};d.onerror=function(){w("Error requesting sound "+b+" ("+new vc(d)+")")};d.send()}else ob()&&a.Rr.set(b,{ready:!0,Tw:new Audio(c)})}
function XG(a){WG(a,"huge","https://static-assets.highwebmedia.com/tsdefaultassets/sounds/classic/huge.mp3");WG(a,"large","https://static-assets.highwebmedia.com/tsdefaultassets/sounds/classic/large.mp3");WG(a,"medium","https://static-assets.highwebmedia.com/tsdefaultassets/sounds/classic/medium.mp3");WG(a,"small","https://static-assets.highwebmedia.com/tsdefaultassets/sounds/classic/small.mp3");WG(a,"tiny","https://static-assets.highwebmedia.com/tsdefaultassets/sounds/classic/tiny.mp3")}
VG.prototype.gr=function(a,b){if(YG(this,a,b)){var c=this.Rr.get(a);if(void 0!==c&&c.ready)if(void 0!==c.buffer)if(void 0===this.context)w("unexpected");else{var d=this.context.createBufferSource();d.buffer=c.buffer;c=this.context.createGain();d.connect(c);c.connect(this.context.destination);c.gain.value=b/3.5/100;d.start(0)}else void 0!==c.Tw?(c.Tw.volume=b/100,b=c.Tw.play(),void 0!==b&&b.catch(function(e){w("Error playing sound "+a+" ("+e+")")})):w("Missing sound buffer or element for "+a)}};function YG(a,b,c){return a.supported&&0!==c?100<c||0>c||isNaN(c)?(w("setSoundVolume: invalid volume "+c),!1):a.Rr.has(b)?!0:(w("Unknown sound: "+b),!1):!1};function ZG(){Yw.apply(this,arguments)}q(ZG,Yw);ZG.prototype.vt=function(){var a=Yw.prototype.vt.call(this);a.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";return a};function $G(a,b,c){gr.call(this);var d=this;this.cp=a;this.zd=b;this.RL=c;this.Wm="public";this.Lb=0;this.pm=this.zu=!1;this.zD=96;this.rl=new t("tipSent");this.closed=new t("tipClosed");this.isVisible=!1;this.element.id="SplitModeTipCallout";y(this.element,"defaultColor");this.element.style.display="none";this.element.style.position="absolute";this.element.style.width="390px";this.element.style.height="auto";this.element.style.top="0";this.element.style.borderWidth="2px";this.element.style.borderStyle="solid";this.element.style.borderRadius="4px";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.overflow="visible";B("keydown",this.element,function(e){27===e.keyCode&&d.D();9===e.keyCode&&(e.shiftKey?d.ha.hasFocus()&&!fx(d.ha)?d.ra.focus():document.activeElement===d.ra?d.qa.focus():d.ha.hasFocus()||fx(d.ha):d.ha.hasFocus()&&!gx(d.ha)?d.qa.focus():document.activeElement===d.qa?d.ra.focus():d.ha.hasFocus()||gx(d.ha),e.preventDefault())});this.Ng=Ao("","","74px");y(this.Ng,"bottomDivot");this.element.appendChild(this.Ng);this.gs=zo("","","74px");y(this.gs,"topDivot");this.element.appendChild(this.gs);this.Iu=Bo("","","30px");y(this.Iu,"leftDivot");this.element.appendChild(this.Iu);this.da.style.bottom="";a=document.createElement("div");y(a,"titleBar");a.innerText=Jd;a.style.fontSize="15px";a.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";a.style.padding="6px";this.element.appendChild(a);a=document.createElement("div");a.style.display="inline-block";a.style.width="100%";b=document.createElement("span");b.innerText=Kf;b.style.fontWeight="bold";b.style.display="inline-block";b.style.padding="6px";a.appendChild(b);this.Wd=document.createElement("span");y(this.Wd,"tokenBalance");this.Wd.style.display="inline-block";this.Wd.style.fontWeight="bold";this.Wd.style.padding="6px 6px 6px 0";a.appendChild(this.Wd);b=document.createElement("a");y(b,"purchaseTokens");b.innerText=Td;b.href="/tipping/purchase_tokens/";b.style.display="inline-block";b.style.fontSize="11px";b.style.marginLeft="12px";b.style.cssFloat="right";b.style.padding="6px";b.onclick=function(){kx("embed"===d.cp);return!1};a.appendChild(b);this.element.appendChild(a);this.pc=document.createElement("div");y(this.pc,"warning");this.pc.style.display="none";this.pc.style.fontWeight="bold";this.pc.style.padding="6px";this.pc.style.textAlign="center";this.pc.style.position="absolute";this.pc.style.left="50%";a=document.createElement("div");a.innerText=Mf;this.pc.appendChild(a);a=document.createElement("div");a.innerText=Nf;this.pc.appendChild(a);this.element.appendChild(this.pc);this.zg=document.createElement("form");a=document.createElement("label");b=document.createElement("span");b.innerText=Of;b.style.display="inline-block";b.style.padding="6px";a.appendChild(b);this.qa=ix();this.qa.value="25";this.qa.min="1";this.qa.style.width="5em";this.qa.style.display="inline-block";this.qa.style.padding="4px";this.qa.style.borderWidth="1px";this.qa.style.borderStyle="solid";this.qa.style.borderRadius="4px";this.qa.onclick=function(){d.hm()};a.appendChild(this.qa);this.zg.appendChild(a);this.tf=document.createElement("div");this.tf.innerText=Gd;this.tf.style.padding="6px 6px 0 6px";this.zg.appendChild(this.tf);this.Vf=document.createElement("div");this.ra=document.createElement("textarea");y(this.ra,"tipMessageInput");this.ra.maxLength=255;this.ra.style.width="100%";this.ra.style.height="40px";this.ra.style.resize="none";this.ra.style.margin="6px";this.ra.style.padding="4px";this.ra.style.borderWidth="1px";this.ra.style.borderStyle="solid";this.ra.style.borderRadius="4px";this.ra.style.boxSizing="border-box";this.Vf.appendChild(this.ra);this.zg.appendChild(this.Vf);this.tf.onclick=function(){d.ra.select()};this.If=document.createElement("div");y(this.If,"warning");this.If.innerText=Pf;this.If.style.display="none";this.If.style.paddingLeft="5px";a.appendChild(this.If);a=document.createElement("div");this.qa.oninput=function(){aH(d)};a.style.textAlign="right";a.style.position="relative";this.rd=document.createElement("div");this.rd.innerText=Qf;this.rd.style.position="absolute";this.rd.style.display="none";this.rd.style.fontSize="10px";this.rd.style.lineHeight="1.3em";this.rd.style.padding="6px";this.rd.style.textAlign="left";this.rd.style.top="6px";this.rd.style.left="0px";a.appendChild(this.rd);this.ha=new ZG;this.I(this.ha,a);this.zg.appendChild(a);this.element.appendChild(this.zg);M.h(function(e){d.iu=e.C.iu;d.Gb=e.C.Gb;d.K=e.B.A();e.B.event.Tc.h(function(f){switch(f.Ea){case "privatewatching":d.Wm="private";break;default:d.Wm="public"}})});XB.h(function(e){d.QB(e.Ja)});this.H();B("submit",this.zg,function(e){e.preventDefault();var f=parseInt(d.qa.value);d.isVisible&&!isNaN(f)&&d.ha.isEnabled()&&(L("SendTipClicked",{amount:f,location:"PMTab"}),100<f&&!d.pm?(cx(d.ha,Gc(f)),d.pm=!0,d.H()):(d.qa.blur(),e=d.ra.value,void 0!==d.Ta&&(e=""===d.ra.value?d.Ta.value:d.Ta.value+" | "+d.ra.value),$B({K:d.K,IH:d.qa.value,message:e,source:d.cp,JH:d.Wm,fn:d.ha.fn,xf:X()}).then(function(g){g.success?L("SendTipSuccess",{amount:f,location:"PMTab"}):void 0!==g.error?V(g.error):w("unknown send tip error");bH(d);d.ra.value="";void 0!==g.uf&&WB.j({Ja:g.uf,K:d.K});d.rl.j({amount:f,success:g.success})}).catch(function(g){w("Error sending tip. status: "+g);d.rl.j({amount:f,success:!1})}),d.D()))});this.Mc.h(function(){d.D()});this.closed.h(function(){d.ha.bd.D(!0)})}q($G,gr);k=$G.prototype;k.H=function(){this.Vf.style.width=Math.max(0,this.element.clientWidth-12)+"px";this.rd.style.maxWidth=Math.max(0,this.element.offsetWidth-this.ha.element.offsetWidth-15)+"px";var a=Wm(this.RL);this.Ng.style.display="none";this.gs.style.display="none";this.Iu.style.display="none";if("fixed"===this.zd.style.position)this.Iu.style.display="block",this.element.style.top=a.top-30+"px",this.element.style.left=a.right+12+"px";else{var b=a.left-70,c=Math.max(0,b+this.element.offsetWidth-en()+4);0>b-c&&(c+=b-c);this.element.style.left=b-c+"px";Kb()||this.element.offsetHeight+a.bottom+20>dn()+document.documentElement.scrollTop?(this.Ng.style.display="block",this.Ng.style.left=this.zD+c+"px",this.element.style.top=a.top-this.element.offsetHeight-11+"px"):(this.gs.style.display="block",this.gs.style.left=this.zD+c+"px",this.element.style.top=a.bottom+14+"px")}this.da.style.height=document.documentElement.offsetHeight+"px"};function aH(a){/^[1-9]\d*$/.test(a.qa.value)?(a.ha.enable(),a.If.style.display="none",0<a.Lb&&parseInt(a.qa.value)>a.Lb?a.zu||(L("TokenAmountTooHigh"),a.zu=!0):a.zu=!1):(a.ha.disable(),a.If.style.display="inline-block");a.pm&&bH(a)}function bH(a){var b=a.ha;dx(b);b.vn&&!b.Kq&&(b.Kq=!0,b.Kb.style.borderRadius="4px 0 0 4px",b.kg.style.display="inline-block",b.Kn=[b.Kb,b.kg],b.M());a.pm=!1}
k.show=function(a){var b=this;if(!this.Gb)V("This broadcaster doesn't accept tips.");else if(!Hr('You must be logged in to tip. Click "OK" to login.')){void 0!==a.amount&&(this.qa.value=a.amount.toString(),aH(this));this.ra.value=void 0!==a.message?a.message:"";this.pc.style.display=this.iu?"block":"none";this.rd.style.display=void 0!==a.ms&&a.ms?"none":"block";if(Hb()){var c=document.createElement("input");c.type="text";c.style.opacity="0";c.style.height="0px";document.body.appendChild(c);c.focus({preventScroll:!0})}hx(this.cp,this.ha);this.Wd.innerText=Oe+"...";YB(this.K).then(function(d){b.qa.max=d.Lb.toString();if(void 0!==d.Wj){b.tf.innerText=d.Wj.label;void 0!==b.Ta&&b.Vf.removeChild(b.Ta);b.Ta=document.createElement("select");y(b.Ta,"tipOptionsSelect");b.Ta.style.width="100%";b.Ta.style.fontSize=".8125em";b.Ta.style.margin="6px";b.Ta.style.borderWidth="1px";b.Ta.style.borderStyle="solid";b.Ta.style.boxSizing="border-box";b.Vf.insertBefore(b.Ta,b.ra);var e=document.createElement("option");e.innerText="-- "+Sf+" --";b.Ta.appendChild(e);d=l(d.Wj.options);for(e=d.next();!e.done;e=d.next()){var f=e.value;e=document.createElement("option");e.innerText=f.label;e.value=f.label;b.Ta.appendChild(e)}}else void 0!==b.Ta&&(b.tf.innerText=Gd,b.ra.value="",b.Vf.removeChild(b.Ta),b.Ta=void 0);b.element.style.display="block";b.Eh();b.H();b.hm();void 0!==c&&document.body.removeChild(c);b.isVisible=!0}).catch(function(d){w("Error getting token balance. status: "+d);b.Wd.innerText=qh})}};k.D=function(){this.element.style.display="none";this.qa.blur();this.Fb();this.isVisible=!1;this.closed.j(void 0)};k.hm=function(){document.activeElement!==this.qa&&(this.qa.focus(),this.qa.setSelectionRange(0,9999))};k.QB=function(a){this.Lb=a;this.Wd.innerText=a+" "+Fc(a,!1)};var cH=new t("dossier");function dH(){x.call(this);this.wC=new VG;this.Bu=0;this.P=new La;this.Me={A:"",qb:""}}q(dH,x);k=dH.prototype;k.oq=function(){};k.wy=function(){};k.tE=function(){};k.sy=function(){};k.hu=function(){};k.uy=function(){this.F.J.stop()};k.vy=function(){null!==window.top&&(window.top.location.href="/auth/login/?next="+window.location.pathname+window.location.search)};k.ty=function(){};k.hh=function(){(new Fp("AutoLgnPopUpDly")).active&&window.setTimeout(function(){dq()},3E3)};k.uE=function(){};k.mg=function(){};function eH(a){Tr.h(function(b){a.zf=b.zf;a.F.J instanceof rv&&fH(a)})}function gH(a,b,c){a.Cb=a.I(new $G("theater",b,c));Qr.h(function(d){a.Cb.isVisible?a.Cb.D():a.Cb.show(d)});a.Cb.rl.h(function(){a.Cb.D()})}k.aB=function(){var a;Zz.h(function(b){void 0===a&&(a=new $z);a.qg(b)});Rr.h(function(b){eq(b)});Gr=function(){Rr.j(!0)}};function hH(a){cp.h(function(){a.M();a.mg()});window.onorientationchange=function(){eb();a.M()}}
function iH(a,b){a.qj(b,!0);ac.h(function(c){172800<((new Date).getTime()-Sp)/1E3?window.location.pathname="/"+c+"/":a.qj(c,!0)});M.h(function(c){a.hh(c)})}k.Jv=function(a,b){document.title=a+" at Chaturbate: "+b};function fH(a){function b(){void 0===window.xmovie.SetTipVol?window.setTimeout(function(){b()},100):window.xmovie.SetTipVol(a.zf)}b()}
k.qj=function(a,b){var c=this;Fn=a;if(a!==this.Me.A){this.Me={A:a,qb:""};var d=this.Bu+=1;this.mE(a).then(function(e){d===c.Bu&&c.Oz(e,b)}).catch(function(e){if(e instanceof vc&&""!==e.$d.responseText)if("application/json"!==e.$d.getResponseHeader("Content-Type"))w("Error reading room dossier error",{room:a,error:e.$d.responseText});else{var f=new N(e.$d.responseText);switch(P(f,"code",!1)){case "access-denied":V("Access Denied for room: "+a+"\n\n"+Q(f,"detail"));break;case "unauthorized":c.vy(a);break;case "password-required":c.ty(a);break;default:w("Error parsing room dossier error",{room:a,error:e.$d.responseText})}}else w("Error occurred while processing room dossier: "+e,{room:a})})}};k.mE=function(a){return dr(a)};k.Oz=function(a,b){var c=this;void 0!==this.af&&this.af();void 0!==this.mC&&this.mC();this.Jv(a.A,a.qb);this.Me.qb=a.qb;Cm(a);cH.j(a);this.B=new xG(a);this.B.event.BB.h(function(g){c.Jv(a.A,g)});this.zf=a.za.zf;XG(this.wC);this.B.event.gr.h(function(g){c.tE(g)});this.wy(a.le);var d={C:a,B:this.B};this.F.J.hh(d);var e,f;this.af=function(){clearInterval(e);window.clearTimeout(f);c.B.disconnect();c.F.J.stop();Ma(c.P);Tn.j(void 0)};b&&this.oq(a);gu()?this.hu():this.cz(d.C)?this.sy():this.hu();M.j(d);this.P.add(this.B.event.Tc.h(function(g){"notconnected"===g.Nc&&(e=window.setInterval(function(){BG(c.B)},3E4));var h="privatewatching"===g.Nc||"privatewatching"===g.Ea;if("notconnected"===g.Nc||h)f=window.setTimeout(function(){BG(c.B)},2E3);switch(g.Ea){case "passwordprotected":c.uy(c.B)}c.uE(g)}));this.P.add(Tr.h(function(g){var h=c.B,m=g.cl;h.bl=g.bl;h.cl=m}));this.M()};k.cz=function(a){return"offline"===a.Ga&&!Iu(a)};var jH,kH=[];function lH(a){a=a.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g);return null!==a?a:[]}function mH(a){a=a.match(/<img/g);return null!==a&&1===a.length}function nH(a){for(var b=0;b<kH.length;b+=1)kH[b].name===a.name&&kH.splice(b,1);16===kH.length&&kH.pop();kH.unshift(a);a=kH.map(function(c){return JSON.stringify({value:c.value,name:c.name})}).join("|");window.localStorage.setItem("emojiRecents",a);return kH}
function oH(){return new Promise(function(a){var b=window.localStorage.getItem("emojiRecents");null!==b?a(b.split("|").map(function(c){c=JSON.parse(c);return{value:c.value,name:c.name}})):a([])})}function pH(){var a=oH(),b=E("api/ts/emoticons/search_emojis/");jH=Promise.all([a,b]).then(function(c){var d=l(c);c=d.next().value;d=d.next().value;kH=c;return[kH,new N(d.responseText)]})}
function qH(a){void 0===jH&&pH();return void 0!==jH?jH.then(function(b){var c=l(b);b=c.next().value;c=c.next().value;return"recent"===a?b:"smileys-people"===a?(b=O(c,"smileys-emotion"),c=O(c,"people-body"),rH(b.concat(c))):rH(O(c,a))}):Promise.reject()}
function sH(a){return E("api/ts/emoticons/search_emojis/?keywords="+encodeURIComponent(a)).then(function(b){b=new N(b.responseText);var c=[O(b,"smileys-emotion"),O(b,"people-body"),O(b,"animals-nature"),O(b,"food-drink"),O(b,"activities"),O(b,"travel-places"),O(b,"objects"),O(b,"symbols"),O(b,"flags")];b=[];c=l(c);for(var d=c.next();!d.done;d=c.next())d=d.value,void 0!==d&&b.push(rH(d));return b.reduce(function(e,f){return e.concat(f)})}).catch(function(){return[]})}
function rH(a){return a.map(function(b){return{value:b.character,name:b.name}})};var tH={HN:17,shift:16,alt:18,$O:91,mQ:93,AN:20,MQ:9},uH={left:37,LB:38,right:39,Vx:40};function vH(a){if(void 0===a||13===a||27===a)return!1;for(var b in uH)if(a===uH[b])return!1;for(var c in tH)if(a===tH[c])return!1;return!0};var wH=new t("focusingInputFromKeypress");function xH(a,b){x.call(this);var c=this;this.sM=a;this.maxLength=b;this.ld={sh:-1,Uq:-1};this.cL="";this.Pm=-1;this.Yf=[{RE:"",SE:[],ld:this.ld}];this.Ki=0;this.zt=new Set;this.Yx=this.DA=this.tJ=!1;this.maxLength=b;this.element.classList.add("customInput");this.element.classList.add("noScrollbar");this.element.style.position="relative";this.element.style.outline="none";this.element.style.border="none";this.element.style.boxSizing="border-box";this.element.style.fontSize="12px";this.element.style.whiteSpace="nowrap";this.element.style.overflowY="hidden";this.element.style.overflowX="scroll";this.element.contentEditable="true";Jr(this.element,"text");var d=new on(function(){yH(c,!0)},{Ad:10,Ce:0}),e=new on(function(){zH(c,!0)},{Ad:10,Ce:0}),f=new on(function(){AH(c)},{Ad:10,Ce:1}),g=!1;B("input",this.element,function(h){g||c.DA||(g=!0,"historyUndo"===h.inputType?pn(d):"historyRedo"===h.inputType?pn(e):(pn(f),BH(c,!0)),CH(c),g=!1)});Lb()&&window.setInterval(function(){document.activeElement===c.element&&AH(c)},200);B("paste",this.element,function(h){h.preventDefault();null!==h.clipboardData&&(h=null!==window.clipboardData&&void 0!==window.clipboardData?window.clipboardData.getData("Text"):h.clipboardData.getData("text/plain"),DH(c,h))});B("click",this.element,function(h){if(null!==h.target&&h.target!==c.element){var m=window.getSelection();if(null!==m){var n=document.createRange(),p=h.target;h.offsetX<p.offsetWidth/2?n.setStartBefore(p):n.setStartAfter(p);n.collapse(!0);m.removeAllRanges();m.addRange(n)}}CH(c)});B("keydown",this.element,function(h){if("Enter"===h.key)h.preventDefault(),c.submit();else if(EH(c,h))h.preventDefault();else if(h.ctrlKey||h.metaKey){if(-1!==["u","b","i"].indexOf(h.key))h.preventDefault();else if("z"===h.key&&!h.shiftKey)yH(c),h.preventDefault();else if("z"===h.key&&h.shiftKey||"y"===h.key)zH(c),h.preventDefault();c.zt.add(h.key)}});B("keyup",this.element,function(h){Lb()&&vH(h.which)&&(!c.zt.has(h.key)||h.repeat)?FH(c):-1===["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].indexOf(h.key)&&-1===["MetaLeft","MetaRight"].indexOf(h.code)||CH(c);c.zt.delete(h.key)});B("focus",this.element,function(){c.Yx=!0;void 0!==c.placeholder&&(c.placeholder.style.display="none",c.placeholder.textContent="")});B("blur",this.element,function(){c.Yx=!1;void 0!==c.placeholder&&""===GH(c)&&(c.placeholder.style.display="",c.placeholder.textContent=c.cL);c.zt.clear()});wH.h(function(h){EH(c,h)&&h.preventDefault()})}q(xH,x);function DH(a,b,c){if(""!==b&&((void 0===c?0:c)&&HH(a),a.focus(!0),IH(a),JH(a)&&(c=window.getSelection(),null!==c&&0<c.rangeCount&&c.getRangeAt(0).deleteContents()),b=b.replace(/\r?\n|\r/g," "),b=b.replace(/ /g,"\u00a0"),b=KH(b,LH(a)),""!==b)){var d=document.createElement("div");d.textContent=b;var e={unselectable:"on"};twemoji.parse(d,{attributes:function(){return e}});b=window.getSelection();if(null!==b&&0<b.rangeCount){c=b.getRangeAt(0);var f=[].concat(ja(d.childNodes)).reverse();d=f[0];f=l(f);for(var g=f.next();!g.done;g=f.next())c.insertNode(g.value);c.setStartAfter(d);c.collapse(!0);b.removeAllRanges();b.addRange(c)}FH(a);MH(a)}}function GH(a){var b="",c=!1;a=l(a.element.childNodes);for(var d=a.next();!d.done;d=a.next())d=d.value,d instanceof HTMLImageElement?(b+=d.alt,c=!0):null!==d.textContent&&(!c||":"!==d.textContent[0]&&"@"!==d.textContent[0]||(b+=" "),b+=d.textContent,c=!1);return b.replace(/\s/g," ")}function LH(a){return a.maxLength-GH(a).length}
function HH(a){var b=window.getSelection();if(null!==b){var c=document.createRange();c.selectNodeContents(a.element);c.collapse(!1);b.removeAllRanges();b.addRange(c);CH(a)}}function NH(a,b){document.activeElement!==a.element&&OH(a);a=PH(a);var c=window.getSelection();null!==c&&(a.textContent=b,b=document.createRange(),b.selectNodeContents(a),b.collapse(!1),c.removeAllRanges(),c.addRange(b))}function QH(a){a=PH(a);return null!==a.textContent?a.textContent.replace(/\s/g," "):""}
function RH(a,b){var c=PH(a),d=window.getSelection();if(null!==d&&0<d.rangeCount){var e=document.createRange();e.selectNodeContents(c);e.setStart(c,b);MH(a);d.removeAllRanges();d.addRange(e)}}function SH(a){var b=window.getSelection();null!==b&&0<b.rangeCount&&(b=b.getRangeAt(0),b.startContainer!==a.element&&a.element.contains(b.startContainer)&&(BH(a,!1),b.deleteContents(),FH(a)))}k=xH.prototype;k.focus=function(a){a=void 0===a?!1:a;document.activeElement!==this.element&&document.body.contains(this.element)&&(this.element.focus(),a?OH(this):HH(this),MH(this))};k.blur=function(){this.element.blur()};k.disable=function(){this.blur();this.element.contentEditable="false"};k.enable=function(){this.element.contentEditable="true"};k.submit=function(){if(this.sM()){for(var a=this.element.innerHTML,b=/<img[^>]+alt="?([^"\s]+)"?\s*/g,c=b.exec(a);null!==c;)L("emojiSent",{value:c[1]}),c=b.exec(a);""!==GH(this)&&(IH(this),a=window.getSelection(),null!==a&&(b=document.createRange(),b.selectNodeContents(this.element),a.removeAllRanges(),a.addRange(b),b.deleteContents(),b.collapse(!0)),FH(this));this.blur()}};function AH(a){var b=window.getSelection();if(null!==b&&0<b.rangeCount){var c=PH(a);if(null!==c.textContent&&twemoji.test(c.textContent)){var d=c.textContent,e=document.createRange();e.selectNodeContents(c);b.removeAllRanges();b.addRange(e);e.deleteContents();DH(a,d);c=PH(a);""!==c.textContent&&(e.setStartBefore(c),e.collapse(!0),b.removeAllRanges(),b.addRange(e),CH(a))}}}
function JH(a){var b=window.getSelection();return null!==b&&0<b.rangeCount&&document.activeElement===a.element&&(a=b.getRangeAt(0),a.startContainer!==a.endContainer||a.startOffset!==a.endOffset)?!0:!1}function EH(a,b){return 0<LH(a)?!1:!b.ctrlKey&&!b.metaKey&&vH(b.which)&&-1===["Backspace","Delete"].indexOf(b.key)&&!JH(a)}function FH(a){CH(a);BH(a,!0)}function BH(a,b){window.clearTimeout(a.Pm);a.Pm=-1;a.tJ||(b?a.Pm=window.setTimeout(function(){TH(a);a.Pm=-1},300):TH(a))}
function IH(a){-1!==a.Pm&&(window.clearTimeout(a.Pm),a.Pm=-1,TH(a))}function TH(a){CH(a);var b=GH(a);a.Yf.splice(a.Ki+1,a.Yf.length);a.Yf[a.Yf.length-1].RE===b&&a.Yf.pop();var c=[].concat(ja(a.element.childNodes)).map(function(d){return d.cloneNode(!0)});a.Yf.push({RE:b,SE:c,ld:a.ld});20<a.Yf.length&&a.Yf.shift();a.Ki=a.Yf.length-1;UH(a)}function yH(a,b){b=void 0===b?!1:b;L(b?"BrowserTriggeredUndo":"HotkeyTriggeredUndo");a.Ki!==a.Yf.length-1||b||BH(a,!1);0<a.Ki&&(--a.Ki,VH(a,a.Yf[a.Ki]),UH(a))}
function zH(a,b){L((void 0===b?0:b)?"BrowserTriggeredRedo":"HotkeyTriggeredRedo");a.Ki<a.Yf.length-1&&(a.Ki+=1,VH(a,a.Yf[a.Ki]),UH(a))}function VH(a,b){a.element.innerHTML="";b.SE.forEach(function(c){a.element.append(c.cloneNode())});a.ld=b.ld;OH(a);MH(a)}
function UH(a){if(a.Yx&&!document.queryCommandSupported("insertText")){a.DA=!0;var b=function(){document.execCommand("insertText",!1,"~");document.execCommand("delete",!1)},c=window.getSelection();if(null!==c&&0<c.rangeCount){var d=c.getRangeAt(0);c.removeAllRanges();b();c.addRange(d)}else b();a.DA=!1}}function PH(a){CH(a);return 0===a.element.childNodes.length?a.element:-1===a.ld.sh?a.element.childNodes[0]:a.element.childNodes[a.ld.sh]}
function WH(a){return XH(a,!0).getBoundingClientRect().left-a.element.getBoundingClientRect().left}function YH(a){var b=QH(a).length;return 0<b&&a.ld.Uq!==b?!1:![].concat(ja(a.element.childNodes)).slice(a.ld.sh+1).some(function(c){var d,e;return"IMG"===c.nodeName||0<(null!==(e=null===(d=c.textContent)||void 0===d?void 0:d.length)&&void 0!==e?e:0)})}
function XH(a,b){b=void 0===b?!1:b;var c=document.createRange();if(0===a.element.childNodes.length)return c.setStart(a.element,0),c;var d=a.element.childNodes[a.ld.sh];-1===a.ld.sh?c.setStartBefore(a.element.childNodes[0]):""===d.textContent?c.setStartAfter(d):c.setStart(d,a.ld.Uq);if(b){var e,f;a=c.startContainer;if(0!==(null!==(f=null===(e=null===a||void 0===a?void 0:a.textContent)||void 0===e?void 0:e.length)&&void 0!==f?f:0))if(null!==window.getSelection())for(;0<c.startOffset;){if(/^\s/.test(c.toString())){c.setStart(a,c.startOffset+1);break}c.setStart(a,c.startOffset-1)}else c=document.createRange()}return c}
function CH(a){var b=window.getSelection();if(null!==b&&0<b.rangeCount&&document.activeElement===a.element){b=b.getRangeAt(0).cloneRange();b.collapse(!1);var c=b.startContainer===a.element?b.startOffset-1:Array.from(a.element.childNodes).indexOf(b.startContainer);if(-1===c)a.ld={sh:-1,Uq:-1};else if(""===a.element.childNodes[c].textContent)a.ld={sh:c,Uq:-1};else{var d=a.element.childNodes[c].textContent;a.ld={sh:c,Uq:b.startContainer===a.element?d.length:b.startOffset}}}}
function OH(a){if(!(0===a.element.childNodes.length||a.ld.sh>=a.element.childNodes.length)){var b=window.getSelection();null!==b&&(a=XH(a),a.collapse(!0),b.removeAllRanges(),b.addRange(a))}}function MH(a){var b=0;if(-1!==a.ld.sh){b=a.element.childNodes[a.ld.sh];var c=document.createRange();c.setStart(a.element,0);c.setEndAfter(b);b=c.getBoundingClientRect().width}a.element.scrollLeft=Math.max(a.element.scrollLeft,b+3-a.element.offsetWidth)}
function KH(a,b){if(a.length<=b)return a;for(var c=-1,d=0,e=l(a),f=e.next();!f.done;f=e.next()){f=f.value;if(d+f.length>b)break;twemoji.test(f)&&(c=d);d+=f.length}if(-1!==c){a:{var g=a.substr(c,a.length);if(twemoji.test(g)){e=-1;var h=f="",m=0;g=l(lH(g));for(var n=g.next();!n.done;n=g.next())n=n.value,-1===e&&twemoji.test(n)?(e=m,h=f=n):-1!==e&&(h=""+h+n,twemoji.test(n)&&mH(twemoji.parse(h))&&(f=h)),m+=n.length;if(-1!==e){e={iO:e,wJ:f};break a}}e=void 0}if(void 0!==e&&c+e.wJ.length>b)return a.substr(0,c)}return a.substr(0,d)};var ZH={"/tip":function(a){var b={};if(0<a.length){var c=Number(a[0]);isNaN(c)?b.message=a.join(" "):(a.shift(),b.amount=c,0<a.length&&(b.message=a.join(" ")))}return{sz:b,messageType:1}},"/debug":function(){return{messageType:2}}};function $H(a){if("/"===a.trim().charAt(0)){a:{var b=a.match(/(\S+)/g);if(null!==b){var c=b.shift();if(Object.prototype.hasOwnProperty.call(ZH,c)){b=ZH[c](b);break a}}b={messageType:0}}if(0!==b.messageType)return b}return{messageType:0,sz:a}};function aI(a){x.call(this);var b=this;this.kt=a;this.er=[];this.element.style.position="fixed";this.element.style.height="";this.element.style.textShadow="1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000";this.element.style.fontSize="12px";this.gb=document.createElement("div");this.gb.style.position="absolute";this.gb.style.bottom="0";y(this.element,"hasDarkBackground");this.element.style.Rz="break-word";this.element.style.wordWrap="break-word";this.element.appendChild(this.gb);a.vp.h(function(c){bI(b,c.qz(),c.LL)});Tn.h(function(){b.clear()});M.h(function(c){b.element.style.fontSize=c.C.za.fontSize;b.jl()});Tr.h(function(c){b.element.style.fontSize=c.fontSize;b.jl()})}q(aI,x);k=aI.prototype;k.Qa=function(){this.element.scrollTop=this.element.scrollHeight-this.element.offsetHeight};k.clear=function(){for(var a=l(this.er),b=a.next();!b.done;b=a.next())clearTimeout(b.value);for(this.er=[];null!==this.gb.firstChild;)this.gb.removeChild(this.gb.firstChild)};k.jl=function(){this.gb.style.lineHeight=Number(this.element.style.fontSize.slice(0,-2))+7+"pt"};function bI(a,b,c){a.gb.appendChild(b);cI(a,function(){b.style.opacity="0"});a.M();void 0!==c&&!0!==c||a.Qa()}function cI(a,b){var c=window.setTimeout(function(){var d=a.er.indexOf(c);0<=d&&a.er.splice(d,1);b()},2E4);a.er.push(c)}k.Qs=function(){var a=this;this.kt.Jt.h(function(){a.M()})};k.H=function(){var a=this.kt.Pa,b=this.kt.jb,c=a.getBoundingClientRect();this.element.style.left=c.left+"px";this.element.style.width=a.clientWidth+"px";this.gb.style.width=a.clientWidth+"px";this.element.style.top=b.getBoundingClientRect().top+"px";this.element.style.height=b.clientHeight+"px";this.gb.style.height=b.clientHeight+"px"};new t("MobileVideoControls:tap");new t("MobilePureChat:tap");new t("MobilePureChat:drag");new t("MobilePureChat:dragEnd");new t("MobileFullscreenSendChat");new t("MobilePlayer:Resize");new t("MobilePlayer:changeSize");new t("mobilePMChatLinkFullscreenToggle");new t("mobilePureChatChange");var dI=[40,37,39,38,13,27,32,9];function eI(a){gr.call(this);var b=this;this.config=a;this.Mc.h(function(){void 0!==b.selectedIndex&&DH(b.config.Ha," ",!0);b.D()});B("keyup",this.config.Ha.element,function(c){b.sE(c)});B("keydown",this.config.Ha.element,function(c){if(b.visible){13===c.keyCode&&b.D();38===c.keyCode&&(c.preventDefault(),b.Ev(!0));40===c.keyCode&&(c.preventDefault(),b.Ev(!1));if(9===c.keyCode||39===c.keyCode||32===c.keyCode)c.preventDefault(),b.D(),DH(b.config.Ha," ",!0),HH(b.config.Ha);if(27===c.keyCode||37===c.keyCode)c.preventDefault(),b.D(),SH(b.config.Ha)}})}q(eI,gr);k=eI.prototype;k.sE=function(a){this.fu(a)};k.initData=function(){gr.prototype.initData.call(this);this.list=document.createElement("div");this.AH="";this.cache=new Map;this.visible=!1;this.delay=0;this.P=new La};k.Na=function(){gr.prototype.Na.call(this);y(this.element,"emoticonAutocompleteModal");this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.height="auto";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderBottom="none";this.element.style.fontFamily="Helvetica, Arial, sans-serif";this.element.style.cursor="pointer";this.list.style.width="260px";this.list.style.maxHeight="180px";this.list.style.overflowY="scroll";this.element.appendChild(this.list)};k.Eb=function(){Ma(this.P)};k.H=function(){var a=WH(this.config.Ha)+this.config.Gq;this.element.style.left=Math.max(4,Math.min(a,this.config.Ha.element.clientWidth-this.config.xr))+"px"};k.fu=function(a){var b=this;if(0<=this.delay&&-1===dI.indexOf(a.keyCode)){var c=QH(this.config.Ha).match(this.EG);null!==c?(this.prefix=c[2],a=this.cache.get(this.prefix),void 0!==a?(this.items=a,this.Mi(c[1])):(clearTimeout(this.lJ),this.lJ=window.setTimeout(function(){b.getData().then(function(d){b.items=fI(b,d.responseText);b.cache.set(b.prefix,b.items);b.Mi(c[1])}).catch(function(d){w("Error autocomplete modal: "+d)})},100))):this.D()}};k.Mi=function(a){this.Th();this.element.style.display=0===this.items.length?"none":"block";for(var b=0;b<this.items.length;b+=1)gI(this,this.items[b],b);b=0>=this.list.children.length?0:this.list.children.item(this.list.children.length-1).offsetTop;this.list.scrollTop=b;this.AH=a;this.visible||this.show()};k.Th=function(){for(;null!==this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.selectedIndex=void 0};k.Ev=function(a){this.Ml();a=void 0===this.selectedIndex?a?this.items.length-1:0:this.selectedIndex+(a?-1:1);0>a?a=this.items.length-1:a>=this.items.length&&(a=0);hI(this,a,!0)};k.Gk=function(a){void 0!==this.selectedIndex&&0<this.items.length&&(this.Ml(),y(this.items[this.selectedIndex].element,"selectedEmoticon"),a&&(this.list.scrollTop=this.selectedIndex*this.list.firstChild.clientHeight-this.list.clientHeight/2),a=QH(this.config.Ha).replace(new RegExp(this.gL+"$"),this.items[this.selectedIndex].Td),NH(this.config.Ha,a),RH(this.config.Ha,this.AH.length+1))};k.show=function(){var a=this;0<=this.delay&&window.setTimeout(function(){null!==QH(a.config.Ha).match(a.EG)&&(a.element.style.visibility="visible",0===Xm(a.element.style.width)&&(a.element.style.width="auto"),a.element.style.height="auto",a.Eh(),a.M(),a.visible=!0)},this.delay)};k.D=function(){this.Fb();this.element.style.visibility="hidden";this.element.style.width="0";this.element.style.height="0";this.visible=!1;this.Th()};k.Ml=function(){for(var a=l(this.items),b=a.next();!b.done;b=a.next())z(b.value.element,"selectedEmoticon")};k.getData=function(){var a=this,b=new XMLHttpRequest;return new Promise(function(c,d){b.onload=function(){wc(b.status)?c(b):d(new vc(b))};b.onerror=function(){d(new vc(b))};b.open("GET","https://emote.highwebmedia.com/autocomplete?slug="+a.prefix+"&_="+Date.now());b.withCredentials=!1;b.timeout=6E4;b.send()})};function gI(a,b,c){var d=document.createElement("div");d.innerText=b.Td;d.style.padding="2px 8px";a.hH(b)&&(d.style.display="none");d.onclick=function(e){hI(a,c,!1);e.preventDefault()};a.list.appendChild(d);b.element=d}function hI(a,b,c){a.gL=void 0===a.selectedIndex?a.prefix:a.items[a.selectedIndex].Td;a.selectedIndex=b;a.Gk(c);a.config.Ha.focus()}k.hH=function(){return!1};k.isVisible=function(){return this.visible};var iI,jI=new t("videoModeChanged",{ef:100});Po.od.h(function(){jI.j(void 0)});function kI(){eI.apply(this,arguments)}q(kI,eI);k=kI.prototype;k.initData=function(){eI.prototype.initData.call(this);this.mf=document.createElement("div");this.lf=document.createElement("img");this.Ph=document.createElement("div");this.EG=/(^|.*\s):([\w-]+)$/};k.Na=function(){var a=this;y(this.mf,"previewWrapper");this.mf.style.display="none";this.mf.style.width="260px";this.mf.style.height="110px";this.mf.style.lineHeight="110px";this.mf.style.borderBottomWidth="1px";this.mf.style.borderBottomStyle="solid";this.mf.style.textAlign="center";this.mf.onclick=function(){void 0!==a.selectedIndex&&qA.j(a.items[a.selectedIndex])};this.element.appendChild(this.mf);eI.prototype.Na.call(this);this.lf.src="https://static-assets.highwebmedia.com/tsdefaultassets/loading.png";this.lf.style.maxWidth="240px";this.lf.style.maxHeight="80px";this.lf.style.verticalAlign="middle";this.lf.style.padding="10px 10px 16px 10px";this.mf.appendChild(this.lf);y(this.Ph,"hrefColor");this.Ph.innerText="VIEW / REPORT EMOTICON";this.Ph.style.fontSize="10px";this.Ph.style.position="relative";this.Ph.style.bottom="8px";this.Ph.style.lineHeight="0";this.Ph.onmouseenter=function(){a.Ph.style.textDecoration="underline"};this.Ph.onmouseleave=function(){a.Ph.style.textDecoration="none"};this.mf.appendChild(this.Ph);this.P.add(M.h(function(b){iI=b.C.kh;a.delay=parseInt(b.C.za.am)}));this.P.add(Tr.h(function(b){a.delay=parseInt(b.am)}));this.P.add(jI.h(function(){void 0!==a.da&&a.D()}))};k.sE=function(a){36<LH(this.config.Ha)&&YH(this.config.Ha)&&(this.fu(a),this.H())};k.Th=function(){eI.prototype.Th.call(this);this.mf.style.display="none"};k.Gk=function(a){eI.prototype.Gk.call(this,a);void 0!==this.selectedIndex&&(this.lf.src="https://static-assets.highwebmedia.com/tsdefaultassets/loading.png",this.lf.src=this.items[this.selectedIndex].url,this.mf.style.display="block")};function fI(a,b){b=new N(b);Q(b,"slug");var c=bo(b,"emoticons"),d=[];c=l(c);for(var e=c.next();!e.done;e=c.next())e=e.value,d.push({Td:e.slug,url:e.url,element:lI,fl:e.score});d=d.map(function(f){var g=void 0===f.fl?0:f.fl;f.Td===a.prefix?f.fl=g+1E5:0===f.Td.indexOf(a.prefix)&&(f.fl=g+9E3);return f});d=d.sort(function(f,g){return(void 0===f.fl?0:f.fl)-(void 0===g.fl?0:g.fl)});ho(b);return d}k.hH=function(a){return 0<=iI.indexOf(a.Td)};var lI=document.createElement("div");function mI(a){return a.Za?"broadcaster":a.Lc?"mod":a.je?"inFanclub":a.Fg?"tippedTonsRecently":a.Ii?"tippedALotRecently":a.Eg?"tippedRecently":a.Gf?"hasTokens":"defaultUser"}function nI(a){return a.Za?"#ff6200":a.Lc?"#DC0000":a.je?"#00ff00":a.Fg?"#ad62e1":a.Ii?"#d4a0ff":a.Eg?"#8a98ff":a.Gf?"#84c6dc":"#b3b3b3"}function oI(a){if(a.Za)return Zk;if(a.Lc)return Yk;if(a.je)return Xk;if(a.Fg)return Pk;if(a.Ii)return Rk;if(a.Eg)return Tk;if(a.Gf)return Vk}
function pI(a){if(!a.Lc&&!a.Za&&!a.je){if(a.Fg)return Qk;if(a.Ii)return Sk;if(a.Eg)return Uk;if(a.Gf)return Wk}}
function qI(a){a=a.toLowerCase();if(-1<["m","male"].indexOf(a))return"https://static-assets.highwebmedia.com/tsdefaultassets/gendericons/male.svg";if(-1<["f","female"].indexOf(a))return"https://static-assets.highwebmedia.com/tsdefaultassets/gendericons/female.svg";if(-1<["t","s","trans"].indexOf(a))return"https://static-assets.highwebmedia.com/tsdefaultassets/gendericons/trans.svg";if(-1<["c","couple"].indexOf(a))return"https://static-assets.highwebmedia.com/tsdefaultassets/gendericons/couple.svg";w("Could not set menu gender icon. Defaulting to male.");return"https://static-assets.highwebmedia.com/tsdefaultassets/gendericons/male.svg"};function rI(){var a=this;this.yq=new Set;this.oB=!1;this.ix=new La;this.uc=[];M.h(function(b){a.Ma=b.B;a.pa=b.B.xc;r(b.B.event.Tc.h(function(c){var d=c.Ea;c=c.Nc;a.pa||-1<["offline","notconnected","hidden","passwordprotected"].indexOf(d)||(c="privatespying"!==c&&"privatewatching"!==c,d="privatespying"!==d&&"privatewatching"!==d,!c&&d?(a.ps=void 0,sI(a)):c&&!d?(a.ps=void 0,sI(a,!1)):sI(a))}),a.ix);a.pa||r(b.B.event.Ia.h(function(c){c=l(c.sa);for(var d=c.next();!d.done;d=c.next()){d=l(d.value);for(var e=d.next();!e.done;e=d.next())e=e.value,0===e.jd&&void 0!==e.cb&&tI(a,e.cb)}}),a.ix)});Tn.h(function(){Ma(a.ix)})}var uI;function vI(){void 0===uI&&(uI=new rI);return uI}function sI(a,b){void 0===a.ps&&(a.ps=a.vA(void 0===b?!0:b),wI(a));return a.ps}rI.prototype.Th=function(){this.uc=[]};function wI(a){window.setTimeout(function(){a.ps=void 0},6E4)}
function xI(a){a.oB||(a.uc.sort(function(b,c){return b.cb.username.toLowerCase()<c.cb.username.toLowerCase()?-1:b.cb.username.toLowerCase()>c.cb.username.toLowerCase()?1:0}),a.oB=!0);return a.uc}rI.prototype.Hg=function(){return this.uc.map(function(a){return a.cb})};rI.prototype.vA=function(a){var b=this;a=void 0===a?!0:a;return zG(this.Ma).then(function(c){var d=document.createElement("div");a?yI(b):b.uc=[];c=l(c.Hg);for(var e=c.next();!e.done;e=c.next())e=e.value,void 0!==b.lq(e.username)||b.uc.push({cb:e,element:d,visible:!1,oA:!1}),b.yq.has(e.username)&&(zI.j(void 0),b.yq.delete(e.username));return b.uc}).catch(function(c){w("Error loading username autocomplete: "+c);return b.uc})};function tI(a,b){var c=document.createElement("div");a.oB=!1;var d=a.lq(b.username);void 0===d?a.uc.push({cb:b,element:c,visible:!1,oA:!0}):(d.cb=b,d.oA=!0);a.yq.has(b.username)&&(zI.j(void 0),a.yq.delete(b.username))}function AI(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next())a.yq.add(c.value)}function yI(a){a.uc=a.uc.filter(function(b){return b.oA})}rI.prototype.lq=function(a){return this.uc.find(function(b){return b.cb.username===a})};ea.Object.defineProperties(rI.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.uc.length}}});var zI=new t("updateUserMention",{qe:!1}),BI=[40,37,39,38,13,27,32,9],CI=new t("videoModeChanged",{ef:20});function DI(a){gr.call(this,a);var b=this;this.config=a;this.Gi=this.isVisible=!1;this.P=new La;this.uc=vI();this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.height="auto";this.element.style.borderBottom="none";this.element.style.fontFamily="Helvetica, Arial, sans-serif";this.element.style.cursor="pointer";this.element.style.userSelect="none";this.Mc.h(function(){EI(b)&&DH(b.config.Ha," ",!0);b.D()});this.list=document.createElement("div");this.list.style.width="260px";this.list.style.maxHeight="180px";this.list.style.overflowY="scroll";this.element.appendChild(this.list);B("keyup",this.config.Ha.element,function(c){36<LH(b.config.Ha)&&(b.fu(c),b.H())});B("keydown",this.config.Ha.element,function(c){if(b.isVisible||b.Gi){var d=QH(b.config.Ha);if(13===c.keyCode&&" "!==d[d.length-1])c.preventDefault(),b.D(),NH(b.config.Ha,d+" "),HH(b.config.Ha);else if(38===c.keyCode||40===c.keyCode)c.preventDefault(),b.Ev(38===c.keyCode);else if(9===c.keyCode||39===c.keyCode||32===c.keyCode)c.preventDefault(),c.stopPropagation(),b.D(),DH(b.config.Ha," ",!0),HH(b.config.Ha);else if(27===c.keyCode||37===c.keyCode)c.preventDefault(),b.D(),SH(b.config.Ha)}});r(Tr.h(function(c){b.delay=parseInt(c.am)}),this.P);r(CI.h(function(){b.D()}),this.P);r(M.h(function(c){b.delay=parseInt(c.C.za.am);b.D();b.Th();b.uc.Th()}),this.P);y(this.element,"userMentionModal")}q(DI,gr);k=DI.prototype;k.Eb=function(){Ma(this.P)};k.H=function(){var a=WH(this.config.Ha)+this.config.Gq;this.element.style.left=Math.max(4,Math.min(a,this.config.Ha.element.clientWidth-this.config.xr))+"px"};k.fu=function(a){et(this,function c(){var d=this,e;return Ba(c,function(f){if(1==f.aa){if(!(0<=d.delay&&-1===BI.indexOf(a.keyCode))){f.aa=0;return}e=QH(d.config.Ha).match(/(^|\s)@([\w-]*)$/);if(null===e||!YH(d.config.Ha)){d.D();f.aa=0;return}return ta(f,sI(d.uc),4)}d.prefix=e[2];d.Py=d.prefix;d.Mi();f.aa=0})})};k.Th=function(){for(;null!==this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.selectedIndex=-1};k.Mi=function(){var a=this;this.Th();" "===this.prefix[this.prefix.length-1]&&this.D();var b=!1;this.il=xI(this.uc);this.il.forEach(function(d,e){""===a.prefix||d.cb.username.toLowerCase().startsWith(a.prefix.toLowerCase())?(FI(a,d,e),b=!0):d.visible=!1});if(b){var c=0>=this.list.children.length?0:this.list.children.item(this.list.children.length-1).offsetTop;this.list.scrollTop=c;this.isVisible||this.show()}else this.D(),this.Gi=!0};function FI(a,b,c){var d=document.createElement("div");d.classList.add("userMentionModalItem");y(d,mI(b.cb));d.innerText=b.cb.username;d.style.padding="2px 8px";d.onclick=function(){a.selectedIndex===c?(a.D(),DH(a.config.Ha," ",!0)):(a.selectedIndex=c,a.Gk(!1),a.config.Ha.focus())};d.style.fontWeight="bold";d.style.textOverflow="ellipsis";d.style.overflow="hidden";b.element=d;b.visible=!0;a.list.appendChild(d)}
k.Ev=function(a){var b;this.Py=EI(this)?this.il[this.selectedIndex].cb.username:this.prefix;var c=!1;this.Ml();do if(this.selectedIndex=EI(this)?this.selectedIndex+(a?-1:1):a?this.il.length-1:0,0>this.selectedIndex){if(c)break;this.selectedIndex=this.il.length-1;c=!0}else if(this.selectedIndex>=this.il.length){if(c)break;this.selectedIndex=0;c=!0}while(null===(b=this.il[this.selectedIndex])||void 0===b||!b.visible);this.Gk(!0)};k.Ml=function(){this.list.querySelectorAll("div.highlight").forEach(function(a){z(a,"highlight")})};k.Gk=function(a){if(EI(this)){this.Ml();var b=this.il[this.selectedIndex],c=this.list.clientHeight,d=this.list.firstChild.getBoundingClientRect().height;a&&(this.list.scrollTop=this.selectedIndex*d-c/2);y(b.element,"highlight");a=b.cb.username;NH(this.config.Ha,QH(this.config.Ha).replace(new RegExp(this.Py+"$"),a));this.Py=a;a=QH(this.config.Ha).lastIndexOf(a);-1<a&&RH(this.config.Ha,a)}};k.show=function(){var a=this;this.Gi=!0;0<=this.delay&&window.setTimeout(function(){a.element.style.visibility="";a.Eh();a.M();a.isVisible=!0},this.delay)};k.D=function(){this.Fb();this.element.style.visibility="hidden";this.Gi=this.isVisible=!1;this.Th()};function EI(a){return-1!==a.selectedIndex&&a.selectedIndex<a.il.length};M.h(function(){});function GI(a,b){var c={ng:!1,ye:void 0};this.Fu=this.ck=0;this.mF=this.Zh=this.OE=c;this.tj=a;this.XF=void 0===b?function(){}:b}function HI(a){var b={ng:!1,ye:void 0};a.OE=b;0===a.ck&&(a.Zh=b,a.tj(a.Zh,!1))}function II(a,b,c){a.ck+=1;a.Zh=b;a.tj(a.Zh,!0);c.then(function(d){d?a.commit(a.ck):JI(a,a.ck)}).catch(function(){JI(a,a.ck)})}GI.prototype.commit=function(a){a>this.Fu&&(this.Fu=a,this.mF=this.Zh,this.tj(this.Zh,a<this.ck))};function JI(a,b){0===a.Fu?(a.Zh=a.OE,a.tj(a.Zh,!1),a.XF()):b>a.Fu&&(a.Zh=a.mF,a.tj(a.Zh,b<a.ck),a.XF())};var KI={SF:"numPushNotificationTimeouts",GH:"pushNotificationTimeout"};function LI(a){a=void 0===a?KI:a;gr.call(this,a);var b=this;this.closed=new t("closed");this.Mc.h(function(){b.close()})}q(LI,gr);LI.prototype.initData=function(a){gr.prototype.initData.call(this);this.Iz=a.SF;this.zB=a.GH;a=window.localStorage.getItem(this.Iz);var b=window.localStorage.getItem(this.zB);null!==a&&null!==b?(this.ew=new Date(b),this.Hz=parseInt(a)+1):(this.ew=new Date,this.Hz=1)};LI.prototype.Ye=function(){gr.prototype.Ye.call(this);this.Eh()};LI.prototype.ex=function(){return new Date>=this.ew};LI.prototype.close=function(){this.element.style.display="none";this.Fb();this.closed.j(void 0)};function MI(a,b){var c=window.subscribeUserToPush;void 0!==Em.current.Fa&&c(Em.current.Fa.jM).then(a).catch(b)};function NI(){x.call(this);var a=this;this.gb=document.createElement("div");this.label=document.createElement("span");this.np=document.createElement("div");this.ul=document.createElement("div");this.uk=document.createElement("div");this.Zj=document.createElement("span");this.Wi=document.createElement("span");this.Uj=document.createElement("img");this.Tj=document.createElement("img");this.cs=document.createElement("img");this.bs=document.createElement("img");this.hf=document.createElement("span");this.K="";this.uf=0;this.TH=!1;this.IL=Wg;this.Dy=!1;this.mp=new GI(this.UL.bind(this),this.WK.bind(this));y(this.label,"satisfactionLabel");this.label.textContent=this.IL;this.label.style.margin="0 3px";this.label.style.verticalAlign="top";this.gb.appendChild(this.label);fp().h(function(b){a.Dy=b;a.label.textContent=OI(a)});this.np.style.display="inline-block";this.np.style.verticalAlign="top";this.ul.style.display="inline-block";this.ul.style.cursor="pointer";this.ul.style.verticalAlign="top";this.Zj.style.margin="0 3px";this.Zj.style.verticalAlign="top";this.ul.appendChild(this.Zj);PI(this);this.ul.appendChild(this.Uj);this.ul.appendChild(this.cs);this.np.appendChild(this.ul);this.hf.style.margin="0 3px";this.hf.style.verticalAlign="top";this.np.appendChild(this.hf);this.uk.style.display="inline-block";this.uk.style.cursor="pointer";this.uk.style.verticalAlign="top";QI(this);this.uk.appendChild(this.Tj);this.uk.appendChild(this.bs);this.Wi.style.margin="0 3px";this.Wi.style.verticalAlign="top";this.uk.appendChild(this.Wi);this.np.appendChild(this.uk);this.gb.appendChild(this.np);this.element.appendChild(this.gb);HI(this.mp);M.h(function(b){a.Ma=b.B;a.K=b.C.A;a.uf=b.C.uf;b.C.Cy&&void 0===b.C.Yv?(a.Zj.style.display="none",a.hf.style.display="none",a.Wi.style.display="none"):(a.Zj.innerText=""+b.C.Gj.Zj,a.hf.innerText=b.C.Gj.hf+"%",a.Wi.innerText=""+b.C.Gj.Wi,a.Zj.style.display="inline",a.hf.style.display="inline",a.Wi.style.display="inline",85<b.C.Gj.hf?y(a.hf,"highPercent"):65<b.C.Gj.hf?y(a.hf,"mediumPercent"):y(a.hf,"lowPercent"));a.label.textContent=OI(a,b);0===b.C.iz?II(a.mp,{ng:!0,ye:"down"},Promise.resolve(!0)):10===b.C.iz?II(a.mp,{ng:!0,ye:"up"},Promise.resolve(!0)):II(a.mp,{ng:!1,ye:void 0},Promise.resolve(!0));a.TH=b.C.oF;25<=a.uf?a.Qt():a.Kt()});WB.h(function(b){if(a.Ma.A()===b.K){if(25<=b.Ja&&(a.Qt(),25>a.uf)){var c=a.Ma.event.Ia,d=c.j;var e=a.K;e=H(G("Note: For tipping at least %(tokens)s tokens today, you can now vote what you think about %(room)s. Your vote is confidential. See below for the satisfaction feedback controls."),{tokens:25,room:Ac(e)},!0);d.call(c,{sa:[[Y(e)]],ya:!0})}a.uf=b.Ja}});XB.h(function(){-1!==["privatewatching","privatespying"].indexOf(a.Ma.status)&&E("tipping/tips_in_last_24/"+a.K+"/").then(function(b){b=U(new N(b.responseText),"tipped_performer_last_24hrs");WB.j({Ja:b,K:a.Ma.A()})}).catch(function(){})})}q(NI,x);function OI(a,b){return void 0!==b&&b.C.Cy&&void 0!==b.C.Yv?a.Dy?"":vi:a.Dy?"":Wg}NI.prototype.WK=function(){};function RI(a,b){a.src=b;a.height=15;a.width=15;a.style.height="15px";a.style.width="15px";a.style.verticalAlign="top";a.style.margin="0 3px";a.style.opacity="0.8"}
function PI(a){RI(a.Uj,"https://static-assets.highwebmedia.com/tsdefaultassets/thumbs-up-inactive.svg");RI(a.cs,"https://static-assets.highwebmedia.com/tsdefaultassets/thumbs-up-active.svg");a.ul.onclick=function(b){b.stopPropagation();25<=a.uf&&(!1===a.ng||"down"===a.ye)?(SI(a,!0),b=F("tipping/rate_model/"+a.K+"/",{rating:"10"}).then(function(){var c=a.Ma.event.Ia,d=c.j;var e=a.K;e=H(G("Note: Your confidential vote of thumbs up for %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."),{room:Ac(e)},!0);d.call(c,{sa:[[Y(e)]],ya:!0});return!0}).catch(function(c){w("Error rating model: "+c);return!1}),II(a.mp,{ng:!0,ye:"up"},b)):"up"===a.ye&&SI(a,!1)}}
function QI(a){RI(a.Tj,"https://static-assets.highwebmedia.com/tsdefaultassets/thumbs-down-inactive.svg");RI(a.bs,"https://static-assets.highwebmedia.com/tsdefaultassets/thumbs-down-active.svg");a.uk.onclick=function(b){b.stopPropagation();25<=a.uf&&(!1===a.ng||"up"===a.ye)?oo(Yc(a.K),function(){SI(a,!0);var c=F("tipping/rate_model/"+a.K+"/",{rating:"0"}).then(function(){var d=a.K;d=H(G("Note: Your confidential vote of thumbs down for %(room)s has been recorded. You may vote once every 90 days, and you may change your vote at any time today.  Thank you for your feedback."),{room:Ac(d)},!0);a.TH&&(d=a.K,d=H(G("Note: Your confidential vote of thumbs down for %(room)s has been refreshed and will expire in 90 days. You may change your vote at any time today. Thank you for your feedback."),{room:Ac(d)},!0));a.Ma.event.Ia.j({sa:[[Y(d)]],ya:!0});return!0}).catch(function(d){w("Error rating model: "+d);return!1});II(a.mp,{ng:!0,ye:"down"},c)}):"down"===a.ye&&SI(a,!1)}}
NI.prototype.Qt=function(){this.Uj.style.opacity="1";this.Tj.style.opacity="1";this.Uj.style.cursor="pointer";this.Tj.style.cursor="pointer"};NI.prototype.Kt=function(){this.Uj.style.opacity="0.65";this.Tj.style.opacity="0.65";this.Uj.style.cursor="";this.Tj.style.cursor=""};NI.prototype.UL=function(a){void 0===a.ye||!1===a.ng?(this.ng=!1,this.ye=void 0,this.bs.style.display="none",this.Tj.style.display="",this.cs.style.display="none",this.Uj.style.display=""):"up"===a.ye?(this.ng=!0,this.ye="up",this.bs.style.display="none",this.Tj.style.display="",this.cs.style.display="",this.Uj.style.display="none"):"down"===a.ye&&(this.ng=!0,this.ye="down",this.bs.style.display="",this.Tj.style.display="none",this.cs.style.display="none",this.Uj.style.display="")};function TI(a){switch(a){case "male":return"m";case "female":return"f";case "trans":return"t";case "couple":return"c";case "followed":return"o";default:return w("Cannot convert category "+a),""}};function UI(a,b){var c=!1;return function(){return new Promise(function(d,e){if(c)d(b);else return c=!0,a().finally(function(){c=!1}).then(function(f){d(f)}).catch(function(f){e(f)})})}};function VI(){var a=this;this.sF=10;this.Fv=new Set;this.offset=0;this.next=UI(function(){return et(a,function c(){var d=this,e,f,g,h,m,n;return Ba(c,function(p){if(1==p.aa)return e=d,f=new URLSearchParams(window.location.search),f.set("genders",(0<d.hE.length?d.hE:void 0===d.At?window.default_gender.split(""):[d.At]).join(",")),f.set("room",d.Rp),f.set("limit",""+d.sF),f.set("offset",""+d.offset),ta(p,E("api/ts/roomlist/more-rooms/?"+f.toString()),2);g=p.ae;h=new N(g.responseText);m=JSON.parse(eo(h,"rooms"));n=m.map(function(v){var A;return{username:v.username,ii:v.gender,md:null!==(A=v.age)&&void 0!==A?A:void 0,sg:v.is_following}});d.offset+=n.length;return p.return(n.filter(function(v){return!e.Fv.has(v.username)}).filter(function(v){e.Fv.add(v);return!0}))})})},[]);this.offset=0;this.listener=M.h(function(b){a.At=TI(b.C.zr);a.Rp=b.B.A();a.Fv.add(a.Rp)},!1,!0)}function WI(a,b){b=void 0===b?[]:b;a.hE=b;a.offset=0;a.Fv=new Set}VI.prototype.Eb=function(){this.listener.removeListener()};function XI(a,b){a=new N(a);b={Ac:{username:b,mO:U(a,"fan_club_cost",!1),fo:T(a,"fan_club_is_member"),Ek:T(a,"performer_has_fanclub"),nO:Q(a,"fan_club_join_url"),location:Q(a,"location"),uu:eo(a,"interested_in"),sv:Q(a,"real_name"),Kj:Ac(Q(a,"sex")),ky:U(a,"follower_count"),bi:U(a,"display_age",!1),at:Q(a,"body_decorations"),Lt:Q(a,"display_birthday",!1),Fq:P(a,"time_since_last_broadcast"),Wv:Q(a,"smoke_drink"),bt:Q(a,"body_type"),languages:Q(a,"languages"),Ga:Q(a,"room_status"),Oq:T(a,"needs_supporter_to_pm")},Es:Q(a,"about_me"),xw:Q(a,"wish_list"),zo:function(c){var d=[];c=l(JSON.parse(c));for(var e=c.next();!e.done;e=c.next())e=new N(JSON.stringify(e.value)),d.push({id:U(e,"id"),name:Q(e,"name"),Fn:Q(e,"cover_url"),Ja:U(e,"tokens"),Hb:T(e,"is_video"),nn:T(e,"video_has_sound"),mc:T(e,"user_can_access"),In:T(e,"fan_club_only"),wd:Q(e,"label_text"),Le:Q(e,"label_color"),vj:T(e,"pending_approval",!1,!1),tw:T(e,"user_has_purchased")}),ho(e);return d}(eo(a,"photo_sets")),Xv:function(c){var d=[];c=l(JSON.parse(c));for(var e=c.next();!e.done;e=c.next())e=new N(JSON.stringify(e.value)),d.push({id:U(e,"id"),jw:Q(e,"title_name"),Wn:Q(e,"image_url"),Ja:U(e,"tokens"),hQ:T(e,"purchased"),wd:Q(e,"label_text"),Le:Q(e,"label_color")}),ho(e);return d}(eo(a,"social_medias")),yO:function(c){if(void 0!==c)return{description:c.description,fE:c.game_url,image:c.image_64x64,name:c.name,uid:c.uid,vs:c.viewers}}(go(a,"game_selection"))};ho(a);L("BioLoaded");return b}
function YI(a){return new Promise(function(b,c){E("api/biocontext/"+a+"/").then(function(d){b(XI(d.responseText,a))}).catch(function(d){c(d)})})}function ZI(a,b){L("PhotoSetClicked",{source:b,photoset_id:a.id,cost:a.Ja,is_video:a.Hb})}
function $I(a,b){var c=Em.current.CC;if(void 0!==c&&"0"!==c&&"1"!==c||"true"===Dn().bioq)for(a=a.getElementsByTagName("*"),b.style.position="relative",b=l(a),a=b.next();!a.done;a=b.next())a=a.value,a instanceof HTMLElement&&"fixed"===a.style.position&&(a.style.position="absolute")};function aJ(){var a=this;this.tk=new Set;Un.h(function(b){a.tk.add(b)});Tn.h(function(){a.tk.clear()})};function bJ(){var a=cJ;return 0===a||1===a}
function dJ(a,b,c){var d;gr.call(this);var e=this;this.message=c;this.hp=new La;this.zH=function(g){var h=g.ctrlKey||g.metaKey,m=h&&83===g.keyCode,n=h&&191===g.keyCode,p=191===g.keyCode;h=h&&76===g.keyCode;var v=27===g.keyCode;(9===g.keyCode||m||n||h||v||p)&&e.Fb()};this.Fk=function(){e.Fb()};this.rb=a;this.WI=b;this.Wz=null!==(d=eJ)&&void 0!==d?d:b.offsetParent;fJ(this);gJ(this);hJ(this);this.Kw();iJ(this);this.Iw();B("keydown",document,this.zH);B(hb(),document,this.Fk);B("popstate",window,this.Fk);r(Rr.h(this.Fk,!1),this.hp);r(ac.h(this.Fk,!1),this.hp);r(gc.h(this.Fk,!1),this.hp);var f=window.innerWidth;r(cp.h(function(){window.innerWidth<f&&e.Fk();f=window.innerWidth}),this.hp);this.Wz.appendChild(this.element);this.Ye();this.Mc.h(function(){e.Fb()});gr.prototype.Eh.call(this)}var eJ;q(dJ,gr);function fJ(a){cJ=0;a.element=document.createElement("div");a.element.id="user-context-menu";a.vi=document.createElement("div");a.rh=document.createElement("div");a.vi.style.backgroundColor="";a.element.appendChild(a.vi);a.element.style.textShadow="none";a.element.style.position="absolute";a.element.style.borderRadius="4px";a.element.style.borderStyle="solid";a.element.style.borderWidth="1px";a.element.style.zIndex="1010";a.element.style.top="0";a.element.style.fontWeight="normal";a.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";a.element.style.fontSize="12px";a.element.style.width="188px";a.element.style.cursor="default";a.element.style.visibility="visible";r(M.h(function(b){a.K=b.C.A;a.sk=b.C.userName;a.Ma=b.B}),a.hp)}
function gJ(a){var b=document.createElement("div");y(b,"ucmHeader");b.style.padding="9px 10px";b.style.fontWeight="bold";b.style.borderTopLeftRadius="4px";b.style.borderTopRightRadius="4px";a.name=document.createElement("div");a.name.style.display="inline-block";a.name.style.width="120px";a.name.style.height="12px";a.name.style.marginRight="10px";b.appendChild(a.name);var c=document.createElement("div");c.style.display="inline-block";c.style.width="38px";c.style.height="12px";a.md=document.createElement("span");y(a.md,"ucmAgespan");a.md.style.display="inline-block";a.md.style.width="15px";a.md.style.minHeight="14px";a.md.style.fontSize="12px";a.md.style.fontWeight="bold";a.md.style.marginRight="6px";a.md.style.verticalAlign="top";c.appendChild(a.md);y(a.md,"ucmPlaceholder");a.Bk=document.createElement("span");a.Bk.style.display="inline-block";a.Bk.style.width="15px";a.Bk.style.height="14px";a.Bk.style.verticalAlign="top";a.Ak=document.createElement("img");void 0!==a.rb.ii?(a.Ak.src=qI(a.rb.ii),a.Ak.style.display="inline-block"):(y(a.Bk,"ucmPlaceholder"),a.Ak.style.display="none");a.Ak.height=14;a.Ak.width=14;a.Bk.appendChild(a.Ak);c.appendChild(a.Bk);b.appendChild(c);a.vi.appendChild(b)}
function iJ(a){var b=document.createElement("a");b.innerText=a.rb.username;y(b,mI(a.rb));b.style.fontWeight="bold";b.href="/"+a.rb.username+"/";b.target="_blank";b.style.textDecoration="none";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.width="120px";b.style.display="inline-block";b.style.cursor="pointer";b.onmouseenter=function(){b.style.textDecoration="underline"};b.onmouseleave=function(){b.style.textDecoration="none"};B("click",a.name,function(c){L("ViewProfile",{username:a.rb.username});c.stopPropagation();a.Fb()});a.name.appendChild(b);a.da.style.background="rgba(0, 0, 0, 0.01)";a.element.style.visibility="visible"}
function jJ(a){var b,c,d=document.createElement("div");d.style.width="188px";d.style.height="75px";d.style.overflow="hidden";d.style.borderRadius="4px 4px 0px 0px";if(!0===(null===(b=a.d)||void 0===b?void 0:b.Uk)){var e=document.createElement("img");B("load",e,function(){var f=d.getBoundingClientRect(),g=e.getBoundingClientRect();f.height<g.height&&(e.style.position="relative",e.style.left="0px",e.style.top=(f.height-g.height)/2+"px")});e.src=a.d.Wn;e.style.width="100%";d.appendChild(e);a.element.style.top=a.element.offsetTop-75+"px";a.element.insertBefore(d,a.element.firstChild)}z(a.md,"ucmPlaceholder");z(a.Bk,"ucmPlaceholder");!0===(null===(c=a.d)||void 0===c?void 0:c.EI)&&(!isNaN(a.d.bi)&&18<=a.d.bi&&(a.md.innerText=a.d.bi.toString()),z(a.md,"ucmPlaceholder"),a.Ak.src=qI(a.d.ii),a.Ak.style.display="inline-block")}
function hJ(a){var b=oI(a.rb),c=pI(a.rb);if(void 0!==b){var d=document.createElement("div");y(d,"ucmUserLabel");d.style.padding="9px 10px";d.style.borderTopWidth="1px";d.style.borderTopStyle="solid";a.vi.appendChild(d);var e=document.createElement("div");e.style.width="74px";e.style.height="12px";e.style.width="100%";e.innerText=b;y(e,mI(a.rb));e.style.fontWeight="bold";d.appendChild(e);void 0!==c&&(a=document.createElement("div"),y(a,"ucmSublabel"),a.style.height="10px",a.style.fontSize="10px",a.style.marginTop="4px",a.style["-webkit-text-size-adjust"]="none",a.innerText=c,d.appendChild(a))}}k=dJ.prototype;k.Kw=function(){this.Hw(this.rb);this.vi.appendChild(this.rh);y(this.rh,"ucmModSection");this.rh.style.borderTopWidth="1px";this.rh.style.borderTopStyle="solid";this.rh.style.padding="5px 0";this.rh.style.display="none";kJ(this,this.rb.username)};function kJ(a,b){void 0!==a.sk&&a.sk!==b&&(a.WM=new ws(a.sk,b,function(){a.Fb()},function(){a.position()}),a.vi.appendChild(a.WM.element))}
k.Hw=function(){this.ug=document.createElement("div");y(this.ug,"ucmLinks");this.ug.style.padding="5px 0";this.ug.style.fontSize="12px";this.ug.style.borderTopWidth="1px";this.ug.style.borderTopStyle="solid";this.vi.appendChild(this.ug)};k.Iw=function(){if(this.sk!==this.rb.username)if(void 0===this.Ma)w("ignoreText: Chatconnection should be defined");else{var a=lJ(this,this.rb.username);this.ug.appendChild(a);a=mJ(this,this.rb.username);this.ug.appendChild(a);this.K!==this.sk&&(a=nJ(this,this.rb.username,this.Ma),this.ug.appendChild(a));void 0!==this.message&&(a=oJ(this,this.rb.username,this.message),this.ug.appendChild(a))}else this.ug.style.display="none"};k.MC=function(){return!1};function pJ(a){if(void 0!==a.d&&a.d.FI&&(void 0===a.d.Sv||a.MC())){var b=document.createElement("div"),c=a.Wh(),d=qJ(),e=a.d.username;d.style.paddingLeft="20px";c.appendChild(d);b.appendChild(c);d.innerText=void 0!==a.d.Sv?lh:kh;c.onclick=function(){void 0!==a.d&&void 0!==a.d.Sv&&void 0!==a.K?F("edit_room_ban/",{banid:String(a.d.Sv),action:"remove_silence",room_username:a.K}).catch(function(f){w(f);V("Error removing silence from user "+e)}):oo("Silence "+a.rb.username+"?",function(){L("SilenceUser",{username:a.rb.username,to_user:a.rb.username});F("roomsilence/"+a.rb.username+"/"+a.K+"/",{}).catch(function(f){w(f);V("Error silencing user "+a.rb.username)})});a.Fb()};a.rh.appendChild(b);a.rh.style.display=""}}
k.hy=function(){if(jb())return{GC:gb(),FC:gb()};for(var a,b,c=this.Wz;void 0!==c&&"body"!==c.tagName.toLowerCase();c=null===c.parentElement?void 0:c.parentElement){var d=c,e=window.getComputedStyle(d);void 0===a&&"hidden"===e.overflowY&&(a=d);void 0===b&&"hidden"===e.overflowX&&(b=d);d=l([a,b]);a=d.next().value;b=d.next().value;if(void 0!==a&&void 0!==b)break}return{GC:a,FC:b}};k.position=function(a){if(void 0===a?0:a){a=this.WI.getBoundingClientRect();if(document.body.contains(this.name)){var b=this.name.getBoundingClientRect(),c=this.element.offsetLeft+(a.left-b.left);this.element.style.top=this.element.offsetTop+(a.top-b.top)+"px";this.element.style.left=c+"px"}a=window.innerHeight-(this.element.getBoundingClientRect().top+this.element.offsetHeight+37);0>a&&(this.element.style.top=parseInt(this.element.style.top.slice(0,-2))+a+"px")}b=this.hy();a=b.GC;b=b.FC;b=void 0===b?document.documentElement:b;var d=(void 0===a?document.documentElement:a).getBoundingClientRect(),e=b.getBoundingClientRect();c=this.element.getBoundingClientRect();a=d.bottom-c.height;b=e.right-c.width;d=d.top;e=e.left;var f=c.top;c=c.left;d>f&&(this.element.style.top=this.element.offsetTop+(d-f)+4+"px");e>c&&(this.element.style.left=this.element.offsetLeft+(e-c)+4+"px");a<f&&(this.element.style.top=this.element.offsetTop+(a-f)-4+"px");b<c&&(this.element.style.left=this.element.offsetLeft+(b-c)-
4+"px")};k.Fb=function(){2!==cJ&&(gr.prototype.Fb.call(this),void 0!==this.Gp&&this.Gp.yB(),C("keydown",document,this.zH),C(hb(),document,this.Fk),C("popstate",window,this.Fk),Ma(this.hp),this.Wz.removeChild(this.element),this.eg(),cJ=2)};function lJ(a,b){var c=a.Wh(),d=document.createElement("div"),e=qJ();y(c,"ucmPMLink");c.appendChild(d);c.appendChild(e);e.innerText=Wf;y(d,"ucmSendIcon");d.style.padding="0px 4px 0 0";d.style.verticalAlign="bottom";d.style.width="14px";d.style.height="14px";d.style.display="inline-block";d.style.marginRight="4px";B("click",c,function(f){a.Fb();Hr('You must be logged in to send a private message. Click "OK" to login.')||(L("StartPrivateMessage",{username:b,to_user:b,location:"PMTab"}),lr.j({username:b,focus:!0,Or:a.Or}),f.stopPropagation())});return c}function mJ(a,b){var c=a.Wh(),d=document.createElement("div"),e=qJ();e.innerText=Xf;y(d,"ucmMentionIcon");d.style.width="14px";d.style.height="14px";d.style.padding="0px 4px 0 0px";d.style.verticalAlign="bottom";d.style.display="inline-block";d.style.marginRight="4px";c.id="ucm-mentionuser";c.appendChild(d);c.appendChild(e);B("click",c,function(){mr.j(b);a.Fb()});return c}
function nJ(a,b,c){var d=a.Wh(),e=document.createElement("div"),f=qJ();DG(b)?(f.style.paddingLeft="20px",f.innerText=Eg):(y(d,"notIgnored"),f.style.paddingLeft="0",f.innerText=Gg,d.appendChild(e));y(d,"ucmIgnoreLink");d.appendChild(f);y(e,"ucmIgnoreIcon");e.style.padding="0px 4px 0 0px";e.style.verticalAlign="bottom";e.style.width="14px";e.style.height="14px";e.style.display="inline-block";e.style.marginRight="4px";B("click",d,function(){L("IgnoreUser",{username:b,to_user:b,location:"PMTab"});DG(b)?c.JB(b):c.og(b);a.Fb()});return d}
function oJ(a,b,c){var d=a.Wh(),e=document.createElement("div"),f=qJ();y(d,"ucmReportLink");d.appendChild(e);d.appendChild(f);y(e,"ucmReportIcon");e.style.padding="0 4px 0 0";e.style.verticalAlign="middle";e.style.width="14px";e.style.height="14px";e.style.display="inline-block";e.style.marginRight="4px";f.innerText=Hg;B("click",d,function(){L("ReportChatUser",{username:b,to_user:b});a.element.removeChild(a.vi);a.Gp=new EG(b,c,a.Ma);a.element.appendChild(a.Gp.element);a.position();a.Gp.Vt();a.Gp.nt.h(function(){a.Fb()})});return d}k.Wh=function(){var a=document.createElement("div");a.style.padding="3px 10px";a.style.whiteSpace="nowrap";a.style.fontWeight="normal";a.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";a.style.fontSize="12px";a.style["-webkit-text-size-adjust"]="none";y(a,"ucmLinkColor");rJ(a);return a};function qJ(){var a=document.createElement("span");a.style.fontWeight="normal";a.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";a.style.fontSize="12px";a.style["-webkit-text-size-adjust"]="none";y(a,"ucmLinkColor");return a}function rJ(a){y(a,"ucmLinkHover");a.onmouseenter=function(){a.style.cursor="pointer"};a.onmouseleave=function(){a.style.cursor="default"}}var cJ=2;var sJ;M.h(function(a){sJ=a.B.A()});function tJ(a){var b=void 0===sJ||""===sJ?a:sJ;return new Promise(function(c,d){E("api/ts/accounts/usermenu/"+a+"/"+b+"/").then(function(e){e=new N(e.responseText);var f=T(e,"online"),g=Q(e,"username"),h=U(e,"display_age",!1),m=Q(e,"gender"),n=Q(e,"image_url"),p=T(e,"can_silence"),v=$n(e,"silence_id"),A=T(e,"can_access"),D=T(e,"needs_supporter_to_pm");ho(e);c({username:g,bi:h,ii:m,Wn:n,Uk:f,FI:p,EI:A,Oq:D,Sv:v})}).catch(function(e){d(e)})})};function uJ(a,b,c,d,e){function f(m){m.preventDefault();null===g.element.parentElement?w("Username span has no parent"):(L("OpenUserContextMenu",{username:a.username}),vJ(g,a,g.element,c))}b=void 0===b?!1:b;d=void 0===d?!0:d;e=void 0===e?!1:e;x.call(this);var g=this;this.element.style.height="auto";this.element.style.width="auto";this.element.style.position="";this.element.style.display="inline-block";this.element.style.maxWidth="100%";this.element.style.textOverflow="ellipsis";this.element.style.whiteSpace="nowrap";this.element.style.verticalAlign="top";var h=wJ();this.element.appendChild(h);this.element.setAttribute("data-purecolor",nI(a));this.element.className="purecolor";b||(this.element.setAttribute("data-purecolor",nI(a)),y(this.element,"purecolor"));y(this.element,mI(a));this.element.style.fontWeight="bold";this.element.appendChild(document.createTextNode(a.username));b=document.createElement("span");h=!d;b.classList.add("notesIcon_"+a.username);d&&b.classList.add("notesIcon_msg");b.style.display=ms().lq(a.username)?"":"none";d=is(fs(),void 0!==c||h,e,d,h);b.appendChild(d);this.element.appendChild(b);h&&(d=document.createElement("img"),d.style.display="inline-block",d.style.height="16px",d.style.margin="0 5px",d.style.verticalAlign="middle",d.src=qI(a.ii),this.element.insertBefore(d,this.element.firstChild),this.element.style.whiteSpace="nowrap");this.element.onmouseenter=function(){g.element.style.textDecoration="underline";g.element.style.cursor="pointer"};this.element.onmouseleave=function(){g.element.style.textDecoration="none";g.element.style.cursor="default"};B("click",this.element,f);B("contextmenu",this.element,f)}q(uJ,x);function vJ(a,b,c,d){if(2===cJ){cJ=0;var e=a.iD(b,c,d);e.position(!0);tJ(b.username).then(function(f){2!==cJ&&e.rb.username===f.username&&(void 0===e.d&&(e.d=f,e.Or=e.d.Oq,jJ(e),pJ(e),cJ=1),e.position())}).catch(function(f){w("Could not process user menu request: "+f)})}}uJ.prototype.iD=function(a,b,c){return new dJ(a,b,c)};function xJ(a,b){a.element.innerText="@"+a.element.innerText;b&&(y(a.element,"mentionHl"),a.element.style.padding="2px");return a.element}function wJ(){var a=document.createElement("span");a.style.verticalAlign="middle";return a};function yJ(a,b,c){dJ.call(this,a,b,c)}q(yJ,dJ);yJ.prototype.Kw=function(){var a=this;dJ.prototype.Kw.call(this);if(this.sk!==this.rb.username){this.rh.style.display="";this.Bo=document.createElement("div");y(this.Bo,"ucmPromoteModSection");this.Bo.style.borderTopWidth="1px";this.Bo.style.borderTopStyle="solid";this.Bo.style.padding="5px 0";this.Tn=document.createElement("div");y(this.Tn,"ucmHasTippedSection");this.Tn.style.padding="9px 10px";this.Tn.style.borderTopWidth="1px";this.Tn.style.borderTopStyle="solid";this.vi.insertBefore(this.Bo,this.rh.nextSibling);this.vi.appendChild(this.Tn);var b=this.Wh(),c=qJ();c.style.paddingLeft="20px";this.rh.appendChild(b);b.appendChild(c);c.innerText=bl;B("click",b,function(){a.Fb();Hr('You must be logged in to ban a user. Click "OK" to login.')||oo(fd(a.rb.username),function(){L("BanUser",{username:a.rb.username});F("roomban/"+a.rb.username+"/"+a.K+"/",{}).then(function(){void 0!==a.Ma?CG(a.Ma,a.rb.username):w("Chat Connection undefined when trying to ban a user")}).catch(function(m){w(m);V("Error banning user "+
a.rb.username)})})});b=document.createElement("div");c=document.createElement("img");var d=document.createElement("span");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/ico-tip.gif";c.style.width="13px";c.style.height="13px";c.style.padding="2px 4px 0 1px";b.appendChild(c);b.appendChild(d);d.innerText=gd(this.rb.username)+":";this.Tn.appendChild(b);c=document.createElement("div");d=document.createElement("div");var e=document.createElement("div");c.style.paddingLeft="20px";d.style.paddingLeft="20px";e.style.paddingLeft="20px";var f=document.createElement("span"),g=document.createElement("span"),h=document.createElement("span");c.appendChild(f);d.appendChild(g);e.appendChild(h);f.innerText=hd(0);g.innerText=id(0);h.innerText=jd(0);b.appendChild(c);b.appendChild(d);b.appendChild(e);void 0!==this.K&&void 0!==this.sk&&F("api/getchatusermenu/",{roomname:this.K,fromuser:this.sk,touser:this.rb.username}).then(function(m){a.Bo.appendChild(zJ(a,!!m.getResponseHeader("X-Target_Is_Mod"),a.rb));f.innerText=hd(AJ(m.getResponseHeader("X-Tipped_Performer_Last_Hour")));g.innerText=id(AJ(m.getResponseHeader("X-Tipped_Performer_Last_24_Hours")));h.innerText=jd(AJ(m.getResponseHeader("X-Tipped_Performer_Last_Two_Weeks")))}).catch(function(m){w(m);V("Error fetching user menu")})}};yJ.prototype.Iw=function(){dJ.prototype.Iw.call(this);var a=this.Wh();a.style.display="none";var b=document.createElement("img");b.style.padding="0px 4px 0 0";b.style.verticalAlign="bottom";a.appendChild(b);b=qJ();a.appendChild(b);M.once(function(){});this.ug.prepend(a)};function zJ(a,b,c){var d=a.Wh(),e=qJ();e.style.paddingLeft="20px";if(b){e.innerText=cl;var f='You must be logged in to remove a moderator. Click "OK" to login.';var g="removemoderator/"+c.username+"/"+a.K+"/"}else e.innerText=dl,f='You must be logged in to promote a user to moderator. Click "OK" to login.',g="addmoderator/"+c.username+"/"+a.K+"/";var h="Error promoting user "+c.username;B("click",d,function(){a.Fb();Hr(f)||F(g,{}).then(function(){qr.j({Lc:!b,username:c.username})}).catch(function(m){w(m);V(h)})});d.appendChild(e);return d}function AJ(a){if(null===a)return 0;a=Number(a);return 0>a?0:a}yJ.prototype.MC=function(){return!0};function BJ(a,b,c,d){uJ.call(this,a,void 0===b?!1:b,c,void 0===d?!0:d)}q(BJ,uJ);BJ.prototype.iD=function(a,b,c){return new yJ(a,b,c)};function CJ(a,b){"string"===typeof a&&-1!==a.indexOf(".")&&1===parseFloat(a)&&(a="100%");var c="string"===typeof a&&-1!==a.indexOf("%");a=360===b?a:Math.min(b,Math.max(0,parseFloat(a)));c&&(a=parseInt(String(a*b),10)/100);return 1E-6>Math.abs(a-b)?1:a=360===b?(0>a?a%b+b:a%b)/parseFloat(String(b)):a%b/parseFloat(String(b))}function DJ(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}function EJ(a){return 1>=a?100*Number(a)+"%":a}function FJ(a){return 1===a.length?"0"+a:String(a)};function GJ(a,b,c){a=CJ(a,255);b=CJ(b,255);c=CJ(c,255);var d=Math.max(a,b,c),e=Math.min(a,b,c),f=0,g=(d+e)/2;if(d===e)f=e=0;else{var h=d-e;e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:f=(b-c)/h+(b<c?6:0);break;case b:f=(c-a)/h+2;break;case c:f=(a-b)/h+4}f/=6}return{gh:f,Rd:e,fc:g}}function HJ(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}
function IJ(a,b,c,d){a=[FJ(Math.round(a).toString(16)),FJ(Math.round(b).toString(16)),FJ(Math.round(c).toString(16))];return d&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}
function JJ(a,b,c,d,e){a=[FJ(Math.round(a).toString(16)),FJ(Math.round(b).toString(16)),FJ(Math.round(c).toString(16)),FJ(Math.round(255*parseFloat(d)).toString(16))];return e&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")};var KJ={nN:"#f0f8ff",oN:"#faebd7",pN:"#00ffff",qN:"#7fffd4",sN:"#f0ffff",tN:"#f5f5dc",uN:"#ffe4c4",rI:"#000000",vN:"#ffebcd",blue:"#0000ff",wN:"#8a2be2",xN:"#a52a2a",yN:"#deb887",zN:"#5f9ea0",BN:"#7fff00",CN:"#d2691e",DN:"#ff7f50",EN:"#6495ed",FN:"#fff8dc",GN:"#dc143c",IN:"#00ffff",JN:"#00008b",KN:"#008b8b",LN:"#b8860b",MN:"#a9a9a9",NN:"#006400",ON:"#a9a9a9",PN:"#bdb76b",QN:"#8b008b",RN:"#556b2f",SN:"#ff8c00",TN:"#9932cc",UN:"#8b0000",VN:"#e9967a",WN:"#8fbc8f",XN:"#483d8b",YN:"#2f4f4f",ZN:"#2f4f4f",$N:"#00ced1",aO:"#9400d3",cO:"#ff1493",dO:"#00bfff",eO:"#696969",fO:"#696969",hO:"#1e90ff",oO:"#b22222",pO:"#fffaf0",uO:"#228b22",wO:"#ff00ff",xO:"#dcdcdc",zO:"#f8f8ff",BO:"#daa520",AO:"#ffd700",FO:"#808080",green:"#008000",GO:"#adff2f",HO:"#808080",KO:"#f0fff0",LO:"#ff69b4",MO:"#cd5c5c",NO:"#4b0082",TO:"#fffff0",VO:"#f0e68c",YO:"#fff0f5",XO:"#e6e6fa",ZO:"#7cfc00",bP:"#fffacd",cP:"#add8e6",dP:"#f08080",eP:"#e0ffff",fP:"#fafad2",gP:"#d3d3d3",hP:"#90ee90",iP:"#d3d3d3",jP:"#ffb6c1",kP:"#ffa07a",lP:"#20b2aa",mP:"#87cefa",nP:"#778899",oP:"#778899",pP:"#b0c4de",qP:"#ffffe0",rP:"#00ff00",sP:"#32cd32",tP:"#faf0e6",uP:"#ff00ff",vP:"#800000",xP:"#66cdaa",yP:"#0000cd",zP:"#ba55d3",AP:"#9370db",BP:"#3cb371",CP:"#7b68ee",DP:"#00fa9a",EP:"#48d1cc",FP:"#c71585",GP:"#191970",IP:"#f5fffa",JP:"#ffe4e1",KP:"#ffe4b5",MP:"#ffdead",NP:"#000080",QP:"#fdf5e6",RP:"#808000",SP:"#6b8e23",yo:"#ffa500",UP:"#ff4500",VP:"#da70d6",WP:"#eee8aa",XP:"#98fb98",YP:"#afeeee",ZP:"#db7093",$P:"#ffefd5",aQ:"#ffdab9",cQ:"#cd853f",eQ:"#ffc0cb",fQ:"#dda0dd",gQ:"#b0e0e6",iQ:"#800080",jQ:"#663399",red:"#ff0000",pQ:"#bc8f8f",qQ:"#4169e1",sQ:"#8b4513",tQ:"#fa8072",uQ:"#f4a460",vQ:"#2e8b57",wQ:"#fff5ee",zQ:"#a0522d",AQ:"#c0c0c0",CQ:"#87ceeb",DQ:"#6a5acd",EQ:"#708090",FQ:"#708090",GQ:"#fffafa",IQ:"#00ff7f",JQ:"#4682b4",tan:"#d2b48c",NQ:"#008080",PQ:"#d8bfd8",QQ:"#ff6347",TQ:"#40e0d0",YQ:"#ee82ee",ZQ:"#f5deb3",fN:"#ffffff",$Q:"#f5f5f5",cR:"#ffff00",dR:"#9acd32"};function LJ(a){var b,c=0,d=0,e=0,f=1,g=!1,h=!1;"string"===typeof a&&(a=MJ(a));if("object"===typeof a){if(NJ(a.r)&&NJ(a.Ya)&&NJ(a.b))c=255*CJ(a.r,255),d=255*CJ(a.Ya,255),e=255*CJ(a.b,255),g=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb";else if(isNaN(Number(a.y))||isNaN(Number(a.kG))||isNaN(Number(a.rG)))if(NJ(a.gh)&&NJ(a.Rd)&&NJ(a.jp)){d=EJ(a.Rd);e=EJ(a.jp);g=a.gh;g=6*CJ(g,360);c=CJ(d,100);e=CJ(e,100);d=Math.floor(g);var m=g-d;g=e*(1-c);h=e*(1-m*c);m=e*(1-(1-m)*c);var n=d%6;c=255*[e,h,g,g,m,e][n];d=255*[m,e,e,h,g,g][n];e=255*[g,g,m,e,e,h][n];g=!0;h="hsv"}else NJ(a.gh)&&NJ(a.Rd)&&NJ(a.fc)?(d=EJ(a.Rd),e=EJ(a.fc),c=a.gh,c=CJ(c,360),d=CJ(d,100),e=CJ(e,100),0===d?g=d=e:(g=.5>e?e*(1+d):e+d-e*d,h=2*e-g,e=HJ(h,g,c+1/3),d=HJ(h,g,c),g=HJ(h,g,c-1/3)),c=255*e,d*=255,e=255*g,g=!0,h="hsl"):isNaN(Number(a.fc))||isNaN(Number(a.a))||isNaN(Number(a.b))||(e=(a.fc+16)/116,g=a.a/500+e,h=e-a.b/200,g=.95047*(.008856<g*g*g?g*g*g:(g-16/116)/7.787),e=.008856<e*e*e?e*e*e:(e-16/116)/7.787,h=1.08883*(.008856<h*h*h?h*h*h:(h-16/116)/7.787),c=3.2406*g+-1.5372*e+-.4986*h,d=-.9689*g+1.8758*e+.0415*h,e=.0557*g+-.204*e+1.057*h,c=.0031308<c?1.055*Math.pow(c,1/2.4)-.055:12.92*c,d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:12.92*d,e=.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e,c=255*Math.max(0,Math.min(1,c)),d=255*Math.max(0,Math.min(1,d)),e=255*Math.max(0,Math.min(1,e)),g=!0,h="lab");else e=a.y,g=a.kG,d=a.rG,c=Math.round(e+1.402*d),d=Math.round(e-.344*g-.714*d),e=Math.round(e+1.772*g),g=!0,h="ypbpr";Object.prototype.hasOwnProperty.call(a,"a")&&(f=a.a)}f=DJ(f);return{ok:g,format:null!==(b=a.format)&&void 0!==b?b:h,r:Math.min(255,Math.max(c,0)),Ya:Math.min(255,Math.max(d,0)),b:Math.min(255,Math.max(e,0)),a:f}}
var OJ=RegExp("(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)"),PJ=RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),QJ=RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),RJ=RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),SJ=RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),TJ=RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),UJ=RegExp("hsva[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),VJ=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,WJ=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,XJ=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,YJ=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;function MJ(a){a=a.trim().toLowerCase();if(0===a.length)return!1;var b=!1;if(KJ[a])a=KJ[a],b=!0;else if("transparent"===a)return{r:0,Ya:0,b:0,a:0,format:"name"};var c=PJ.exec(a);if(null!==c)return{r:c[1],Ya:c[2],b:c[3]};c=QJ.exec(a);if(null!==c)return{r:c[1],Ya:c[2],b:c[3],a:c[4]};c=RJ.exec(a);if(null!==c)return{gh:c[1],Rd:c[2],fc:c[3]};c=SJ.exec(a);if(null!==c)return{gh:c[1],Rd:c[2],fc:c[3],a:c[4]};c=TJ.exec(a);if(null!==c)return{gh:c[1],Rd:c[2],jp:c[3]};c=UJ.exec(a);if(null!==c)return{gh:c[1],Rd:c[2],jp:c[3],a:c[4]};c=YJ.exec(a);if(null!==c)return{r:parseInt(c[1],16),Ya:parseInt(c[2],16),b:parseInt(c[3],16),a:parseInt(c[4],16)/255,format:b?"name":"hex8"};c=WJ.exec(a);if(null!==c)return{r:parseInt(c[1],16),Ya:parseInt(c[2],16),b:parseInt(c[3],16),format:b?"name":"hex"};c=XJ.exec(a);if(null!==c)return{r:parseInt(c[1]+c[1],16),Ya:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255,format:b?"name":"hex8"};c=VJ.exec(a);return null!==c?{r:parseInt(c[1]+c[1],16),Ya:parseInt(c[2]+
c[2],16),b:parseInt(c[3]+c[3],16),format:b?"name":"hex"}:!1}function NJ(a){return!!OJ.exec(String(a))};function ZJ(a,b){var c=this;a=void 0===a?"":a;b=void 0===b?{}:b;var d;this.um=function(e){return c.Jp.um(e)};this.Gt=function(e){return c.Jp.Gt(e)};this.Fi=function(e){return c.Jp.Fi(e)};this.Mu=function(e){return c.Jp.Mu(e)};if(a instanceof ZJ)return a.clone();"number"===typeof a&&(a={r:a>>16,Ya:(a&65280)>>8,b:a&255});a=LJ(a);this.r=a.r;this.Ya=a.Ya;this.b=a.b;this.a=a.a;this.Cr=Math.round(100*this.a)/100;this.format=null!==(d=b.format)&&void 0!==d?d:a.format;1>this.r&&(this.r=Math.round(this.r));1>this.Ya&&(this.Ya=Math.round(this.Ya));1>this.b&&(this.b=Math.round(this.b));this.si=a.ok;$J(this);aK(this);bK(this)}function $J(a){a.Bw={um:function(b){var c=cK(a);c.fc+=b/100;c.fc=Math.min(1,Math.max(0,c.fc));return dK(c)},Gt:function(b){return a.Bw.um(-b)},Fi:function(b){var c=cK(a);c.fc=b;return dK(c)},Mu:function(b){b=dK(b).Bw.oj;var c=cK(a);c.fc=b;return dK(c)},get oj(){return cK(a).fc}}}
function aK(a){a.Aw={um:function(b){var c=eK(a);c.fc+=b/100;c.fc=Math.min(1,Math.max(0,c.fc));return dK(c)},Gt:function(b){return a.Aw.um(-b)},Fi:function(b){var c=eK(a);c.fc=b;return dK(c)},Mu:function(b){b=dK(b).Aw.oj;var c=eK(a);c.fc=b;return dK(c)},get oj(){return eK(a).fc}}}
function bK(a){a.Cw={um:function(b){var c=fK(a);c.y+=b/100*255;c.y=Math.min(1,Math.max(0,c.y));return dK(c)},Gt:function(b){return a.Cw.um(-b)},Fi:function(b){var c=fK(a);c.y=b;return dK(c)},Mu:function(b){b=dK(b).Cw.oj;var c=fK(a);c.y=b;return dK(c)},get oj(){return fK(a).y}}}function dK(a){var b=void 0===b?{}:b;return new ZJ(void 0===a?"":a,b)}function gK(a,b){a.a=DJ(b);a.Cr=Math.round(100*a.a)/100;return a}
function eK(a){var b=a.r,c=a.Ya,d=a.b;b/=255;c/=255;d/=255;b=.04045<b?Math.pow((b+.055)/1.055,2.4):b/12.92;c=.04045<c?Math.pow((c+.055)/1.055,2.4):c/12.92;d=.04045<d?Math.pow((d+.055)/1.055,2.4):d/12.92;a=(.4124*b+.3576*c+.1805*d)/.95047;var e=.2126*b+.7152*c+.0722*d;b=(.0193*b+.1192*c+.9505*d)/1.08883;a=.008856<a?Math.pow(a,1/3):7.787*a+16/116;e=.008856<e?Math.pow(e,1/3):7.787*e+16/116;b=.008856<b?Math.pow(b,1/3):7.787*b+16/116;return{fc:116*e-16,a:500*(a-e),b:200*(e-b)}}
function cK(a){var b=GJ(a.r,a.Ya,a.b);return{gh:360*b.gh,Rd:b.Rd,fc:b.fc,a:a.a}}function hK(a,b){return IJ(a.r,a.Ya,a.b,void 0===b?!1:b)}function iK(a){return{r:Math.round(a.r),Ya:Math.round(a.Ya),b:Math.round(a.b),a:a.a}}function fK(a){var b=a.r,c=a.Ya;a=a.b;return{y:.299*b+.587*c+.114*a,kG:-.169*b-.331*c+.5*a,rG:.5*b-.419*c-.081*a}}function jK(a){var b=Math.round(a.r),c=Math.round(a.Ya),d=Math.round(a.b);return 1===a.a?"rgb("+b+", "+c+", "+d+")":"rgba("+b+", "+c+", "+d+", "+a.Cr+")"}
function kK(a){function b(c){return Math.round(100*CJ(c,255))}return 1===a.a?"rgb("+b(a.r)+"%, "+b(a.Ya)+"%, "+b(a.b)+"%)":"rgba("+b(a.r)+"%, "+b(a.Ya)+"%, "+b(a.b)+"%, "+a.Cr+")"}function lK(a){if(0===a.a)return"transparent";if(1>a.a)return!1;a="#"+IJ(a.r,a.Ya,a.b,!1);for(var b=l(Object.entries(KJ)),c=b.next();!c.done;c=b.next()){var d=l(c.value);c=d.next().value;d=d.next().value;if(a===d)return c}return!1}
ZJ.prototype.toString=function(a){var b=!!a;a=null!==a&&void 0!==a?a:this.format;var c=!1,d=1>this.a&&0<=this.a;if(!b&&d&&(a.startsWith("hex")||"name"===a))return"name"===a&&0===this.a?lK(this):jK(this);"rgb"===a&&(c=jK(this));"prgb"===a&&(c=kK(this));if("hex"===a||"hex6"===a)c="#"+hK(this,!1);"hex3"===a&&(c="#"+hK(this,!0));"hex4"===a&&(c="#"+JJ(this.r,this.Ya,this.b,this.a,!0));"hex8"===a&&(c="#"+JJ(this.r,this.Ya,this.b,this.a,!1));"name"===a&&(c=lK(this));"hsl"===a&&(d=GJ(this.r,this.Ya,this.b),b=Math.round(360*d.gh),c=Math.round(100*d.Rd),d=Math.round(100*d.fc),c=1===this.a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this.Cr+")");if("hsv"===a){c=this.r;d=this.Ya;var e=this.b;c=CJ(c,255);d=CJ(d,255);e=CJ(e,255);a=Math.max(c,d,e);var f=Math.min(c,d,e),g=0;b=a-f;if(a===f)g=0;else{switch(a){case c:g=(d-e)/b+(d<e?6:0);break;case d:g=(e-c)/b+2;break;case e:g=(c-d)/b+4}g/=6}c=Math.round(360*g);b=Math.round(100*(0===a?0:b/a));a=Math.round(100*a);c=1===this.a?"hsv("+c+", "+b+"%, "+
a+"%)":"hsva("+c+", "+b+"%, "+a+"%, "+this.Cr+")"}return null!==c&&void 0!==c?c:"#"+hK(this,!1)};ZJ.prototype.clone=function(){return dK(this.toString())};ea.Object.defineProperties(ZJ.prototype,{Jp:{configurable:!0,enumerable:!0,get:function(){return 1===mK?this.Bw:0===mK?this.Aw:this.Cw}},oj:{configurable:!0,enumerable:!0,get:function(){return this.Jp.oj}},UE:{configurable:!0,enumerable:!0,get:function(){return jK(this)===jK(dK("#000000"))}},hF:{configurable:!0,enumerable:!0,get:function(){return jK(this)===jK(dK("#FFFFFF"))}},rK:{configurable:!0,enumerable:!0,get:function(){return 0===this.a}},EA:{configurable:!0,enumerable:!0,get:function(){var a=1>this.a?[this.r,this.Ya,this.b,this.a]:[this.r,this.Ya,this.b];var b=Math.max.apply(Math,ja(a));a=Math.min.apply(Math,ja(a));return b-a}}});ea.Object.defineProperties(ZJ,{oD:{configurable:!0,enumerable:!0,get:function(){return dK("#202C39")}},pD:{configurable:!0,enumerable:!0,get:function(){return dK("#FFFFFF")}},rI:{configurable:!0,enumerable:!0,get:function(){return dK("#000000")}},fN:{configurable:!0,enumerable:!0,get:function(){return dK("#FFFFFF")}},QM:{configurable:!0,enumerable:!0,get:function(){return dK("transparent")}}});var mK=1;var nK=/\s*,\s*/,oK=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,qK=pK(["(?:",/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),rK=pK([qK,"(?:\\s+",oK,"(?:\\s+",oK,")?)?"],""),sK=pK(["(?:",rK,nK,")*",rK],""),tK=["(?:(",pK(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,")"],""),")",nK,")?(",sK,")"],uK=["\\s*(",qK,")","(?:\\s+","(",oK,"))?","(?:",nK,"\\s*)?"];function vK(a,b,c){var d;this.ap=[];this.line=c[1];a=b.exec(a);if(null!==a)for(this.angle=a[1],b=pK(uK,"gi"),c=b.exec(a[4]);null!==c;)this.ap.push({color:dK(c[1]),position:null!==(d=c[2])&&void 0!==d?d:""}),c=b.exec(a[4])}function wK(a){a=void 0===a?"":a;if(0!==a.trim().length&&a.trim().toLowerCase().startsWith("linear-gradient")){var b=pK(tK,"gi"),c=b.exec(a);if(null!==c)return new vK(a,b,c)}}
vK.prototype.UE=function(){return this.ap.every(function(a){return jK(a.color)===jK(dK("black"))})};vK.prototype.hF=function(){return this.ap.every(function(a){return jK(a.color)===jK(dK("white"))})};vK.prototype.toString=function(){var a=[];void 0!==this.angle&&a.push(this.angle);for(var b=l(this.ap),c=b.next();!c.done;c=b.next())c=c.value,a.push((jK(c.color)+" "+c.position).trim());return"linear-gradient("+a.join(", ")+")"};function pK(a,b){return new RegExp(a.reduce(function(c,d){return c+("string"===typeof d?d:d.source)},""),b)};ec.h(function(a){a="darkmode"===a;for(var b=l(document.querySelectorAll(".dm-adjust")),c=b.next();!c.done;c=b.next())xK(c.value,a)});function xK(a,b){var c,d;if("photo"!==a.getAttribute("type")&&(a=a.firstElementChild,null!==a)){var e=a.classList.contains("roomNotice");if(!e||a.innerText.startsWith("Notice:")){var f=b?null!==(c=a.getAttribute("dm-adjust-bg"))&&void 0!==c?c:"#202C39":null!==(d=a.getAttribute("dm-init-bg"))&&void 0!==d?d:"white";f.startsWith("linear-gradent")?a.style.backgroundImage=f:a.style.background=f;b=b?a.getAttribute("dm-adjust-fg"):a.getAttribute("dm-init-fg");c=e?a:a.querySelector("span.msg-text");null!==b&&null!==c&&(c.style.color=b)}}}mK=2;var yK=ZJ.oD.oj,zK=ZJ.pD.oj;function AK(a){this.background=a.BC;this.zb=a.QD;BK(this)}function BK(a){var b,c=wK(a.background);a.RD=jK(gK(gK(dK(null!==(b=a.zb)&&void 0!==b?b:ZJ.pD),1).Fi(zK),1));void 0!==c?(c.ap.forEach(function(d){var e=iK(d.color);var f=iK(dK(ZJ.oD));e=dK({r:f.r+(e.r-f.r)*e.a,Ya:f.Ya+(e.Ya-f.Ya)*e.a,b:f.b+(e.b-f.b)*e.a});d.color=e.Fi(yK)}),a.Ww=c.toString()):(b=dK(a.background),a.Ww=!b.si||b.hF||b.rK||b.UE?"#202C39":jK(b.Fi(yK)))}
function CK(a){a.style.textShadow="1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000"}
function DK(a,b,c){b=(null!==b&&void 0!==b?b:"").trim();c=(null!==c&&void 0!==c?c:"").trim();var d=a.firstElementChild,e=d,f=a;if(d.classList.contains("roomNotice")){if(f=d,!e.innerText.startsWith("Notice:"))return}else e=a.querySelector(".msg-text");a=dK(b);e.style.color=10>a.EA?"#D3D3D3":jK(gK(a.Fi(zK),1));0<c.length?(a=wK(c),void 0!==a?(a.ap.forEach(function(g){var h=g.color.a;g.color=10>g.color.EA?ZJ.QM:gK(g.color.Fi(yK),h)}),f.style.background=a.toString()):(c=dK(c),10>c.EA?(f.style.removeProperty("background"),CK(e)):(a=c.a,c=gK(c.Fi(yK),a),f.style.background=jK(c),1>a&&CK(e)))):CK(e)};var EK,FK,GK={};M.h(function(a){EK=a.C.zr;FK=a.B;GK.Qe=a.C.za.Qe;GK.kh=a.C.kh;GK.$b=!1});Tr.h(function(a){GK.Qe=a.Qe});function HK(a){a=Lr(a);a=new kE(a.red,a.green,a.blue);var b=a.brightness();lE(a,255-b/3);return"rgb("+a.red+", "+a.green+", "+a.blue+")"}function IK(a,b,c,d){return 0===a?new BJ(b,c,d):new uJ(b,c,d,!0,!0)}
function JK(a,b,c){var d=KK(a.T.username);d.style.fontSize="";var e=IK(b,a.T,!1,a);e.element.style.paddingRight="4px";d.appendChild(e.element);var f=kG(new jG(GK),a.message);f.style.color=void 0!==a.Uf?a.Uf:"#FFFFFF";void 0!==a.font&&(e.element.style.fontFamily=a.font,f.style.fontFamily=a.font);f.className="purecolor";f.classList.add("msg-text");d.appendChild(f);Lb()?window.setTimeout(function(){twemoji.parse(d,{className:"emojiChat"})},0):twemoji.parse(d,{className:"emojiChat"});DK(d,a.Uf,a.backgroundColor);LK(d,b,c);return d}function LK(a,b,c){var d,e=a.querySelectorAll(".username-mention");a=[];var f=vI(),g=f.Hg(),h={};e=l(e);for(var m=e.next();!m.done;h={Ds:h.Ds},m=e.next()){m=m.value;h.Ds=m.innerText.replace("@","").toLowerCase();var n=g.find(function(p){return function(v){return v.username===p.Ds}}(h));void 0!==n?(n=xJ(IK(b,n,!1),c===n.username),null===(d=m.parentElement)||void 0===d?void 0:d.replaceChild(n,m)):a.push(h.Ds)}AI(f,a)}
function MK(a,b,c){var d=KK();d.style.padding="1px 5px";var e=document.createElement("div");e.style.display="inline-block";void 0!==a.background&&(e.style.background=a.background,e.style.color="#000000",e.style.padding="2px",e.style.textShadow="none");void 0!==a.zb&&(e.style.color=a.zb);y(e,"roomNotice");void 0!==a.colorClass&&y(e,a.colorClass);e.style.fontWeight=void 0!==a.weight?a.weight:"normal";d.appendChild(NK(b,e,a.sa,void 0!==a.background));twemoji.parse(e,{className:"emojiChat"});DK(d,a.zb,a.background);LK(d,b,c);return d}function NK(a,b,c,d){c=l(c);for(var e=c.next();!e.done;e=c.next()){var f=document.createElement("div");e=l(e.value);for(var g=e.next();!g.done;g=e.next())switch(g=g.value,g.jd){case 1:f.appendChild(OK(g));break;case 0:f.appendChild(IK(a,g.cb,d,void 0).element);break;case 2:f.appendChild(PK(g.message));break;case 3:f.appendChild(QK(ef,function(){"privatespying"!==FK.status&&pD(FK)}));break;default:w("Unknown roomNotice type for: "+g)}b.appendChild(f)}return b}
function QK(a,b){var c=document.createElement("a");y(c,"msg-link");c.style.textDecoration="underline";c.innerText=a;c.onclick=b;c.style.cursor="pointer";return c}function PK(a){var b=document.createElement("a");b.href="/tag/"+a+"/"+(null!==EK&&void 0!==EK?EK:"");y(b,"msg-link");b.style.textDecoration="none";b.innerText="#"+a;return b}function RK(a){var b=KK();b.innerText=a;b.style.color=HK("#aaaaaa");return b}
function SK(a,b){var c=KK(),d=document.createElement("span");d.innerText=Sc(a);c.appendChild(d);for(a=0;a<b.length;a+=1)d=document.createElement("a"),d.href=b[a].Pw,d.target="_blank",d.innerText=b[a].Qw,d.style.color=HK("#1c8fc8"),d.style.textDecoration="none",c.appendChild(d),a<b.length-1&&(d=document.createElement("span"),d.innerText=", ",c.appendChild(d));c.style.color=HK("#aaaaaa");return c}
function TK(a,b){function c(e){var f=document.createElement("span");f.innerText=e;return f}var d=KK();d.style.color=HK("#aaaaaa");d.appendChild(c(b?$c:Zc));d.appendChild(document.createElement("br"));d.appendChild(c(ad+" "));b=QK(bd,function(){});b.href="/supporter/upgrade/";b.target="_blank";b.onclick=function(){L("SupporterPageOpened",{source:"chat"})};d.appendChild(b);d.appendChild(c(" "+cd(a)+"."));return d}
function KK(a){a=void 0===a?"":a;var b=document.createElement("div");b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.paddingTop="3px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";b.style.Rz="break-word";b.style.wordWrap="break-word";0<a.length&&b.setAttribute("data-nick",a);return b}
function OK(a){var b=document.createElement("span");!1!==a.jG?b=kG(new jG(GK),a.message):b.innerText=a.message;b.style.color=void 0!==a.zb?a.zb:"";b.style.background=void 0!==a.background?a.background:"";b.style.fontWeight=void 0!==a.weight?a.weight:"";return b}function UK(a){var b=KK();return a.pL(b)};var VK,WK,XK={};M.h(function(a){XK.Qe=a.C.za.Qe;XK.kh=a.C.kh;XK.$b=!1;VK=a.C.zr;WK=a.B});Tr.h(function(a){XK.Qe=a.Qe});function YK(a,b,c){return 0===a?new BJ(b,!0,c):new uJ(b,!0,c)}
function ZK(a,b,c){var d=$K(a.T.username),e=zE();e.style.padding="0";var f=YK(b,a.T,a);f.element.style.paddingRight="4px";e.appendChild(f.element);e.style.marginRight="4px";var g=kG(new jG(XK),a.message);void 0!==a.Uf&&(g.style.color=a.Uf);void 0!==a.font&&(f.element.style.fontFamily=a.font,g.style.fontFamily=a.font);y(g,"msg-text");g.classList.add("split-mode");void 0!==a.backgroundColor&&(e.style.background=a.backgroundColor);aL(d,e,new AK({QD:a.Uf,BC:a.backgroundColor}));e.appendChild(g);d.appendChild(e);Lb()?window.setTimeout(function(){twemoji.parse(d,{className:"emojiChat"})},0):twemoji.parse(d,{className:"emojiChat"});LK(d,b,c);return d}function bL(a,b){var c=zE();b=$K(b.username);a.style.marginTop="6px";c.style.padding="0";c.style.marginRight="4px";c.appendChild(a);b.appendChild(c);b.setAttribute("type","photo");return b}
function cL(a,b,c){var d=$K(a.Tx),e=document.createElement("div");e.style.display="inline-block";if(void 0!==a.background)e.style.background=a.background,e.style.marginTop="1px",e.style.textShadow="none",e.style.padding="0px 1px",y(e,"hasBg"),"#ff8b45"===a.background&&(e.style.padding="0px 4px",y(e,"bright-background"));else{var f=BE(void 0!==a.zb?a.zb:"#aaaaaa");e.setAttribute("data-purecolor",f);e.className="purecolor"}"#ff3"===a.background&&y(e,"isTip");y(e,"roomNotice");void 0!==a.colorClass&&y(e,a.colorClass);e.style.color=void 0!==a.zb?a.zb:"";e.style.fontWeight=void 0!==a.weight?a.weight:"normal";d.appendChild(dL(b,e,a.sa));twemoji.parse(e,{className:"emojiChat"});d.innerText.startsWith("Notice:")&&e.removeAttribute("data-purecolor");aL(d,e,new AK({QD:a.zb,BC:a.background}));LK(d,b,c);twemoji.parse(d);return d}
function aL(a,b,c){var d,e,f=void 0!==c.Ww,g=void 0!==c.RD;if(f||g)a.classList.add("dm-adjust"),f&&(b.setAttribute("dm-adjust-bg",c.Ww),b.setAttribute("dm-init-bg",null!==(d=c.background)&&void 0!==d?d:"")),g&&(b.setAttribute("dm-adjust-fg",c.RD),b.setAttribute("dm-init-fg",null!==(e=c.zb)&&void 0!==e?e:""))}
function dL(a,b,c){c=l(c);for(var d=c.next();!d.done;d=c.next()){var e=document.createElement("div");d=l(d.value);for(var f=d.next();!f.done;f=d.next())switch(f=f.value,f.jd){case 1:e.appendChild(eL(f));break;case 0:e.appendChild(YK(a,f.cb).element);break;case 2:e.appendChild(fL(f.message));break;case 3:e.appendChild(gL("spy private show",function(){"privatespying"!==WK.status&&pD(WK)}));break;case 4:e.appendChild(gL("start private show",function(){"privaterequesting"===WK.status&&sD()}));break;default:w("Unknown roomNotice type for: "+
JSON.stringify(f))}b.appendChild(e)}return b}function gL(a,b){var c=document.createElement("a");y(c,"msg-link");c.style.textDecoration="underline";c.innerText=a;c.onclick=b;c.style.cursor="pointer";return c}function fL(a){var b=document.createElement("a");b.href="/tag/"+a+"/"+(null!==VK&&void 0!==VK?VK:"");y(b,"camSubjectTagColor");b.style.textDecoration="none";b.innerText="#"+a;return b}
function hL(a){var b=$K();b.innerText=a;b.setAttribute("data-purecolor",BE("#aaaaaa"));b.className="purecolor";return b}
function iL(a,b){var c=$K(),d=document.createElement("span");d.innerText=Sc(a);c.appendChild(d);for(a=0;a<b.length;a+=1)d=document.createElement("a"),d.href=b[a].Pw,d.target="_blank",d.innerText=b[a].Qw,y(d,"msg-link"),d.style.textDecoration="none",c.appendChild(d),a<b.length-1&&(d=document.createElement("span"),d.innerText=", ",c.appendChild(d));c.setAttribute("data-purecolor",BE("#aaaaaa"));c.className="purecolor";return c}
function jL(a,b){function c(e){var f=document.createElement("span");f.innerText=e;return f}var d=$K();d.setAttribute("data-purecolor",BE("#aaaaaa"));d.className="purecolor";d.appendChild(c(b?$c:Zc));d.appendChild(document.createElement("br"));d.appendChild(c(ad+" "));b=gL(bd,function(){});b.href="/supporter/upgrade/";b.target="_blank";y(b,"msg-link");b.onclick=function(){L("SupporterPageOpened",{source:"chat"})};d.appendChild(b);d.appendChild(c(" "+cd(a)+"."));return d}
function $K(a){a=void 0===a?"":a;var b=document.createElement("div");b.classList.add("msg-text");b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.paddingTop="2px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";b.style.Rz="break-word";b.style.wordWrap="break-word";0<a.length&&b.setAttribute("data-nick",a);return b}
function eL(a){var b=document.createElement("span");!1!==a.jG?b=kG(new jG(XK),a.message):b.innerText=a.message;b.style.color=void 0!==a.zb?a.zb:"";b.style.backgroundColor=void 0!==a.background?a.background:"";b.style.fontWeight=void 0!==a.weight?a.weight:"";return b}function kL(a){var b=$K();return a.pL(b)};function lL(){this.Lg=[]}lL.prototype.ze=function(a){this.remove(a);this.Lg.unshift(a)};function mL(a,b){a.remove(b);a.Lg.push(b)}lL.prototype.remove=function(a){a=this.Lg.indexOf(a);-1!==a&&this.Lg.splice(a,1)};function nL(){this.Yl=new lL;this.Wl=new lL}nL.prototype.ze=function(a){this.Wl.remove(a);this.Yl.ze(a)};function RL(a){var b=a.Yl.Lg.shift();void 0!==a.Db&&a.Wl.ze(a.Db);return a.Db=b}function SL(a){var b=a.Wl.Lg.shift();void 0!==a.Db&&a.Yl.ze(a.Db);return a.Db=b}function TL(a){for(;;){var b=a.Yl.Lg.pop();if(void 0===b)break;mL(a.Wl,b)}void 0!==a.Db&&(mL(a.Wl,a.Db),a.Db=void 0)}nL.prototype.remove=function(a){this.Wl.remove(a);this.Yl.remove(a);this.Db===a&&(this.Db=void 0)};function UL(a,b){a.ze(b);RL(a)};var VL=new t("goPMList"),WL=new t("ignoreUser");function XL(a){x.call(this);this.element=W("div",{colorClass:"PMControlBar",style:{width:"100%",height:"31px",lineHeight:"32px",borderBottomWidth:"1px",borderBottomStyle:"solid",display:"flex",justifyContent:"space-between"},id:"pm-control-bar"},W("span",{colorClass:"backButton",style:{marginLeft:"10px",cursor:"pointer",fontSize:"12px"},onClick:function(){VL.j(a)}},Dl));this.element.classList.add("pm-control-bar")}q(XL,x);function YL(){var a=this;this.Xo=!1;this.kE=function(){return a.element};this.nb=function(){return a.Xo};this.EE=function(){a.element.style.display="none";a.Xo=!1};this.mH=function(){a.element.style.display="block";a.Xo=!0};this.element=W("div",{style:{display:"none",textAlign:"center"}},El)};function ZL(a){if(void 0===a)return $L();a={name:Q(a,"name",!1),GM:Q(a,"template",!1),WD:S(a,"row1_label",!1),$G:S(a,"row2_label",!1),CH:S(a,"row3_label",!1),XD:S(a,"row1_value",!1),aH:S(a,"row2_value",!1),DH:S(a,"row3_value",!1)};return $L(a)}
function $L(a){var b=document.createElement("tr"),c=document.createElement("tr"),d=document.createElement("tr");if(void 0!==a){var e=a.GM,f=[],g=[];if(""!==a.WD){var h=document.createElement("th");h.style.padding="2px";h.innerText=a.WD;f.push(h);b.appendChild(h);h=document.createElement("td");h.innerText=a.XD;b.appendChild(h);g.push(h);h.style.width="50%";h.style.paddingLeft="10px"}else h=document.createElement("td"),h.innerText=a.XD,h.colSpan=2,g.push(h),b.appendChild(h),h.style.textAlign="center";""!==a.$G?(h=document.createElement("th"),h.style.padding="2px",h.style.fontWeight="bold",h.innerText=a.$G,f.push(h),c.appendChild(h),h=document.createElement("td"),h.innerText=a.aH,g.push(h),c.appendChild(h),h.style.width="50%",h.style.paddingLeft="10px"):(h=document.createElement("td"),h.innerText=a.aH,h.colSpan=2,g.push(h),c.appendChild(h),h.style.textAlign="center");""!==a.CH?(h=document.createElement("th"),h.style.padding="2px",h.innerText=a.CH,f.push(h),d.appendChild(h),h=document.createElement("td"),h.innerText=a.DH,g.push(h),d.appendChild(h),h.style.width="50%",h.style.paddingLeft="10px"):(h=document.createElement("td"),h.innerText=a.DH,h.colSpan=2,g.push(h),d.appendChild(h),h.style.textAlign="center");a=l(f);for(h=a.next();!h.done;h=a.next())h=h.value,h.style.overflow="hidden",h.style.display="block",h.style.cssFloat="right";if("3_rows_of_labels"===e)y(f[0],"threeRowsOfLabels"),f[0].style.display="block",f[0].style.margin="0px auto",f[0].style.height="16px",f[0].style.fontWeight="bold";else if("3_rows_11_21_31"===e||"3_rows_11_22_32"===e)y(g[0],"threeRows-11-21-31"),g[0].style.fontWeight="bold"}else e=document.createElement("td"),b.appendChild(e.cloneNode()),c.appendChild(e.cloneNode()),d.appendChild(e.cloneNode());y(b,"rowOne");b.style.height="33.3333%";y(c,"rowTwo");c.style.height="33.3333%";y(d,"rowThree");d.style.height="33.3333%";e=document.createElement("table");e.id="AppPanelTable";e.style.fontSize="11px";e.style.lineHeight="1.7em";e.style.width="100%";e.style.height="100%";e.style.borderCollapse="collapse";e.style.margin="0 auto";e.appendChild(b);e.appendChild(c);e.appendChild(d);return e};function aM(a){var b=new N(a);a={backgroundColor:S(b,"background-color",!1),color:S(b,"color",!1),textAlign:S(b,"text-align",!1),fontStyle:S(b,"font-style",!1),fontWeight:S(b,"font-weight",!1)};var c=eo(b,"col_1",!1);""!==c&&(a.ja=bM(c));b=eo(b,"col_2",!1);""!==b&&(a.data=bM(b));return a}
function bM(a){a=new N(a);return{backgroundColor:S(a,"background-color",!1),color:S(a,"color",!1),left:S(a,"left",!1),textAlign:S(a,"text-align",!1),fontStyle:S(a,"font-style",!1),fontWeight:S(a,"font-weight",!1),value:S(a,"value",!1),width:S(a,"width",!1)}}
function cM(a){var b=document.createElement("div");b.style.height="23px";b.style.lineHeight="23px";b.style.width="270px";if(void 0!==a){b.style.backgroundColor=a.backgroundColor;b.style.color=a.color;b.style.fontStyle=a.fontStyle;b.style.fontWeight=a.fontWeight;b.style.textAlign=a.textAlign;if(void 0!==a.ja){var c=dM(a.ja);b.appendChild(c)}void 0!==a.data&&(a=dM(a.data),b.appendChild(a))}return b}
function dM(a){var b=document.createElement("div");b.style.position="absolute";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.position="absolute";b.style.backgroundColor=a.backgroundColor;b.style.color=a.color;b.style.fontStyle=a.fontStyle;b.style.fontWeight=a.fontWeight;b.style.textAlign=a.textAlign;b.innerText=a.value;b.style.width=a.width;b.style.left=a.left;return b};function eM(){x.call(this);var a=this;this.kv=new t("panelUpdated");this.Dk=!1;this.element.style.display="inline-block";this.element.style.paddingLeft="5px";this.element.style.paddingTop="3px";this.element.style.paddingRight="5px";this.element.style.paddingBottom="3px";this.element.style.position="";this.element.style.width="270px";this.element.style.height="69px";this.element.style.textShadow="none";this.element.style.fontSize="11px";this.element.style.lineHeight="1.7em";M.h(function(b){a.jn(b.B.A());b.B.event.uA.h(function(){a.jn(b.B.A())});b.B.event.UI.h(function(){a.jn(b.B.A())})});this.Gl=ZL();this.element.appendChild(this.Gl)}q(eM,x);eM.prototype.jn=function(a){var b=this;E("api/panel_context/"+a+"/").then(function(c){0<b.element.children.length&&b.element.removeChild(b.Gl);c=new N(c.responseText);if("no-content"===Q(c,"code",!1))b.Dk=!1,b.Gl=ZL();else{b.Dk=!0;var d=Q(c,"template",!1);switch(d){case "image_template":Q(c,"name",!1);Q(c,"template",!1);var e=O(c,"layers");if(void 0!==e&&e instanceof Array&&0!==e.length){d=[];var f=l(e);for(var g=f.next();!g.done;g=f.next()){e=d;var h=e.push;g=JSON.stringify(g.value);g=new N(g);g={color:S(g,"color",!1),filename:S(g,"filename",!1),fontFamily:S(g,"font-family",!1),fontSize:S(g,"font-size",!1),fontStyle:S(g,"font-style",!1),fontWeight:S(g,"font-weight",!1),height:S(g,"height",!1),Wn:S(g,"image_url",!1),qF:S(g,"type",!1),left:S(g,"left",!1),maxWidth:S(g,"max-width",!1),opacity:S(g,"opacity",!1),text:S(g,"text",!1),textAlign:S(g,"text-align",!1),top:S(g,"top",!1),width:S(g,"width",!1)};h.call(e,g)}f=d}d=eo(c,"table",!1);if(0!==d.length){d=new N(d);var m={backgroundColor:S(d,"background-color",!1),color:S(d,"color",!1),textAlign:S(d,"text-align",!1),fontStyle:S(d,"font-style",!1),fontWeight:S(d,"font-weight",!1)};e=eo(d,"row_1",!1);""!==e&&(m.EL=aM(e));e=eo(d,"row_2",!1);""!==e&&(m.GL=aM(e));d=eo(d,"row_3",!1);""!==d&&(m.FL=aM(d))}d=document.createElement("div");d.style.position="absolute";d.style.height="69px";d.style.width="270px";d.style.backgroundColor="white";d.style.overflow="hidden";d.style.font="1em 'UbuntuRegular', Arial, Helvetica, sans-serif";if(void 0!==f)for(f=l(f),e=f.next();!e.done;e=f.next())if(e=e.value,"text"===e.qF){h=d;g=h.appendChild;var n=document.createElement("span");n.style.position="absolute";n.style.whiteSpace="nowrap";n.style.overflow="hidden";n.style.textOverflow="ellipsis";n.style.lineHeight="normal";n.style.color=e.color;n.style.fontFamily=e.fontFamily;n.style.fontSize=e.fontSize;n.style.fontStyle=e.fontStyle;n.style.fontWeight=e.fontWeight;n.style.left=e.left;n.style.maxWidth=e.maxWidth;n.innerText=e.text;n.style.textAlign=e.textAlign;n.style.top=e.top;n.style.width=e.width;g.call(h,n)}else"image"===e.qF&&(h=d,g=h.appendChild,n=document.createElement("img"),n.style.position="absolute",n.alt=e.filename,n.style.height=e.height,n.src=e.Wn,n.style.left=e.left,n.style.top=e.top,n.style.width=e.width,g.call(h,n));if(void 0!==m){f=m;m=document.createElement("div");m.style.height="69px";m.style.width="270px";m.style.backgroundColor=f.backgroundColor;m.style.color=f.color;m.style.fontStyle=f.fontStyle;m.style.fontWeight=f.fontWeight;m.style.textAlign=f.textAlign;f=l([f.EL,f.GL,f.FL]);for(e=f.next();!e.done;e=f.next())e=e.value,e=void 0!==e?cM(e):cM(),m.appendChild(e);d.appendChild(m)}b.Gl=d;break;case "3_rows_11_21_31":case "3_rows_11_22_32":case "3_rows_12_21_31":case "3_rows_12_22_31":case "3_rows_of_labels":b.Gl=ZL(c);break;default:b.Dk=!1,b.Gl=ZL(),u("template of type ("+d+"): is not supported")}ho(c)}b.element.appendChild(b.Gl);b.kv.j(void 0)}).catch(function(c){w("Error fetching app panel ("+c+")")})};function fM(a){var b=this;this.config=a;this.nd=new eM;this.nd.element.style.width="270px";this.nd.element.style.position="relative";this.fx=this.Dk=!1;M.h(function(){b.Dk=!1;b.fx=!1;b.Ts=void 0;b.tg=void 0;window.setTimeout(function(){b.fx=!0;b.Dk&&gM(b)},2E3)});this.nd.kv.h(function(){b.Dk=!0;b.fx&&gM(b)})}
function gM(a){if(a.nd.Dk){if(void 0!==a.tg){for(var b=0;b<a.tg.children.length;b+=1)a.tg.removeChild(a.tg.children.item(b));a.tg.appendChild(hM(a))}void 0===a.Ts?(a.config.ka(a.nd.element,function(){return iM(a)}),a.Ts=a.config.kq()):(b=a.nd.element.offsetTop-a.config.TJ(),(0>b||b>a.config.SJ()-30)&&20<a.config.Qu(a.Ts)&&(a.config.vv(a.nd.element),a.config.ka(a.nd.element,function(){return iM(a)}),a.Ts=a.config.kq()))}}function hM(a){a=a.nd.element.cloneNode(!0);a.style.width="270px";return a}
function iM(a){void 0!==a.tg&&null!==a.tg.parentNode&&a.tg.parentNode.removeChild(a.tg);a.tg=document.createElement("div");a.tg.appendChild(hM(a));return a.tg};function jM(a){return et(this,function c(){var d;return Ba(c,function(e){d={room_user:a.SG,created_by:a.jD,banned_user:a.zC,is_silence:a.gF.toString()};return e.return(F("api/ts/chat/ban-id/",d).then(function(f){return JSON.parse(f.responseText).banid}))})})}function kM(a,b,c,d,e){F("edit_room_ban/",{banid:String(a),action:b,room_username:c}).then(function(f){f=f.responseText;if(null===f)e();else{try{var g=JSON.parse(f)}catch(h){e();return}void 0!==g.error?e():d()}}).catch(function(){e()})};function lM(a,b,c,d,e){function f(n){var p;null===n||void 0===n?void 0:n.preventDefault();null===(p=g.parentElement)||void 0===p?void 0:p.removeChild(g);Array.from(document.getElementsByClassName("undo-ban-options-"+a.Nj)).forEach(function(v){var A;null===(A=v.parentElement)||void 0===A?void 0:A.removeChild(v)})}var g=W("div",{className:"undo-ban-options-"+a.Nj,style:{boxSizing:"border-box",padding:"2px 5px 3px 25px",fontWeight:"bold"}}),h=W("a",{href:"#",className:"msg-link",onClick:function(n){null===n||void 0===n?void 0:n.preventDefault();f();kM(b,a.Jk?"remove_ban":"remove_silence",c.C.A,function(){d(a.Jk?Tl:Ul)},function(){d(a.Jk?Vl:Xl)})}},Yl),m=W("a",{href:"#",style:{color:"inherit"},onClick:f},"(",jg,")");g.appendChild(h);a.Jk||c.C.userName!==c.C.A||(h=W("a",{href:"#",style:{color:"red"},onClick:function(n){null===n||void 0===n?void 0:n.preventDefault();oo(fd(a.Nj),function(){f();kM(b,"convert_to_ban",c.C.A,function(){CG(c.B,a.Nj);e({Nj:a.Nj,Yo:c.C.A,Jk:!0},c)},function(){d(Wl)})})}},Zl),g.appendChild(document.createTextNode("\u00a0".repeat(5))),g.appendChild(h));g.appendChild(document.createTextNode("\u00a0".repeat(5)));g.appendChild(m);return g};M.h(function(){});function mM(){var a=this;this.gw=this.fw=this.iw=this.hw=this.po=this.Lq=0;this.Cb=this.B=void 0;this.$H="SessionMetrics";this.TA=function(){nM(a)&&(L(a.$H,{messageSuccessCount:a.po,messageFailCount:a.Lq-a.po,tipSuccessCount:a.hw,tipSuccessTotal:a.iw,tipFailCount:a.fw,tipFailTotal:a.gw,refreshCount:void 0===a.Tz?void 0:Number(a.Tz),modeChange:!!a.Cz,newMode:a.Cz,currentMode:a.jg}),oM(a))};this.UK=function(){nM(a)&&pn(a.EK)};this.dG=function(b){void 0!==b.amount&&(!0===b.success?(a.hw+=1,a.iw+=b.amount):(a.fw+=1,0<b.amount&&(a.gw+=b.amount)))};this.VF=function(){a.Lq+=1};this.dv=function(b){void 0!==a.B&&b.T.username===a.B.username()&&a.po<a.Lq&&(a.po+=1)};this.JL=function(){void 0!==window.sessionStorage&&nM(a)&&window.sessionStorage.setItem("refreshMeta",JSON.stringify({href:window.location.href,unloadTimestamp:(new Date).getTime()}))};oM(this);this.wK=(new Date).getTime();this.Tz=pM(this);this.jg=Ro();this.EK=new on(function(){var b=X();a.jg!==b&&(a.Cz=b,a.TA(),a.jg=b)},{Ad:100,Ce:1});M.once(function(){Po.od.h(a.UK)});Tn.h(this.TA);B("beforeunload",window,this.TA);B("beforeunload",window,this.JL)}function qM(a,b){b!==a.B&&(void 0!==a.B&&(a.B.event.Pu.removeListener(a.VF),a.B.event.Jo.removeListener(a.dv),st.removeListener(a.dv)),a.B=b,a.B.event.Pu.h(a.VF),a.B.event.Jo.h(a.dv),st.h(a.dv))}function rM(a,b){b!==a.Cb&&(void 0!==a.Cb&&a.Cb.rl.removeListener(a.dG),a.Cb=b,a.Cb.rl.h(a.dG,!1))}function nM(a){return void 0!==a.B&&!a.B.xc}function oM(a){a.Lq=0;a.po=0;a.hw=0;a.iw=0;a.fw=0;a.gw=0;a.Cz=void 0;a.Tz=!1}
function sM(){if(void 0!==window.performance){var a=[];void 0!==window.performance.getEntriesByType&&(a=window.performance.getEntriesByType("navigation"));if(0<a.length)switch(a[0].type){case "navigate":return 0;case "reload":return 1;case "back_forward":return 2;case "prerender":return 3;default:return 255}else return window.performance.navigation.type}}
function pM(a){var b,c=sM();if(1===c)return!0;if(0===c||void 0===c){c=null===(b=window.sessionStorage)||void 0===b?void 0:b.getItem("refreshMeta");if(null===c||void 0===c)return;b=JSON.parse(c);return b.href===window.location.href&&b.unloadTimestamp>a.wK-1E4}return!1};new t("pmReceived");function tM(){this.Wo=new Set;this.rq=new Set}k=tM.prototype;k.show=function(a){this.Wo.add(a);this.rq.delete(a)};k.D=function(a){this.rq.add(a);this.Wo.delete(a)};k.remove=function(a){this.Wo.delete(a);this.rq.delete(a)};k.nb=function(a){return this.Wo.has(a)};k.clear=function(){this.Wo.clear();this.rq.clear()};var uM=new tM;function vM(){var a=this;this.kf=[];this.P=new La;vt.h(function(b){wM(a,b,!0)});r(zt.h(function(b){wM(a,b,!1)}),this.P);r(st.h(function(b){!0===b.bF&&(b.message=a.Ud.message,b.T.username=a.Ud.T,b.bb=a.Ud.Xb,void 0!==a.Ud.media&&(b.ib=a.Ud.media));var c=xM(a,b.bb),d=void 0===c?b.T:c.ab,e=void 0===c?0:c.U;void 0===c&&b.bb!==b.T.username?TE(b.bb).then(function(f){yM(a,{message:b.message,U:0,time:Date.now(),hi:b.T.username,ab:f.cb,HA:!0})}).catch(function(){}):yM(a,{message:b.message,U:b.T.username===b.bb?e+1:0,time:Date.now(),hi:b.T.username,ab:d,HA:!0})}),this.P);r(M.h(function(b){a.A=b.C.A;a.kf.forEach(function(c){c.ab.Za=c.ab.username===b.C.A});void 0!==zM&&AM.j(b);rr.h(function(c){a.Ud=c})}),this.P);r(lr.h(function(b){if(b.focus){for(var c=!1,d=l(a.kf),e=d.next();!e.done;e=d.next())if(e=e.value,e.hi===b.username||e.ab.username===b.username){c=!0;e.HA=!0;break}c?AM.j(void 0):TE(b.username,a.A).then(function(f){yM(a,{message:"",U:0,time:Date.now(),hi:a.A,ab:f.cb,HA:!0})}).catch(function(){})}}),this.P);r(qr.h(function(b){a.kf.forEach(function(c){c.ab.username===b.username&&(c.ab.Lc=b.Lc,AM.j(void 0))})}),this.P)}var zM;function BM(){void 0===zM&&(zM=new vM);return zM}vM.prototype.Eb=function(){Ma(this.P)};function yM(a,b){a.kf.unshift(b);CM.j({LK:[b],ze:!0});DM(a)}function EM(a,b){return a.kf.find(function(c){return c.ab.username===b})}function xM(a,b){for(var c=a.kf.length-1;0<=c;--c){var d=a.kf[c];if(d.ab.username===b)return a.kf.splice(c,1),d}}
function wM(a,b,c){var d=a.kf.find(function(e){return e.ab.username===b});void 0!==d&&(d.U=0);YE(b,c);FM.j(b);DM(a)}function DM(a){a=a.kf.filter(function(b){return 0!==b.U}).length;GM.j(a)}var AM=new t("pmListDataChanged"),CM=new t("pmListDatItemAdded"),GM=new t("pmListDataNumUnread"),FM=new t("pmListDataPmRead");function HM(a){var b=(Date.now()-a.getTime())/1E3;return 60>b?Il:120>=b?Jl:3600>b?Math.floor(b/60)+" "+Ml:7200>=b?Kl:86400>b?Math.floor(b/3600)+" "+Nl:172800>=b?Ll:604800>b?Math.floor(b/86400)+" "+Ol:a.toLocaleDateString()};var IM={height:0,name:"",oi:"",width:0,sp:""};function JM(a){var b=[],c=[],d=[];if(0>a.indexOf("%%%[emoticon "))a={Gh:[a],Pt:[]};else{for(var e=0;e<a.length;e+=1)if("%"===a[e])if("%%%[emoticon "===a.slice(e,e+13)){var f=e+a.slice(e,a.length).indexOf("]%%%");if("]%%%"===a.slice(f,f+4)){d.push(b.join(""));b=[];b:{e=a.slice(e,f+4);e=e.replace("%%%[emoticon ","").replace("]%%%","");e=e.split(/\|/);if(6===e.length){if(e={name:e[0],bp:e[1],width:KM(e[2])?Number(e[2]):80,height:KM(e[3])?Number(e[3]):80,oi:e[4],sp:e[5]},void 0!==e.bp&&LM(e.bp))break b}else if(5===e.length&&(e={name:e[0],oi:e[1],width:KM(e[2])?Number(e[2]):80,height:KM(e[3])?Number(e[3]):80,sp:e[4]},LM(e.oi)))break b;e=void 0}void 0!==e?c.push(e):(w("Cannot parse emoticon: "+e),c.push(IM));e=f+4-1}}else b.push(a[e]);else b.push(a[e]);d.push(b.join(""));a={Gh:d,Pt:c}}this.iC=a}JM.prototype.Gh=function(){return this.iC.Gh};JM.prototype.Pt=function(){return this.iC.Pt};function LM(a){return null===a.match(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g)?(w("Invalid emoticon URL"),!1):!0}function KM(a){return isNaN(parseInt(a,10))?(w("Invalid dimension argument"),!1):!0};var MM=new Set;function NM(a){MM.forEach(function(b){a!==b.K&&b.Eb()})}cH.h(function(a){NM(a.A)});function OM(a,b){var c;null===(c=a.zh)||void 0===c?void 0:c.Eb();if(c="AnonymousUser"!==b.userName&&0<b.jx.trim().length){c=b.Bn;var d=b.A;c===d?c=!0:(c="rules_accepted_"+c+"_"+d,c=mb()?"true"===localStorage.getItem(c):"true"===Va(c));c=!c}if(c)return a=new PM({tu:a.ia,Va:a.Va,K:b.A,userName:b.Bn,text:b.jx.trim(),tb:a,Hc:b.za}),a.element.style.zIndex="2",a}
function PM(a,b){b=void 0===b?!1:b;var c;x.call(this);var d=this;this.SH=new t("visibilityChanged",{qe:!1});this.lH=function(){d.show()};this.Ju=!1;this.P=new La;this.isVisible=!1;this.OC=function(e){"Tab"===e.key&&(document.activeElement===d.Fs?d.XC.focus():d.Fs.focus(),e.stopPropagation(),e.preventDefault())};MM.add(this);this.element.style.position="absolute";this.element.style.textAlign="center";this.element.style.height="auto";b?(this.element.style.width="70%",this.element.style.left="15%"):(this.element.style.width="95%",this.element.style.left="2.5%");this.element.style.bottom="10px";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderRadius="4px";this.element.style.margin="0 auto";this.element.style.padding="10px";this.element.style.boxSizing="border-box";this.element.style.maxHeight="95%";this.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";y(this.element,"rulesModal");this.tu=a.tu;this.Tp=a.Va;this.K=a.K;this.tb=null!==(c=a.tb)&&void 0!==c?c:void 0;this.userName=a.userName;this.ls(a.Hc);r(Tr.h(function(e){d.ls(e)}),this.P);this.fd(a.text);this.Ju||(B("focus",this.Tp.element,this.lH),this.Ju=!0);QM(this)}q(PM,x);k=PM.prototype;k.ls=function(a){this.element.style.fontFamily=a.fontFamily;this.element.style.fontSize=a.fontSize};k.fd=function(a){this.element.style.display="none";var b=document.createElement("div");b.style.fontWeight="bold";b.style.textAlign="left";b.style.paddingBottom="5px";b.style.whiteSpace="nowrap";b.style.textOverflow="ellipsis";b.style.overflow="hidden";b.innerText=""+this.K[0].toUpperCase()+this.K.substring(1)+"'s Rules:";this.element.appendChild(b);this.Yr=RM(this,a);a=document.createElement("div");y(a,"scrollIndicator");a.style.height="50px";a.style.position="absolute";a.style.bottom="0";a.style.fontWeight="bold";a.style.textAlign="center";a.style.boxSizing="border-box";a.style.width="100%";this.WG=a;a=document.createElement("div");a.style.position="relative";a.appendChild(this.Yr);a.appendChild(this.WG);this.element.appendChild(a);this.Fs=this.ux();this.XC=this.ut();this.element.appendChild(this.Fs);this.element.appendChild(this.XC);this.H()};function RM(a,b){var c=document.createElement("div");c.style.whiteSpace="pre-line";c.style.textAlign="left";c.style.lineHeight="1.4";c.style.height="auto";c.style.paddingBottom="15px";c.style.boxSizing="border-box";c.style.width="100%";c.style.overflowY="scroll";c.style.Rz="break-word";c.style.bR="break-word";c.style.wordWrap="break-word";c.style.cssText+="; -ms-overflow-style: -ms-autohiding-scrollbar";c.style.marginBottom="3px";c.style.paddingRight="15px";c.onscroll=function(){QM(a)};c.appendChild(document.createTextNode(b));Hx(c);return c}function QM(a){a.WG.style.display=1>=a.Yr.scrollHeight-a.Yr.scrollTop-a.Yr.clientHeight?"none":"block"}k.H=function(){var a=this.tb.element.getBoundingClientRect().height;this.Yr.style.maxHeight="calc("+a+"px - 120px)";QM(this)};k.show=function(a){a=void 0===a?!1:a;this.isVisible||(this.isVisible=!0,this.element.style.display="block",this.Tp.disable(),this.tu.style.pointerEvents="none",this.H(),this.Fs.focus(),B("keydown",document,this.OC,!0),a||this.SH.j(this.isVisible))};k.D=function(a){a=void 0===a?!1:a;this.isVisible&&(this.isVisible=!1,this.element.style.display="none",this.Tp.enable(),this.tu.style.pointerEvents="",this.tb.M(),C("keydown",document,this.OC,!0),a||this.SH.j(this.isVisible))};k.accept=function(){var a="rules_accepted_"+this.userName+"_"+this.K;mb()?localStorage.setItem(a,"true"):Xa(a,"true",1);NM();this.Tp.focus()};k.Eb=function(){this.D();this.Ju&&(C("focus",this.Tp.element,this.lH),this.Ju=!1);Ma(this.P);void 0!==this.parent&&(delete this.parent.zh,this.parent.removeChild(this));MM.delete(this)};k.ux=function(){var a=this,b=document.createElement("button");b.innerText=Ql;b.style.fontFamily="'UbuntuRegular',sans-serif";b.style.display="inline-block";b.style.boxSizing="content-box";b.style.width="calc(100% - 16px)";b.style.padding="8px";b.style.borderRadius="4px";b.style.cursor="pointer";b.style.fontWeight="500";b.style.lineHeight="16px";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.fontSize="120%";b.style.zIndex="2";B("click",b,function(){a.accept()});y(b,"acceptRulesButton");return b};k.ut=function(){var a=this,b=document.createElement("button"),c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/close_icon.svg";c.style.backgroundColor="inherit";b.appendChild(c);b.style.boxSizing="border-box";b.style.padding="5px 5px 4px 5px";b.style.position="absolute";b.style.top="2px";b.style.right="2px";b.style.cursor="pointer";B("click",b,function(){a.D()});y(b,"closeRulesButton");return b};function SM(){x.call(this);this.element=W("div",{className:"buttonHolder",style:{position:"absolute",right:"6px"}});TM(this)}q(SM,x);function TM(a){a.element.style.top="calc(50% - "+a.height()/2+"px)"}function UM(a,b){var c;a.element.appendChild(b);b.style.display="inline-block";b.style.top=(a.height()-b.getBoundingClientRect().height)/2+"px";null===(c=a.parent)||void 0===c?void 0:c.M();TM(a);return b}
function VM(a,b){var c;a.I(b);b.element.style.display="inline-block";b.element.style.top=(a.height()-b.element.getBoundingClientRect().height)/2+"px";null===(c=a.parent)||void 0===c?void 0:c.M();TM(a);return b}SM.prototype.height=function(){return this.element.getBoundingClientRect().height};SM.prototype.width=function(){return this.element.getBoundingClientRect().width};function WM(){Bx.call(this);var a=this;this.U=0;this.element.style.overflow="";this.G=new XM({br:function(){yG(a.B)},ar:function(b){Qr.j(b)},Zq:function(b){AG(a.B,b);a.G.fg()}});this.I(this.G);M.h(function(b){a.B=b.B;a.G.ka(hL("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));a.G.ka(hL("To go to next room, press CTRL+/. To send a tip, press CTRL+S or type \"/tip 25\". To disable emoticons or adjust autocomplete settings, click the 'Gear' tab above."));b.C.$w?CE(b.C.A,b.C.Qc,a.G.element,"theater").then(function(c){a.G.ka(c)}).catch(function(){}):0<b.C.hk.length&&a.G.ka(iL(b.C.A,b.C.hk));Ex(a)});Tn.h(function(){a.G.clear()})}q(WM,Bx);k=WM.prototype;k.Ff=function(){return this.U};k.H=function(){Bx.prototype.H.call(this);this.G.Qa()};k.Qa=function(){this.G.Qa()};k.fh=function(){var a=Jp()?Rl:Ue;return[document.createTextNode(99<this.U?a+" (99+)":0<this.U?a+" ("+this.U+")":a)]};k.dj=function(){return"chat-tab-default"};k.Ge=function(){this.G.Ge()};k.fg=function(){this.G.fg()};k.df=function(){return this.G.df()};function YM(a){Gx(a)||(a.U+=1);a.Oc()}k.ob=function(){Bx.prototype.ob.call(this);this.U=0;this.Oc();this.G.Qa()};k.gu=function(a){for(var b=[],c=l(this.G.Pa.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.G.Pa.removeChild(b.value)};k.Hl=function(a){this.G.Hl(a)};k.bj=function(){return this.G.Va};k.sf=function(a){Bx.prototype.sf.call(this,a);L("FocusTab",{location:"chat"})};var ZM=[];function $M(a){x.call(this,"div",a);var b=this;this.value="";this.P=new La;r(a.vh.h(function(){b.input.value=""}),this.P);r(Ct.h(function(c){c.Oa===a.Oa&&(c=c.Td,b.input.value=""===c?b.value:c)}),this.P);this.mJ=new on(function(){var c=b.value.match(/^[\w-]*$/);yt.j({Oa:a.Oa,wu:a.om,si:null!==c,prefix:b.value})},{Ad:100,Ce:1});ZM.push(this)}q($M,x);$M.prototype.Na=function(a){var b=this;this.element=W("div",{colorClass:"SearchBar",style:{position:"relative",width:"100%",padding:"4px",boxSizing:"border-box"}},W("input",{colorClass:"searchUserInput",className:"search_autocomplete",type:"text",placeholder:Gl,style:{background:"none",height:"24px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",borderRadius:"3px",margin:"0",padding:"5px 22px 5px 8px",width:"100%",outline:"none",fontFamily:"Tahoma, Arial, Helvetica, sans-serif",fontSize:"12px"},onFocus:function(){L("PMSearchStarted",{location:""===a.A?"PMWindow":"PMTab"})},onKeyDown:function(c){"ArrowDown"===c.key||"ArrowUp"===c.key||40===c.keyCode||38===c.keyCode?(c.preventDefault(),At.j({event:c,Oa:a.Oa})):"Enter"!==c.key&&13!==c.keyCode||Bt.j(a.Oa)},onInput:function(){var c=b.input.value.toLowerCase();ZM.forEach(function(d){d.value=c;d.input.value=c;pn(d.mJ)})},ref:function(c){return b.input=c}}),W("img",{src:"https://static-assets.highwebmedia.com/tsdefaultassets/pms/icon-search.svg",alt:"Search",style:{height:"1em",margin:"auto",position:"absolute",right:"10px",top:"10px"}}))};$M.prototype.render=function(){return this.element};$M.prototype.Eb=function(){Ma(this.P)};function aN(a){x.call(this,"div",a)}q(aN,x);k=aN.prototype;k.initData=function(a){this.ns=mI(a.ab);this.bb=a.ab.username;this.T=a.hi;this.message=a.message;this.U=a.U;this.time=a.time;this.mA=a.mA};k.Na=function(a){var b=this,c={display:"inline-block",left:bN+"px",overflowX:"hidden",overflowY:"hidden",position:"absolute",textOverflow:"ellipsis",verticalAlign:"bottom",whiteSpace:"nowrap"},d={bottom:"8px",left:bN+"px",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"calc(100% - 35px)"},e={display:"inline-block",verticalAlign:"top"},f=void 0!==this.time&&""!==this.message?HM(new Date(this.time)):"",g=cN(this.message),h=this.bb!==this.T;h&&(d.width="calc(100% - 60px)");this.Jz=W("span",null,0!==this.U?" ("+this.U+")":"");this.di=W("div",{className:"timeString",style:{fontSize:"10px",position:"absolute",right:"8px",textAlign:"right",top:"8px"}},f);this.element=W("div",{colorClass:["PmListItem",0<this.U?"unreadBg":""],style:{borderTopWidth:"1px",borderTopStyle:"solid",cursor:"pointer",fontFamily:"Tahoma, Arial, Helvetica, sans-serif",fontSize:"12px",height:"40px",lineHeight:"14px",overflowX:"hidden",padding:"8px",position:"relative",textAlign:"left"},onClick:function(){a.vh.j(b.bb)}},W(dN,{name:this.bb,style:{marginTop:"-16px",position:"absolute",top:"50%"},color:"",size:"32px",ns:this.ns}),W("div",{style:c,ref:function(m){return b.SI=m}},W("span",{colorClass:this.ns,style:{fontFamily:"Tahoma, Arial, Helvetica, sans-serif",fontWeight:"bold"}},this.bb),this.Jz),this.di,W("div",{colorClass:"messageDiv",style:d,ref:function(m){return b.uz=m}},h&&""!==this.message?Lo(e):"",g))};k.render=function(){return this.element};k.H=function(){x.prototype.H.call(this);eN(this)};k.Qs=function(){x.prototype.Qs.call(this);eN(this)};function fN(a){var b=Io();J(b,{display:"none",position:"absolute",right:"8px",top:"calc(50% - 8px)"});b.onclick=function(d){d.stopPropagation();d.preventDefault();gN(a.bb)};var c=a.uz.style.width;B("mouseenter",a.element,function(){b.style.display="block";void 0!==a.di&&(a.di.style.display="none");a.uz.style.width="calc(100% - 85px)"});B("mouseleave",a.element,function(){b.style.display="none";void 0!==a.di&&(a.di.style.display="block");a.uz.style.width=c});a.element.appendChild(b)}
function eN(a){0<a.element.clientWidth&&void 0!==a.di&&(a.di.style.visibility=a.SI.clientWidth>a.element.clientWidth-bN-8-a.di.clientWidth?"hidden":"")}k.Ff=function(){return this.U};function cN(a){a=new JM(a);var b=document.createElement("span"),c=a.Gh()[0];b.innerText=c.split("\n")[0];for(c=1;c<a.Gh().length;c+=1){var d=document.createElement("span");d.style.color="lightskyblue";d.innerText=":"+a.Pt()[c-1].name;d.style.cursor="pointer";b.appendChild(d);""!==a.Gh()[c]&&(d=document.createElement("span"),d.innerText=a.Gh()[c],b.appendChild(d))}return b}var bN=48;var hN=new Set;function gN(a){wt.j(a);uM.D(a);hN.forEach(function(b){iN(b,a)})}
function dN(a){var b={width:a.size,height:a.size,borderRadius:"50%",background:a.color,textAlign:"center",display:"table-cell",fontFamily:"UbuntuLight, Tahoma, Arial, Helvetica, sans-serif",fontSize:"16px",lineHeight:"14px",margin:"auto",verticalAlign:"middle"};return W("div",{colorClass:"avatarBubble",style:Object.assign({position:"relative"},a.style)},W("div",{colorClass:a.ns,style:b},a.name.charAt(0).toLocaleUpperCase()))}
function jN(){var a=Em.current;return void 0===a.Fa?{$h:"",pa:!0}:{$h:a.Fa.username,pa:!1}}
function kN(a){x.call(this,"div",a);var b=this;this.bc=-1;this.U=0;this.Ob=[];this.aA=new Set;this.Oa||hN.add(this);this.P=new La;r(At.h(function(c){if(c.Oa===b.Oa){c=c.event;var d=b.bc;-1<d&&(d=b.Ob[d],z(d.element,"selected"),0<d.Ff()?y(d.element,"unreadBg"):z(d.element,"unreadBg"));if("ArrowDown"===c.key||40===c.keyCode)b.bc=b.bc+1>=b.Ob.length?-1:b.bc+1;else if("ArrowUp"===c.key||38===c.keyCode)b.bc=-1>b.bc-1?b.Ob.length-1:b.bc-1;-1<b.bc?(c=b.Ob[b.bc].bb,b.Gk(b.bc,!0),Ct.j({Oa:b.Oa,Td:c})):Ct.j({Oa:b.Oa,Td:""})}}),this.P);r(Bt.h(function(c){c===b.Oa&&-1<b.bc&&(c=b.Ob[b.bc],L("PMSearchResultClicked",{location:""===b.A?"PMWindow":"PMTab",color:c.ns}),Ct.j({Oa:b.Oa,Td:""}),b.vh.j(c.bb))}),this.P);r(yt.h(function(c){c.Oa===b.Oa&&c.wu===b.om&&(b.bc=-1,c.si?lN(b,c.prefix):mN(b))}),this.P);r(M.h(function(c){b.B=c.B;b.A=c.C.A;uM.clear();jN().pa||void 0!==b.ne||(b.ne=BM());b.Oa||(r(ac.h(function(){b.Ob.forEach(function(d){wt.j(d.bb)})}),b.P),nN(b),b.B.event.Tc.h(function(d){return et(b,function f(){var g,h=this;return Ba(f,function(m){if(1==m.aa)return ta(m,new Promise(function(n){return window.setTimeout(n,1E3)}),2);if(4!=m.aa){if("privatewatching"===d.Ea){h.hA=null===(g=h.B)||void 0===g?void 0:hG(g)?g.wG:"";h.Mi();m.aa=0;return}return ta(m,h.Mi(),4)}h.hA=void 0;m.aa=0})})}))}),this.P);r(AM.h(function(c){void 0!==c&&(b.B=c.B,b.A=c.C.A);jN().pa||void 0!==b.ne||(b.ne=BM());b.Mi()}),this.P);FM.h(function(c){var d=b.Ob.find(function(e){return e.bb===c});void 0!==d&&(d.U=0,0===d.U?(d.Jz.innerText="",z(d.element,"unreadBg")):(d.Jz.innerText=" ("+d.U+")",y(d.element,"unreadBg")))});GM.h(function(c){b.Oa?b.vl(c):b.vl(b.Ff())});CM.h(function(c){var d=c.LK,e=c.ze;0===b.Ob.length||!b.Oa&&1===b.Ob.length?b.Mi():d.map(function(f){b.Oa?(oN(b,f.ab.username),pN(b,f,e)):qN(b).then(function(){(void 0!==oN(b,f.ab.username)||b.Ci.has(f.ab.username))&&pN(b,f,e);b.vl(b.Ff())}).catch(function(){})})});lr.h(function(c){uM.show(c.username)});r(a.vh.h(function(){b.Bb.style.display="block";b.bc=-1;lN(b,"")}),this.P);r(xt.h(function(c){gN(c)}),this.P);rN(this)}q(kN,x);function rN(a){function b(){for(var c=l(a.Ob),d=c.next();!d.done;d=c.next())if(d=d.value,void 0!==d.di){var e=void 0!==d.time&&""!==d.message?HM(new Date(d.time)):"";d.di.innerText=e}window.setTimeout(b,1E4)}window.setTimeout(b,1E4)}function sN(a,b){return-1<a.Ob.findIndex(function(c){return c.mA.ab.username===b})}k=kN.prototype;k.initData=function(a){this.Oa=a.Oa;!0===a.pi&&(this.pi=a.pi);this.om=a.om;jN().pa||(this.ne=BM());this.vh=a.vh;this.A="";this.Ci=new Set;this.vl=a.vl};k.Na=function(a){var b={fontSize:"12px",fontFamily:"UbuntuRegular, Tahoma, Arial, Helvetica, sans-serif",height:"100%",lineHeight:"16px",margin:"0 12px 0 auto",overflowX:"hidden",overflowY:"hidden",position:"relative",textAlign:"left",width:"100%",zIndex:2};a.Oa&&(b.height="90%");this.Bb=W("div",{style:{maxHeight:"calc(100% - 32px)",overflowY:"auto",width:"100%"},colorClass:"pmBodyRoot"},this.Ob);this.element=W("div",{style:b,colorClass:"pmListWrapper"},this.Bb);(!this.Oa||void 0!==this.ne&&0<this.ne.kf.length)&&tN(this)};k.render=function(){return this.element};k.M=function(){x.prototype.M.call(this);for(var a=l(this.Ob),b=a.next();!b.done;b=a.next())b.value.M()};k.Ye=function(){x.prototype.Ye.call(this);for(var a=l(this.Ob),b=a.next();!b.done;b=a.next())b.value.Ye()};function tN(a){var b=W("div",null,W($M,{classRef:function(c){a.Ei=c},om:a.om,Oa:a.Oa,vh:a.vh,A:a.A}));a.element.insertBefore(b,a.element.firstChild)}
k.Mi=function(){return et(this,function b(){var c=this,d,e,f;return Ba(b,function(g){if(1==g.aa){d=c;if(jN().pa)return g.return();mN(c);c.Bb.style.top="";if(c.Oa&&void 0!==c.ne&&0===c.ne.kf.length)return uN(c),c.vl(0),g.return();void 0===c.Ei&&tN(c);return ta(g,qN(c),2)}if(3!=g.aa)return ta(g,nN(c),3);e=g.ae;void 0!==c.ne&&(f=c.ne.kf.filter(function(h){return vN(d,h)}),wN(c,f,e));g.aa=0})})};k.Eb=function(){Ma(this.P);void 0!==this.Ei&&this.Ei.Eb()};function mN(a){for(;null!==a.Bb.firstChild;)a.Bb.removeChild(a.Bb.firstChild);a.Ob=[]}function qN(a){return et(a,function c(){var d=this,e,f;return Ba(c,function(g){if(1==g.aa)return e=d,d.Ci=new Set(d.Ob.map(function(h){return h.bb})),jN().pa||d.Oa||void 0===d.B?(g.aa=2,g=void 0):g=ta(g,zG(d.B,"a",!1),3),g;2!=g.aa&&(f=g.ae,f.Hg.forEach(function(h){return e.Ci.add(h.username)}),void 0!==d.hA&&d.Ci.add(d.hA));return g.return(d.Ci)})})}k.ak=function(){return this.Ci.size};function xN(a,b){var c=jN();if(""===a.A||a.A===c.$h)return!1;b=void 0===b?!0:a.A.startsWith(b);return!a.Oa&&b&&!a.pi&&(c.pa||c.$h!==a.A)}
function nN(a){return et(a,function c(){var d=this,e,f,g;return Ba(c,function(h){switch(h.aa){case 1:e=xN(d);if(!e){h.aa=2;break}if(jN().pa){mN(d);pN(d,{message:"",U:0,hi:d.A,ab:{username:d.A,Za:!0,je:!1,Gf:!1,Lc:!1,Eg:!1,Ii:!1,Fg:!1,dc:"",sc:"df"}});d.Bb.style.borderBottomWidth="1px";d.Bb.style.borderBottomStyle="solid";h.aa=2;break}if(void 0===d.ne){h.aa=2;break}f=EM(d.ne,d.A);if(void 0!==f){h.aa=5;break}return ta(h,TE(d.A,d.A),6);case 6:return g=h.ae,void 0===EM(d.ne,d.A)&&(mN(d),pN(d,{message:"",U:g.U,hi:g.cb.username,ab:g.cb})),h.return(e);case 5:mN(d),pN(d,f);case 2:return h.return(e)}})})}function wN(a,b,c){a.U=0;b.forEach(function(d){var e=d.ab.username;(uM.Wo.has(e)||uM.rq.has(e)?!uM.nb(d.ab.username):!a.Oa&&d.ab.username!==a.A&&!a.Ci.has(d.ab.username)||c&&a.A===d.ab.username)?a.Ci.has(d.ab.username)||yN(a,d.ab.username):(0<d.U&&(a.U+=1),zN(a,d),a.Oa||KE.j(d.ab.username))});a.vl(a.U);a.Bb.style.borderBottomWidth="1px";a.Bb.style.borderBottomStyle="solid";a.Bb.style.margin="0"}
function yN(a,b){a.aA.has(b)||(a.aA.add(b),window.setTimeout(function(){a.Mi();a.aA.delete(b)},3E3))}
function zN(a,b,c){c=void 0===c?!1:c;var d=!a.Oa;if(!sN(a,b.ab.username)){var e=W(aN,{message:b.message,mA:b,U:b.U,ab:b.ab,time:b.time,hi:b.hi,vh:a.vh,classRef:function(g){(a.Oa||b.ab.username!==a.A)&&fN(g);c?d&&b.ab.username!==a.A?a.Ob.splice(1,0,g):a.Ob.unshift(g):a.Ob.push(g)}});if(c){var f=a.Bb.firstChild;d&&b.ab.username!==a.A&&jN().$h!==a.A&&null!==f?a.Bb.insertBefore(e,f.nextSibling):a.Bb.insertBefore(e,f)}else a.Bb.appendChild(e);a.Bb.style.display="block";a.M()}}
k.Ff=function(){if(this.Oa)return this.U;for(var a=0,b=l(this.Ob),c=b.next();!c.done;c=b.next())0!==c.value.Ff()&&(a+=1);return this.U=a};function iN(a,b){var c,d=a.Ob.find(function(e){return e.bb===b});void 0!==d&&(a.Ob.splice(a.Ob.indexOf(d),1),null===(c=d.parent)||void 0===c?void 0:c.removeChild(a),d.element.remove())}
function lN(a,b){et(a,function d(){var e=this,f,g,h,m,n,p;return Ba(d,function(v){f=e;g=!1;void 0!==e.ne&&(mN(e),h=e.ne.kf,xN(e,b)&&(n=EM(e.ne,e.A),m=void 0!==n?n:{message:"",U:0,hi:e.A,ab:{username:e.A,Za:!0,je:!1,Gf:!1,Lc:!1,Eg:!1,Ii:!1,Fg:!1,dc:"",sc:"df"}},zN(e,m),g=!0),0<h.length&&(p=h.filter(function(A){return vN(f,A,b)}),e.Bb.style.display=g||0<p.length?"block":"none",wN(e,p,g)));v.aa=0})})}function vN(a,b,c){c=void 0===c?a.ML:c;return 0===c.length||b.ab.username.startsWith(c)}
function pN(a,b,c){vN(a,b,void 0)&&zN(a,b,void 0===c?!1:c)}function oN(a,b){for(var c,d=a.Ob.length-1;0<=d;--d){var e=a.Ob[d];e.bb===b&&(c=e,a.Ob.splice(d,1),e.element.remove())}return c}k.Gk=function(a,b){-1<a&&(a=this.Ob[a],b&&(this.Bb.scrollTop=this.bc*a.element.clientHeight-this.Bb.clientHeight/2),z(a.element,"unreadBg"),y(a.element,"selected"))};function uN(a){a.Bb.style.marginTop="50%";a.Bb.style.position="absolute";a.Bb.style.textAlign="center";a.Bb.style.top="-54px";a.Bb.appendChild(W("img",{src:"https://static-assets.highwebmedia.com/tsdefaultassets/pms/empty-chat-state.svg",alt:"empty-chat-state"}));a.Bb.appendChild(W("div",{style:{fontSize:"14px",fontFamily:"UbuntuRegular, Tahoma, Arial, Helvetica, sans-serif",lineHeight:"18px",margin:"8px 0"}},Fl));a.Bb.appendChild(W("div",{style:{margin:"auto",width:"75%"}},Wc()))}
ea.Object.defineProperties(kN.prototype,{ML:{configurable:!0,enumerable:!0,get:function(){var a,b;return null!==(b=null===(a=this.Ei)||void 0===a?void 0:a.value.trim())&&void 0!==b?b:""}}});function AN(a,b){Dx.call(this);var c=this;this.jz=a;this.pi=b;this.U=0;this.ir=new t("pmReceived");this.Cc=new Map;this.va=new nL;this.UA=function(d){var e=c.Cc.get(c.va.Db);e.zp||(e.G.ka(hL(d)),e.zp=!0)};this.Oe=new kN({Oa:!1,om:!1,vh:vt,vl:function(d){d!==c.U&&(c.U=d,c.Oc())},pi:this.pi});this.I(this.Oe);lr.h(function(d){c.bf();BN(c);void 0===c.Cc.get(d.username)&&c.jj(d.username,!1,d.Or);UL(c.va,d.username);c.Oc();c.Lj();d.focus&&Ex(c)});M.h(function(d){c.B=d.B;c.wm=d.C.userName;c.A=d.C.A});wt.h(function(d){c.Ol(d)});vt.h(function(d){c.bf();UL(c.va,d);c.Lj()});VL.h(function(d){c.Nr(d,!0)});or.h(function(){var d=c.Cc.get(c.va.Db);!1===d.zq&&c.mz(d)});KE.h(function(d){c.va.ze(d);c.jj(d,!1,!1)});st.h(function(d){var e=CN(c);c.Hk()&&DN(c)&&void 0!==e&&e.kj()&&(d.bb!==e.username||EN(e.G)||zt.j(e.username))})}q(AN,Dx);k=AN.prototype;k.Nr=function(a,b){b=void 0===b?!1:b;if(!a){this.bf();a=this.pi&&0===this.Oe.Bb.childNodes.length;var c=this.B.A()===this.wm;b||1<this.Oe.Bb.childNodes.length||a||c?(this.Oe.element.style.display="block",this.Oe.M()):(this.pi||UL(this.va,this.B.A()),this.Lj())}};function BN(a){a.Oe.element.style.display="none"}k.Qa=function(){var a=CN(this);void 0!==a&&a.G.Qa()};k.Ff=function(){return this.U};k.fh=function(){return[document.createTextNode(99<this.U?"PM (99+)":0<this.U?"PM ("+this.U+")":"PM")]};k.sf=function(a){Dx.prototype.sf.call(this,a);L("FocusTab",{location:"PM",unread:this.Ff()});Ex(this);this.Nr(!1)};k.jo=function(){return!1};k.dj=function(){return"pm-tab-default"};function DN(a){return"block"===a.element.style.display}k.Ge=function(){var a=CN(this);void 0===a?w("session undefined"):a.G.Ge()};k.fg=function(){var a=CN(this);void 0===a?w("session undefined"):a.G.fg()};k.df=function(){var a=CN(this);return void 0===a?(w("session undefined"),!1):a.G.df()};k.H=function(){Dx.prototype.H.call(this);var a=CN(this);void 0!==a&&a.G.Qa()};k.jj=function(a,b,c,d){var e=this;d=void 0===d?!1:d;var f,g,h=this.Cc.get(a);if(void 0===h){var m=AE();y(m,"closePmNotice");m.innerHTML=Tc(a);m.style.textAlign="center";m.style.width="auto";m.style.borderBottomWidth="1px";m.style.borderBottomStyle="solid";m.style.margin="0 10px 5px 5px";m.style.display="none";var n=new XM({ar:function(p){Qr.j(p)},br:function(){yG(e.B)},Zq:function(p){e.va.ze(a);var v=[],A={message:p,username:a,media:v,source:"roomviewPM",K:e.B.A(),dy:e.UA},D=h.ph.qc;0<D.items().length?gB(D).then(function(R){A.media=R;rr.j({message:p,T:e.wm,Xb:a,media:v});QE(A);D.clear()}):(rr.j({message:p,T:e.wm,Xb:a}),QE(A))}},!0);h={G:n,U:0,Yq:0,username:a,En:m,pj:new YL,lh:!1,zq:!1,zp:!1,ph:new jB(n,a,28,["split"]),kj:function(){return"none"!==n.element.style.display}};n.Oo.h(function(){e.Hk()&&DN(e)&&CN(e)===h&&zt.j(a)});this.Cc.set(a,h);zB(h.G.element,a);h.G.tm=h.G.I(new iB(h.ph));h.G.Gv=h.G.I(new yB(h.ph.qc,28),h.G.ia);h.G.lz=h.ph;h.G.QA=h.ph.qc;h.G.Si(hL(md(a)));h.G.Si(hL(Wc()));!b&&c?(c=null!==(g=null===(f=Em.current.Fa)||void 0===f?void 0:f.Gb)&&void 0!==g?g:!1,h.G.Si(jL(a,c))):h.G.Si(h.pj.kE());h.G.element.style.display="none";this.I(h.G)}else h.En.style.display="";!d&&b&&this.ir.j(a);void 0===this.va.Db&&UL(this.va,a);return h};k.mz=function(a){if(!a.pj.nb()){a.pj.mH();var b=a.G.Pa.clientHeight,c=a.G.Wx;c=void 0!==c?Cn({offset:c,room:this.B.A()}):Cn({room:this.B.A()});E("api/ts/chatmessages/pm_list/"+a.username+"/?"+c).then(function(d){a.pj.EE();d=JSON.parse(d.responseText).messages;30>d.length&&(a.zq=!0);var e=d.length-1;d.reverse().forEach(function(f,g){f=mt(new N(f));a.G.ka(ZK(f,1),!0,!0);g===e&&a.G.Gr(f.gf)});a.G.jb.scrollTop=a.G.Pa.clientHeight-b}).catch(function(){})}};k.ka=function(a,b,c,d,e){d=void 0===d?!1:d;xK(a,document.body.classList.contains("darkmode"));this.va.ze(c);var f=this.jj(c,b!==this.B.username(),!1,d);d&&!1===f.lh&&(f.lh=!0);this.B.username()===b||Gx(this)&&this.va.Db===c||(f.U+=1,f.Yq+=1,this.Oc());f.lh&&(a=f.G.ka(a,void 0,!0));void 0!==e&&f.G.Gr(e);return a};k.jr=function(a){if(Gx(this)){var b=CN(this);void 0!==b&&b.G.ka(a)}};function CN(a){if(void 0!==a.va.Db)return a.Cc.get(a.va.Db)}function FN(a){return a.Rv("next")}
k.Rv=function(a){function b(){return"next"===a?RL(c.va):SL(c.va)}var c=this;this.bf();for(var d=b(),e=!1;void 0!==d&&d!==this.B.A()&&!this.Oe.Ci.has(d)&&0!==this.Oe.ak();)this.va.remove(d),d=b(),void 0!==d||e||("next"===a?GN(c):(c.bf(),TL(c.va)),d=b(),e=!0);if(void 0===d)return!1;this.Lj();return!0};k.Ol=function(a){if(a!==this.A){var b=this.Cc.get(a);if(void 0!==b){var c=Gx(this)&&this.va.Db===a;this.va.remove(a);b.G.Eb();this.removeChild(b.G);this.Cc.delete(a);c&&(FN(this)||this.jz());this.Oc();wt.j(b.username);xt.j(b.username)}}};k.Nl=function(){var a=CN(this);void 0===a?w("cannot close current tab"):this.Ol(a.username)};function GN(a){a.bf();for(a=a.va;;){var b=a.Wl.Lg.pop();if(void 0===b)break;mL(a.Yl,b)}void 0!==a.Db&&(mL(a.Yl,a.Db),a.Db=void 0)}function HN(a){a.bf();a.va=new nL}
k.Lj=function(){var a=this.va.Db;void 0===a&&(a=this.B.A(),UL(this.va,a));var b=this.Cc.get(a);void 0===b&&this.jj(a,!1,!1);b=this.Cc.get(a);"split"!==X()||b.lh||this.B.xc||(b.lh=!0,OE(b.username,this.B.A()));BN(this);b.G.element.style.display="block";b.G.jb.style.display="block";b.G.ia.style.display="block";b.G.M();DN(this)&&this.Hk()&&(0<b.U&&(b.U=0,this.Oc()),zt.j(b.username),Un.j(b.username));pr.j();b.username!==this.A&&b.G.ka(b.En)};k.bf=function(){var a=CN(this);void 0!==a&&(a.G.element.style.display="none")};k.bj=function(){var a=CN(this);if(void 0!==a)return a.G.Va};k.Lw=function(a,b,c){a=this.Cc.get(a);void 0!==a&&(void 0===a.$r&&(a.$r=new Map),a.$r.set(b,c))};k.Hk=function(){return"split"===X()};var IN=new t("userCountUpdate");function JN(){function a(){if(void 0!==b.parent&&!b.Jr){var d=b.parent;Cx(d,d.children()[0])}}Dx.call(this);var b=this;this.ak=0;this.uc=[];this.Jr=this.Jf=!1;this.vE=document.createElement("span");this.AC=$e+" ";this.element.id="UserListTab";this.element.style.overflow="visible";this.element.style.fontFamily="Tahoma, Helvetica, Arial, sans-serif";this.element.style.boxSizing="border-box";this.element.style.position="relative";this.Mb=document.createElement("div");this.Mb.style.width="100%";this.Mb.style.overflow="auto";this.Mb.style.padding="6px";this.Mb.style.boxSizing="border-box";this.element.appendChild(this.Mb);this.ia=KN();var c=LN();this.ec=MN(function(){return!1},4096);B("click",this.ec.element,a);B("focus",this.ec.element,a);this.Ae=new SM;this.Sc=UM(this.Ae,(new NN(!1)).element);this.Sc.style.marginLeft="6px";this.Sc.onclick=a;c.appendChild(this.ec.element);this.ia.appendChild(c);this.ia.appendChild(this.Ae.element);this.element.appendChild(this.ia);this.Tl();M.h(function(d){b.Jf=d.C.userName===d.C.A;b.Ma=d.B;b.Ma.event.Tc.h(function(e){"privatewatching"!==e.Nc&&"privatewatching"!==e.Ea||window.setTimeout(function(){b.refresh(!1)},2E3)});b.Ma.event.FA.h(function(e){b.ak=e;IN.j(b.ak)});b.clear(d.C.Kz);b.oH=d.C.za.mB});Tr.h(function(d){b.oH=d.mB})}q(JN,Dx);function ON(a){void 0===a.Rj&&(a.Rj=Jo(),a.Rj.style.height="1em",a.Rj.style.paddingTop="1px");a.Z.element.textContent="";a.Z.element.style.fill="currentColor";a.Z.element.appendChild(a.Rj);a.Z.element.appendChild(document.createTextNode("\u00a0"));a.vE.style.verticalAlign="top";a.Z.element.appendChild(a.vE);a.AC=""}k=JN.prototype;k.Rm=function(){for(;null!==this.Mb.firstChild;)this.Mb.removeChild(this.Mb.firstChild)};k.Tl=function(){var a=document.createElement("div");y(a,"defaultColor");a.innerText=Uf+"...";a.style.margin="8px 0";this.Mb.style.fontSize="12px";this.Mb.appendChild(a)};k.Gx=function(){var a=this,b=document.createElement("div");b.style.margin="6px";b.style.cssFloat="right";var c=document.createElement("span");c.innerText=Vf;c.style.cursor="pointer";y(c,"refreshUsersLink");c.onmouseenter=function(){c.style.textDecoration="underline"};c.onmouseleave=function(){c.style.textDecoration="none"};B("click",c,function(d){a.vA();d.preventDefault()});b.appendChild(c);this.Mb.appendChild(b)};k.vA=function(){this.Rm();this.Tl();this.refresh(!1)};k.clear=function(a){this.ak=a;IN.j(this.ak);this.Rm();this.Tl();this.H()};k.refresh=function(a){var b=this;a=void 0===a?!0:a;void 0!==this.Ma&&zG(this.Ma,this.oH).then(function(c){b.ak=c.js;IN.j(c.js);if(!a){b.Rm();b.Gx();b.uc=c.Hg;for(var d=l(b.uc),e=d.next();!e.done;e=d.next()){e=e.value;var f=document.createElement("div");J(f,{width:"auto",maxWidth:"100%",margin:"2px 0"});f.appendChild((b.Jf?new BJ(e,!0,void 0,!1):new uJ(e,!0,void 0,!1)).element);b.Mb.appendChild(f)}d=document.createElement("div");y(d,"defaultTooltipColor");d.innerText="+"+c.un+" anonymous user"+(1===c.un?"":"s");J(d,{width:"100%",margin:"2px 0",whiteSpace:"nowrap",cssFloat:"left"});b.Mb.appendChild(d);b.H()}}).catch(function(c){w("Error retrieving user list: "+c)})};k.H=function(){this.ia.style.width=this.element.clientWidth-10+"px";TM(this.Ae);this.ec.element.style.width=Math.max(0,this.ia.clientWidth-18-Math.ceil(this.Sc.offsetWidth)-4)+"px";this.Mb.style.height=this.element.clientHeight-28-4+"px"};k.fh=function(){void 0===this.Rj&&(this.Rj=Jo(),this.Rj.style.height="1em",this.Rj.style.paddingTop="1px");var a=document.createTextNode(this.AC+"("+this.ak+")"),b=document.createElement("span");b.style.verticalAlign="top";b.appendChild(a);return Jp()?[this.Rj,b]:[b]};k.dj=function(){return"users-tab-default"};k.Ge=function(){this.ec.focus()};k.fg=function(){this.ec.blur()};k.df=function(){return document.activeElement===this.ec.element};k.Qa=function(){this.Mb.scrollTop=this.Mb.scrollHeight-this.Mb.offsetHeight};k.bj=function(){};k.sf=function(a){Dx.prototype.sf.call(this,a);L("FocusTab",{location:"userlist"});this.refresh(!1)};function PN(){function a(){if(!b.Jr&&(Hs(b.Hc),void 0!==b.parent)){var f=b.parent;Cx(f,f.children()[0])}}Dx.call(this);var b=this;this.Hc=new ys;this.Jr=!1;this.element.id="SplitModeChatSettingsTab";y(this.element,"defaultColor");this.element.style.fontSize="12px";this.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";this.element.style.boxSizing="border-box";this.ia=KN();var c=LN();this.ec=MN(function(){return!1},4096);B("click",this.ec.element,a);B("focus",this.ec.element,a);this.Ae=new SM;this.Sc=UM(this.Ae,(new NN(!1)).element);this.Sc.style.marginLeft="6px";this.Sc.onclick=a;c.appendChild(this.ec.element);this.ia.appendChild(c);this.ia.appendChild(this.Ae.element);this.element.appendChild(this.ia);this.element.appendChild(this.ia);var d=document.createElement("div");d.innerText=Te;d.style.position="absolute";d.style.top="30px";d.style.right="10px";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.color="#000000";d.style.backgroundColor="#d8deea";d.style.border="1px solid #acacac";d.style.borderRadius="4px";d.style.padding="8px 12px";d.style.opacity="0";this.element.appendChild(d);Po.od.h(function(){"split"===X()&&(Pa(b,b.Hc),b.Hc.element.style.margin="0")});var e;this.Hc.kx.h(function(){clearTimeout(e);Ir(d,"250ms");d.style.opacity="1";e=window.setTimeout(function(){Ir(d,"1000ms");d.style.opacity="0"},3E3)})}q(PN,Dx);k=PN.prototype;k.cj=function(){var a=Object.assign(Object.assign({},Dx.prototype.cj.call(this)),{backgroundImage:Jp()?"":this.collapsed?"none":"url(https://static-assets.highwebmedia.com/tsdefaultassets/ico-preferences.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",boxSizing:"border-box",minHeight:"20px",height:"unset"});Jp()?this.collapsed||(a.paddingTop="1px"):a.minWidth="34px";return a};k.H=function(){"split"===X()&&(TM(this.Ae),this.ia.style.width=this.element.clientWidth-10+"px",this.ec.element.style.width=Math.max(0,this.ia.clientWidth-18-Math.ceil(this.Sc.offsetWidth)-4)+"px",this.Hc.element.style.height=this.element.clientHeight-28-4+"px")};k.fh=function(){if(this.collapsed){if(Jp()){var a=Ko();a.style.paddingRight="2px";a.firstChild.style.transform="translatey(2px)";return[a,document.createTextNode(Se)]}return[document.createTextNode(Re)]}return Jp()?[Ko(2)]:[]};k.dj=function(){return"settings-tab-default"};k.Ge=function(){this.ec.focus()};k.fg=function(){this.ec.blur()};k.df=function(){return document.activeElement===this.ec.element};k.Qa=function(){this.Hc.element.scrollTop=this.Hc.element.scrollHeight-this.Hc.element.offsetHeight};k.bj=function(){return this.ec};k.sf=function(a){Dx.prototype.sf.call(this,a);L("FocusTab",{location:"chatSettings"})};var QN;function RN(a){function b(){c.Ba=c.ce(new AN(function(){Cx(c,c.Y)},c.pi));c.Ba.ob()}a=void 0===a?!1:a;yx.call(this);var c=this;this.pi=a;this.Y=new WM;this.kn=new JN;this.Jf=!1;QN=this;this.Bi=new La;this.tc.element.style.boxSizing="border-box";this.tc.element.style.borderBottom="";this.tc.element.style.height="22px";this.window.style.width="";this.window.style.position="";this.element.id="ChatTabContainer";this.element.style.display="inline-block";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.borderRadius="4px 4px 2px 2px";this.element.style.margin="0 0 6px 8px";this.element.style.boxSizing="border-box";this.element.style.overflow="";this.Tf=Object.assign(Object.assign({},this.Tf),{position:"static",fontSize:Jp()?"11px":"12px",marginRight:Jp()?"":"2px",padding:Jp()?"0px 8px":"3px 8px"});this.Y=this.ce(this.Y);Jp()?(b(),this.kn=this.ce(this.kn),this.bn=this.ce(new PN),this.Y.Z.element.style.borderTopLeftRadius="4px",ON(this.kn)):(this.kn=this.ce(this.kn),b(),this.bn=this.ce(new PN),this.tc.element.style.padding="1px 3px 0 3px");this.by=this.rx();this.tc.I(this.by);Cx(this,this.Y);M.h(function(e){c.Jf=e.C.userName===e.C.A;c.B=e.B;Cx(c,c.Y);HN(c.Ba);c.Jf||lr.j({username:e.C.A,focus:!1,Or:e.C.Oq});e.B.event.Jo.h(function(f){c.Bz(f,e.B.username())});e.B.event.Ia.h(function(f){c.Qq(f,e.B.username())});tt.h(function(f){c.Qq(f,e.B.username())});e.B.event.vG.h(function(f){var g=ZK(f,SN(c));c.Ba.ka(g,f.T.username,f.bb)});e.B.event.wv.h(function(f){c.Y.gu(f.username);c.Y.G.xA(f.username);c.Ba.Ol(f.username)});e.B.event.Tc.h(function(f){"notconnected"===f.Nc&&c.Bt===c.kn&&c.kn.refresh(!1)});e.B.event.Nw.h(function(f){e.B.yp&&c.Y.G.ka(hL("DEBUG: "+f))});e.B.event.Yu.h(function(f){c.nq(f,e)});r(st.h(function(f){c.Pq(f,e)},!1),c.Bi);r(JE.h(function(f){c.Pq(f,e,!0)},!1),c.Bi);r(ut.h(function(f){c.Y.G.ka(hL(f.message))},!1),c.Bi);r(rr.h(function(f){c.Ud=f},!1),c.Bi)});Tn.h(function(){Ma(c.Bi)});nr.h(function(e){e?c.Y.G.ka(hL("Debug mode enabled. Type /debug again to disable.")):c.Y.G.ka(hL("Debug mode disabled."))});Vn.h(function(e){c.Y.G.ka(kL(e));e.ya&&c.Ba.jr(kL(e))});IN.h(function(){c.Oc()});mr.h(function(e){"split"===X()&&(Cx(c,c.Y),c.Y.Hl("@"+e+" "),c.Y.Ge())});Zo.h(function(){c.by.Fd.$a()&&c.by.Fd.Sa()});var d=new aJ;this.Ba.ir.h(function(e){!d.tk.has(e)&&zG(c.B,"a",!1).then(function(f){!d.tk.has(e)&&f.Hg.some(function(g){return g.username===e})&&(c.Y.G.ka(cL({sa:[[{jd:1,message:pd(e)},{jd:1,message:qd,zb:"#cd0000",weight:"700"}]],ya:!1},SN(c))),d.tk.add(e))}).catch(function(){})});lr.h(function(){window.setTimeout(function(){c.M()},0)});pr.h(function(){c.H()})}
q(RN,yx);k=RN.prototype;k.Pq=function(a,b,c){c=void 0===c?!1:c;if(c&&a.YE)var d=a.gf;!0===a.bF&&(a.message=this.Ud.message,a.T.username=this.Ud.T,a.bb=this.Ud.Xb,void 0!==this.Ud.media&&(a.ib=this.Ud.media));this.Ba.ka(ZK(a,SN(this)),a.T.username,a.bb,c,d);AB&&void 0!==a.ib&&0<a.ib.length&&(b=new HA({rj:a.gf,bb:a.T.username,dr:a.T.username===b.C.userName,ib:a.ib}),this.Ba.ka(bL(b.element,a.T),a.T.username,a.bb,c),this.Ba.Lw(a.bb,a.gf,b))};k.Bz=function(a,b){YM(this.Y);tI(vI(),a.T);a=ZK(a,SN(this),b);xK(a,document.body.classList.contains("darkmode"));this.Y.G.ka(a,void 0,!0)};k.Qq=function(a,b){b=cL(a,SN(this),b);xK(b,document.body.classList.contains("darkmode"));this.Y.G.ka(b);a.ya&&this.Ba.jr(cL(a,SN(this)))};k.rx=function(){var a=new ox(void 0,!0);y(a,"tab");Jp()?J(a,Object.assign(Object.assign({},this.Tf),{position:"absolute",height:"22px",width:"32px"})):J(a,Object.assign(Object.assign({},this.Tf),{position:"absolute",height:"19px",width:"32px"}));J(a.Fd,{width:"105px",padding:"8px 0",borderWidth:"1px",borderStyle:"solid"});y(a.Fd,"chat-tabs-dropdown-border");return a};function SN(a){return a.Jf?0:1}k.Sw=function(a){a=yx.prototype.Sw.call(this,a);a.element.classList.add("chat-tab-handle");return a};k.nq=function(a,b){return et(this,function d(){var e=this,f,g,h,m,n;return Ba(d,function(p){if(1==p.aa)return f=e,e.Jf||a.Yo===b.C.userName?p=ta(p,jM({zC:a.Nj,jD:a.Yo,gF:!a.Jk,SG:b.C.A}),3):(p.aa=0,p=void 0),p;g=p.ae;h=function(v,A){return f.nq(v,A)};m=function(v){f.hB(v)};n=lM(a,g,b,m,h);void 0!==n&&e.Y.G.ka(n);p.aa=0})})};k.hB=function(a){this.Y.G.ka(hL(a))};k.H=function(){var a=this;yx.prototype.H.call(this);this.Y.G.jb.style.height=this.element.clientHeight-28-this.tc.element.offsetHeight-6+"px";window.setTimeout(function(){var b;null===(b=CN(a.Ba))||void 0===b?void 0:TN(b.G)},0);this.tc.M()};k.dd=function(){return yx.prototype.dd.call(this)};k.children=function(){return yx.prototype.children.call(this)};k.nD=function(){Hs(this.bn.Hc);yx.prototype.dd.call(this)===this.Y?this.Ba.jo()||(Cx(this,this.Ba),GN(this.Ba),FN(this.Ba)||w("no pmSessions")):0<this.Y.Ff()?Cx(this,this.Y):FN(this.Ba)||Cx(this,this.Y);this.M()};k.Nl=function(){yx.prototype.dd.call(this)===this.Ba&&this.Ba.Nl()};function UN(){var a=document.createElement("div");a.className="msg-list-wrapper-split";a.style.boxSizing="border-box";a.style.overflow="auto";a.style.margin="0 auto 5px";a.style.padding="5px";return a}function VN(){var a=document.createElement("div");a.style.width="100%";a.className="notice-list-fvm";Jr(a,"text");a.style.cursor="text";return a}
function WN(){var a=document.createElement("div");a.className="msg-list-fvm";y(a,"message-list");a.style.width="100%";Jr(a,"text");a.style.cursor="text";a.style.paddingBottom="4px";return a}function LN(){var a=document.createElement("form");a.style.display="inline-block";a.style.boxSizing="border-box";a.style.margin="0 auto";return a}
function KN(){var a=document.createElement("div");y(a,"inputDiv");a.style.height="28px";a.style.boxSizing="border-box";a.style.margin="0 auto";a.style.position="absolute";a.style.left="5px";a.style.bottom="5px";a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.borderRadius="2px";a.style.fontSize="12px";return a}
function MN(a,b){a=new xH(a,b);y(a.element,"msg-input");a.element.style.margin="6px";a.element.style.height="16px";a.element.style.fontFamily="Helvetica, Arial, sans-serif";a.element.style.lineHeight="15px";return a}
function NN(a,b){a=void 0===a?!0:a;b=void 0===b?!1:b;x.call(this);var c=this;this.bB=a;this.gk=function(){z(c.element,"disabled");y(c.element,"send-button-gradient")};this.element=document.createElement("span");Jp()?(this.element.innerText=We,this.element.title=We):(this.element.innerText=Ve,this.element.title=Ve);this.element.style.lineHeight="1.2";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.padding="3px 5px";this.element.style.borderRadius="4px";this.element.style.boxSizing="border-box";this.element.style.display="inline-block";y(this.element,"send-button");y(this.element,"disabled");Jp()&&(y(this.element,"modern"),this.element.style.padding="2px 5px");!1===this.bB&&this.gk();this.element.classList.add(b?"theatermodeSendButtonPm":"theatermodeSendButtonChat")}q(NN,x);function XN(){var a=document.createElement("span");a.textContent="\ud83d\ude01";a.style.position="relative";a.style.cursor="pointer";a.style.marginRight="6px";a.style.fontSize="15px";a.style.lineHeight="15px";twemoji.parse(a,{className:"emojiButton"});return a}
function YN(){var a=document.createElement("span");a.style.position="relative";a.style.cursor="pointer";a.style.marginRight="6px";a.style.height="1.2em";a.style.width="1.2em";var b=document.createElement("img");b.src="https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/uploadBackground.svg";b.style.verticalAlign="text-bottom";b.style.height="100%";a.appendChild(b);return a}
function XM(a,b){b=void 0===b?!1:b;var c;x.call(this);var d=this;this.Fm=a;this.Bc=b;this.vp=new t("addMessageHtml",{qe:!1});this.yA=new t("removeMessageHtml",{qe:!1});this.Oo=new t("scrolledToBottom");this.Pa=WN();this.Wq=VN();this.jb=UN();this.qh=0;this.P=new La;this.Cg=this.Bc||gu();this.Jf=!1;this.CB=function(){d.Qa()};this.element.id="ChatTabContents";this.element.style.position="static";this.element.style.boxSizing="border-box";this.element.style.fontSize="12px";this.element.style.overflow="";this.element.classList.add(b?"TheatermodeChatDivPm":"TheatermodeChatDivChat");this.jb.appendChild(this.Wq);this.jb.appendChild(this.Pa);b&&this.element.appendChild((new XL(!1)).element);this.element.appendChild(this.jb);this.bx();var e=!1,f=!1,g=new on(function(){e=!1},{Ad:50,Ce:1});B("scroll",this.jb,function(){var h=d.jb.scrollTop;b&&0===h&&EN(d)&&or.j();e||(e=!0,f=EN(d));pn(g);!EN(d)&&f&&(d.Oo.j(),f=!1)});this.P.add(cH.h(function(h){d.zh=OM(d,h);void 0!==d.zh&&d.I(d.zh)}));this.P.add(M.h(function(h){d.element.style.fontSize=h.C.za.fontSize;d.jl();d.$h=h.B.username();h.C.A===h.C.userName&&(d.Jf=!0);d.Cg="offline"===h.C.Ga&&gu()&&d.Bc;d.Cg||d.Sc.gk()}));r(Tr.h(function(h){d.element.style.fontSize=h.fontSize;d.jl()}),this.P);this.Zg=new kI({Ha:this.Va,Gq:8,xr:207});this.ia.appendChild(this.Zg.element);this.Bc||(this.bk=new DI({Ha:this.Va,Gq:8,xr:207}),this.ia.appendChild(this.bk.element),r(zI.h(function(){LK(d.Pa,d.Jf?0:1,d.$h)}),this.P));a=null===(c=Em.current.Fa)||void 0===c?void 0:c.we;void 0!==a&&(c=new lz(a),Vy(c.getKey())&&(this.Cg=!1,this.Sc.gk()),r(c.Cm.h(function(h){h&&(d.Cg=!1,d.Sc.gk())}),this.P));this.Zg.element.classList.add(b?"theatermodeEmoticonAutocompleteModalPm":"theatermodeEmoticonAutocompleteModalChat")}q(XM,x);k=XM.prototype;k.bx=function(){var a=this,b=LN(),c=this.Bc?4096:1024;this.ia=KN();this.element.appendChild(this.ia);this.Ae=new SM;this.Bc&&AB&&(this.Jq=UM(this.Ae,YN()),this.Jq.onclick=function(){var d;L("PMPhotoButtonClicked");Hr()||(void 0!==a.zh?a.zh.show():(null===(d=a.tm)||void 0===d?void 0:d.toggle(),a.Qa()))});this.ei=UM(this.Ae,XN());this.Sc=VM(this.Ae,new NN(this.Cg,this.Bc));this.Va=MN(function(){return a.SA()},c);this.Va.element.classList.add(this.Bc?"theatermodeInputFieldPm":"theatermodeInputFieldChat");this.ei.classList.add(this.Bc?"theatermodeEmojiButtonPm":"theatermodeEmojiButtonChat");b.appendChild(this.Va.element);this.ia.appendChild(b);this.ia.appendChild(this.Ae.element);TM(this.Ae);B("mousedown",this.ia,function(d){if(d.target===a.ia||d.target===b)a.Va.focus(),d.preventDefault()});B("click",this.Sc.element,function(){a.Va.submit()});B("click",this.ei,function(){kr.j(a.ei)});B("submit",b,function(d){d.preventDefault();a.Va.submit()})};k.jl=function(){this.jb.style.lineHeight=Number(this.element.style.fontSize.slice(0,-2))+7+"pt"};k.Eb=function(){var a,b,c;Ma(this.P);null===(a=this.Zg)||void 0===a?void 0:a.Eb();null===(b=this.bk)||void 0===b?void 0:b.Eb();null===(c=this.lz)||void 0===c?void 0:c.Eb()};k.SA=function(){var a,b;if(Hr('You must be logged in to send a message. Click "OK" to login.')||this.Cg)return!1;var c=GH(this.Va);this.Qa();if(""!==c.trim()||null===(b=null===(a=this.QA)||void 0===a?void 0:0===a.items().length)||void 0===b||!b)switch(a=$H(c),a.messageType){case 2:this.Fm.br();break;case 1:this.Fm.ar(a.sz);break;default:this.Fm.Zq(c)}a=c.match(/@[a-zA-Z0-9_]+/gm);c=vI();if(null!==a)for(a=l(a),b=a.next();!b.done;b=a.next())b=b.value.replace("@",""),void 0!==c.lq(b)&&L("UserMentionMessage");this.Va.blur();return!0};k.H=function(){var a,b;this.ia.style.width=this.element.clientWidth-10+"px";var c=this.ia.clientWidth-18-this.Ae.width();this.Va.element.style.width=Math.max(0,c)+"px";TM(this.Ae);null!==(b=null===(a=this.Gv)||void 0===a?void 0:a.$a())&&void 0!==b&&b?this.ia.style.borderRadius="0":this.ia.style.borderRadius="4px 4px 0 0";void 0!==this.Zg&&(this.Zg.element.style.bottom=this.ia.offsetHeight-2+"px");void 0!==this.bk&&(this.bk.element.style.bottom=this.ia.offsetHeight-2+"px");TN(this);this.Qa()};function TN(a){var b,c,d,e,f,g,h=QN.element.clientHeight-28-QN.tc.element.offsetHeight-6;a.Bc&&(null!==(c=null===(b=a.tm)||void 0===b?void 0:b.$a())&&void 0!==c&&c?(b=null!==(e=null===(d=a.tm)||void 0===d?void 0:d.element.getBoundingClientRect().height)&&void 0!==e?e:0,h-=b+28+10,null!==(g=null===(f=a.Gv)||void 0===f?void 0:f.$a())&&void 0!==g&&g&&(h-=b),a.ia.style.bottom=5+b+"px"):(h-=32,a.ia.style.bottom="5px"));a.jb.style.height=h+"px"}
function EN(a){return a.jb.scrollTop<=a.jb.scrollHeight-(a.jb.offsetHeight+20)}k.Qa=function(){EN(this)&&this.Oo.j();this.jb.scrollTop=this.jb.scrollHeight-this.jb.offsetHeight};k.Si=function(a){this.Wq.appendChild(a)};k.ka=function(a,b,c){var d=this;b=void 0===b?!1:b;c=void 0===c?!1:c;var e=EN(this);e||a.querySelectorAll("img").forEach(function(g){var h=g.src;g.src="";g.onload=d.CB;g.src=h});this.Pa.appendChild(a);var f=this.Pa.childElementCount-1E3;for(b?this.Pa.prepend(a):this.Pa.appendChild(a);0<f;--f)b=this.Pa.firstElementChild,null!==b&&this.Pa.removeChild(b);e||this.Qa();this.vp.j({qz:function(){return a.cloneNode(!0)}});c&&(this.qh+=1);return a};k.vv=function(a){this.Pa.removeChild(a)};k.kq=function(){return this.qh};k.Qu=function(a){return this.qh-a};k.Gr=function(a){this.Wx=a};k.gu=function(a){for(var b=[],c=l(this.Pa.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.Pa.removeChild(b.value)};k.clear=function(){for(this.qh=0;null!==this.Pa.firstChild;)this.Pa.removeChild(this.Pa.firstChild)};k.Ge=function(){this.Va.focus()};k.fg=function(){this.Va.blur()};k.xA=function(a){this.yA.j(a)};k.df=function(){return document.activeElement===this.Va.element};k.Hl=function(a){DH(this.Va,a,!0)};function ZN(){var a=document.createElement("div");a.className="msg-list-wrapper-fvm";a.style.width="100%";a.style.boxSizing="border-box";a.style.overflow="auto";return a}function $N(){var a=document.createElement("div");a.style.width="100%";a.className="notice-list-fvm";Jr(a,"text");a.style.cursor="text";return a}function aO(){var a=document.createElement("div");a.className="msg-list-fvm";a.style.width="100%";a.style.overflowX="hidden";Jr(a,"text");a.style.cursor="text";return a}
function bO(){var a=document.createElement("form");a.style.display="inline-block";a.style.boxSizing="border-box";return a}function cO(){var a=document.createElement("div");y(a,"chat-input-div");a.style.height="27px";a.style.boxSizing="border-box";a.style.position="absolute";a.style.bottom="0px";a.style.fontSize="12px";return a}
function dO(a,b){a=new xH(a,b);y(a.element,"chat-input-field");a.element.style.margin="6px";a.element.style.height="15px";a.element.style.fontFamily="Helvetica, Arial, sans-serif";a.element.style.lineHeight="15px";return a}
function eO(a,b){b=void 0===b?!0:b;x.call(this);var c=this;this.P=a;this.bB=b;this.element=document.createElement("span");Jp()?(this.element.innerText=We,this.element.title=We):(this.element.innerText=Ve,this.element.title=Ve);this.element.style.fontSize="12px";this.element.style.padding="5px 8px 4px";this.element.style.margin="2px";this.element.style.borderRadius="4px";this.element.style.boxSizing="border-box";this.element.style.display="inline-block";this.element.style.cssFloat="right";this.element.style.textOverflow="ellipsis";this.element.style.whiteSpace="nowrap";this.element.style.lineHeight="14px";y(this.element,"send-button");y(this.element,"disabled");Jp()&&(this.element.style.padding="4px 7px 3px",y(this.element,"modern"));a=M.h(function(d){c.element.style.right=!0===d.C.Gb?"37px":"0px"});void 0!==this.P&&this.P.add(a);!1===this.bB&&this.gk();Sr.h(function(d){d?(c.element.style.maxWidth="50px",c.element.style.overflow="hidden"):(c.element.style.maxWidth="none",c.element.style.overflow="auto")})}q(eO,x);eO.prototype.gk=function(){z(this.element,"disabled");y(this.element,"send-button-gradient")};function fO(a){$b.j({});a.stopPropagation();a.preventDefault()}
function gO(a){var b=document.createElement("span");y(b,"tip-button");Jp()?(b.title=Ye,b.innerText=Ye):(b.title=Xe,b.innerText=Xe);b.style.fontSize="12px";b.style.padding="4px 7px 3px";b.style.margin="2px";y(b,"tip-button-gradient");b.style.borderRadius="4px";b.style.boxSizing="border-box";b.style.cursor="pointer";b.style.display="inline-block";b.style.cssFloat="right";b.style.textOverflow="ellipsis";b.style.whiteSpace="nowrap";b.style.lineHeight="14px";B("mousedown",b,function(d){d.stopPropagation()});B("click",b,fO);var c=M.h(function(d){b.style.display=!0===d.C.Gb?"inline-block":"none"});void 0!==a&&a.add(c);Sr.h(function(d){d?(b.style.maxWidth="50px",b.style.overflow="hidden"):(b.style.maxWidth="none",b.style.overflow="auto")});return b}
function hO(){var a=document.createElement("span");a.style.position="relative";a.style.cursor="pointer";a.style.marginRight="6px";a.style.display="inline-block";a.style.height="15px";var b=document.createElement("img");b.src="https://static-assets.highwebmedia.com/tsdefaultassets/mediaDock/uploadBackground-lighter.svg";b.style.verticalAlign="text-bottom";b.style.height="100%";a.appendChild(b);return a}
function iO(){var a=document.createElement("span");a.style.position="relative";a.textContent="\ud83d\ude01";a.style.cursor="pointer";a.style.marginRight="6px";a.style.fontSize="15px";twemoji.parse(a,{className:"emojiButton"});return a}
function jO(a,b){b=void 0===b?!1:b;var c;x.call(this);var d=this;this.Fm=a;this.Bc=b;this.vp=new t("addMessageHtml",{qe:!1});this.yA=new t("removeMessageHtml",{qe:!1});this.Oo=new t("scrolledToBottom");this.Pa=aO();this.Wq=$N();this.jb=ZN();this.dE=new t("formSubmitted");this.qh=0;this.Et=new Map;this.P=new La;this.Cg=this.Bc||gu();this.CB=function(){d.Qa()};this.element.id="FVChatTabContents";this.element.style.fontSize="12px";this.element.style.overflow="";this.element.classList.add(b?"FullvideoChatDivPm":"FullvideoChatDivChat");y(this.element,"hasDarkBackground");this.jb.appendChild(this.Wq);this.jb.appendChild(this.Pa);this.Bc&&this.element.appendChild((new XL(!0)).element);this.element.appendChild(this.jb);this.bx();this.P.add(cH.h(function(f){d.zh=OM(d,f);void 0!==d.zh&&d.I(d.zh)}));var e=!1;this.P.add(M.h(function(f){d.element.style.fontSize=f.C.za.fontSize;d.$h=f.B.username();f.C.A===f.C.userName&&(e=!0);d.Vj.style.display=!0===f.C.Gb?"inline-block":"none";d.jl();d.Cg="offline"===f.C.Ga&&gu()&&d.Bc;d.Cg||d.RA.gk()}));this.P.add(Tr.h(function(f){d.element.style.fontSize=f.fontSize;d.jl()}));this.Zg=new kI({Ha:this.Va,Gq:8,xr:167});this.ia.appendChild(this.Zg.element);this.Bc||(this.bk=new DI({Ha:this.Va,Gq:8,xr:167}),this.ia.appendChild(this.bk.element),r(zI.h(function(){LK(d.Pa,e?0:1,d.$h)}),this.P));this.Zg.element.classList.add(b?"fullvideoEmoticonAutocompleteModalPm":"fullvideoEmoticonAutocompleteModalChat");a=null===(c=Em.current.Fa)||void 0===c?void 0:c.we;void 0!==a&&r((new lz(a)).Cm.h(function(f){f&&(d.RA.gk(),d.Cg=!1)}),this.P)}q(jO,x);k=jO.prototype;k.bx=function(){var a=this,b=bO();this.ia=cO();this.Va=dO(function(){return a.SA()},this.Bc?4096:1024);this.Va.element.classList.add(this.Bc?"fullvideoInputFieldPm":"fullvideoInputFieldChat");this.ei=iO();this.ei.classList.add(this.Bc?"fullvideoEmojiButtonPm":"fullvideoEmojiButtonChat");this.RA=new eO(this.P,this.Cg);this.Sc=this.RA.element;this.Sc.classList.add(this.Bc?"fullvideoSendButtonPm":"fullvideoSendButtonChat");this.Vj=gO(this.P);b.appendChild(this.Va.element);this.ia.appendChild(b);var c=document.createElement("span");c.style.position="absolute";c.style.bottom="6px";this.Bc&&AB&&(this.Jq=hO(),this.Jq.onclick=function(){var d;L("PMPhotoButtonClicked");Hr()||(void 0!==a.zh?a.zh.show():(null===(d=a.tm)||void 0===d?void 0:d.toggle(),a.Qa()))},c.appendChild(this.Jq));c.append(this.ei);this.ia.appendChild(c);this.ia.appendChild(this.Vj);this.ia.appendChild(this.Sc);this.element.appendChild(this.ia);this.ei.onload=function(){a.M()};B("mousedown",this.ia,function(d){if(d.target===a.ia||d.target===b)a.Va.focus(),d.preventDefault()});B("submit",b,function(d){d.preventDefault();a.Va.submit()});B("click",this.Sc,function(d){d.stopPropagation();a.Va.submit()});B("click",this.ei,function(d){d.stopPropagation();kr.j(a.ei)});B("scroll",this.jb,function(){var d=a.jb.scrollTop;a.Bc&&0===d&&EN(a)&&or.j()})};k.jl=function(){this.jb.style.lineHeight=Number(this.element.style.fontSize.slice(0,-2))+7+"pt"};k.Eb=function(){var a,b,c;Ma(this.P);null===(a=this.Zg)||void 0===a?void 0:a.Eb();null===(b=this.bk)||void 0===b?void 0:b.Eb();null===(c=this.lz)||void 0===c?void 0:c.Eb()};k.SA=function(){var a,b;if(Hr('You must be logged in to send a message. Click "OK" to login.')||this.Cg)return!1;var c=GH(this.Va);this.Qa();if(""!==c.trim()||null===(b=null===(a=this.QA)||void 0===a?void 0:0===a.items().length)||void 0===b||!b)switch(a=$H(c),a.messageType){case 2:this.Fm.br();break;case 1:this.Fm.ar(a.sz);break;default:this.Fm.Zq(c)}var d=c.match(/@[a-zA-Z0-9_]+/gm);a=vI();if(null!==d){b={};d=l(d);for(var e=d.next();!e.done;b={zw:b.zw},e=d.next())b.zw=e.value,void 0!==a.Hg().find(function(f){return function(g){return g.username===f.zw.replace("@","")}}(b))&&L("UserMentionMessage")}this.dE.j(c);return!0};k.H=function(){var a,b,c=EN(this);kO(this);this.ia.style.width=this.element.clientWidth+"px";var d=this.ia.clientWidth-18-2-Math.ceil(this.Vj.offsetWidth+this.Sc.offsetWidth+this.ei.offsetWidth)-4;this.Bc&&AB&&(d=d-6-(null!==(b=null===(a=this.Jq)||void 0===a?void 0:a.offsetWidth)&&void 0!==b?b:0));d=Math.max(0,d);this.Va.element.style.width=d+"px";c||this.Qa();void 0!==this.Zg&&(this.Zg.element.style.bottom=this.ia.offsetHeight+"px");void 0!==this.bk&&(this.bk.element.style.bottom=this.ia.offsetHeight+
"px")};function kO(a){var b,c,d,e,f,g,h=Math.max(0,a.element.clientHeight-27);a.Bc&&(null!==(c=null===(b=a.tm)||void 0===b?void 0:b.$a())&&void 0!==c&&c?(b=null!==(e=null===(d=a.tm)||void 0===d?void 0:d.element.getBoundingClientRect().height)&&void 0!==e?e:0,h-=2*b+37,null!==(g=null===(f=a.Gv)||void 0===f?void 0:f.$a())&&void 0!==g&&g&&(h-=b),a.ia.style.bottom=0+b+"px"):(h-=32,a.ia.style.bottom="0px"));a.jb.style.height=h+"px"}
k.Qa=function(){var a=this;EN(this)&&this.Oo.j();this.jb.scrollTop=this.jb.scrollHeight;this.jb.scrollLeft=0;window.setTimeout(function(){EN(a)&&a.Qa()},0)};k.Si=function(a){this.Wq.appendChild(a)};k.ka=function(a,b,c,d){var e=this;c=void 0===c?!1:c;d=void 0===d?!1:d;var f=this.jb.scrollTop,g=EN(this);g||a.querySelectorAll("img").forEach(function(h){var m=h.src;h.src="";h.onload=e.CB;h.src=m});c?this.Pa.prepend(a):this.Pa.appendChild(a);if(g)kO(this),this.jb.scrollTop=f;else{for(c=this.Pa.childElementCount-1E3;0<c;--c)f=this.Pa.firstElementChild,null!==f&&this.Pa.removeChild(f);kO(this);this.Qa()}void 0!==b&&this.Et.set(a,b);this.vp.j({qz:function(){return void 0!==b?b():a.cloneNode(!0)}});d&&(this.qh+=1);return a};k.vv=function(a){this.Et.delete(a);this.Pa.removeChild(a)};k.kq=function(){return this.qh};k.Qu=function(a){return this.qh-a};k.Gr=function(a){this.Wx=a};function lO(a){for(var b={},c=l(a.Pa.childNodes),d=c.next();!d.done;b={ws:b.ws},d=c.next())b.ws=d.value,a.vp.j({qz:function(e){return function(){var f=a.Et.get(e.ws);return void 0!==f?f():e.ws.cloneNode(!0)}}(b),LL:!1})}k.D=function(){this.Pa.style.opacity="0"};k.show=function(){this.Pa.style.opacity="1"};k.clear=function(){for(this.qh=0;null!==this.Pa.firstChild;)this.Pa.removeChild(this.Pa.firstChild);this.Et.clear()};k.Ge=function(){this.Va.focus()};k.fg=function(){this.Va.blur()};k.xA=function(a){this.yA.j(a)};k.df=function(){return document.activeElement===this.Va.element};k.Hl=function(a){DH(this.Va,a,!0)};var mO;M.h(function(a){mO=a.B.A()});var nO={"---":"---",underage:Ah,advertising:Bh,abusive:Ch,intoxicated:Dh,"large toy":Eh,"offline payments":Fh,"public broadcast":Gh,"service uniform":Hh,sleeping:Ih,gender:Jh,other:Kh};function oO(){x.call(this);var a=this;this.ot=new t("closeReportAbuseRequest");this.element.id="AbuseReport";this.element.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.element.style.fontSize="11px";this.element.style.position="relative";this.element.style.height="";this.element.style.minHeight="183px";var b=document.createElement("form"),c=document.createElement("div");y(c,"defaultColor");this.Ll=document.createElement("label");this.Ll.style.margin="8px";this.Ll.htmlFor="abuse-category";this.Ll.innerText=yh;c.appendChild(this.Ll);this.gg=document.createElement("select");y(this.gg,"abuseInput");this.gg.id="abuse-category";this.gg.style.margin="8px";this.gg.style.boxSizing="border-box";for(var d in nO){var e=document.createElement("option");e.value=d;e.innerText=nO[d];this.gg.appendChild(e)}c.appendChild(this.gg);b.appendChild(c);c=document.createElement("div");c.style.paddingTop="6px";d=document.createElement("label");d.style.margin="8px";d.htmlFor="abuse-comments";d.innerText=Lh;c.appendChild(d);this.Cd=document.createElement("textarea");y(this.Cd,"abuseInput");this.Cd.id="abuse-comments";this.Cd.maxLength=255;this.Cd.style.width="100%";this.Cd.style.resize="none";this.Cd.style.margin="8px";this.Cd.style.padding="4px";this.Cd.style.borderWidth="1px";this.Cd.style.borderStyle="solid";this.Cd.style.borderRadius="4px";this.Cd.style.boxSizing="border-box";this.Cd.style.display="block";c.appendChild(this.Cd);b.appendChild(c);this.Jl=document.createElement("div");this.Jl.style.cssFloat="right";this.Jl.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";this.Jl.style.marginBottom="8px";c=document.createElement("span");y(c,"submitSpan");c.innerText=Th;c.style.padding="3px 6px 4px 5px";c.style.marginRight="8px";c.style.borderRadius="4px";c.style.boxSizing="border-box";c.style.cursor="pointer";c.style.display="inline-block";d=document.createElement("span");y(d,"cancelSpan");d.innerText=wh;d.style.padding="3px 6px 4px 5px";d.style.marginRight="8px";d.style.borderRadius="4px";d.style.boxSizing="border-box";d.style.cursor="pointer";d.style.display="inline-block";this.Jl.appendChild(d);this.Jl.appendChild(c);b.appendChild(this.Jl);B("click",c,function(f){f.preventDefault();"other"===a.gg.value&&""===a.Cd.value?V("Please add a description of the abuse being reported."):"---"===a.gg.value?V("Please choose a category."):(a.VA().then(function(g){g.success?V("Your abuse report has been submitted."):void 0!==g.Ky&&V(g.Ky)}).catch(function(g){403===g.$d.status?V(g.$d.responseText):V("Error sending abuse report ("+g+")")}),a.ot.j(void 0))});B("click",d,function(){a.ot.j(void 0)});this.element.appendChild(b)}q(oO,x);oO.prototype.H=function(){this.gg.style.width=Math.max(0,this.element.clientWidth-16-(this.Ll.offsetWidth+2*this.Ll.offsetLeft))+"px";this.Cd.style.width=Math.max(0,this.element.clientWidth-16)+"px";this.Cd.style.height=Math.max(0,this.element.clientHeight-(this.Jl.offsetHeight+4*this.Ll.offsetHeight+8+10))+"px"};oO.prototype.VA=function(){var a=this;return new Promise(function(b,c){return F("abuse/report/"+mO+"/",{category:a.gg.value,additional_comments:a.Cd.value}).then(function(d){d=new N(d.responseText);var e={success:"success"===Q(d,"result"),Ky:P(d,"html")};ho(d);b(e)}).catch(function(d){c(d)})})};function pO(a,b){var c=document.createElement("div");c.innerHTML=a;a=document.createElement("div");a.style.paddingTop="5px";var d=document.createElement("span");d.innerText=b;d.style.color="#0c6a93";d.style.padding="5px";d.style.display="inline";d.style.verticalAlign="top";a.appendChild(d);b=document.createElement("div");b.style.padding="0 10px";b.style.display="inline-block";d=l(c.getElementsByTagName("*"));for(var e=d.next();!e.done;e=d.next()){var f=e=e.value;"fixed"===f.style.position&&(f.style.position="absolute");"IMG"===f.tagName&&(e.className="bioImage");null!==f.style.top&&0>parseInt(f.style.top,10)&&(f.style.top="0");null!==f.style.marginTop&&0>parseInt(f.style.marginTop,10)&&(f.style.marginTop="0");null!==f.style.left&&0>parseInt(f.style.left,10)&&(f.style.left="0");null!==f.style.marginLeft&&0>parseInt(f.style.marginLeft,10)&&(f.style.marginLeft="0")}0!==c.children.length&&(c.children[0].style.display="unset");c.style.position="relative";b.appendChild(c);a.appendChild(b);return a}
function qO(a,b){function c(g){var h=document.createElement("div");h.style.padding="10px";h.style.position="relative";h.style.display="inline-block";h.style.height="100px";h.title=g.name;h.onmouseenter=function(){h.style.cursor="pointer";n.style.textDecoration="underline"};h.onmouseleave=function(){h.style.cursor="default";n.style.textDecoration="none"};h.onclick=function(){var p="resizable,dependent,scrollbars,height=520,width=803,top="+(screen.height/2-260).toString()+",left="+(screen.width/2-401.5).toString(),v="/photo_videos/photoset/detail/"+b+"/"+g.id;ZI(g,"BioTab");Kp(v,void 0,p);return!1};var m=document.createElement("img");m.src=g.Fn;m.width=150;m.height=100;m.className="userUpload";h.appendChild(m);g.mc||(m=document.createElement("img"),m.src="https://static-assets.highwebmedia.com/images/locked_rectangle4.png",m.width=150,m.height=100,m.style.top="10px",m.style.left="10px",m.style.position="absolute",m.style.border="none",h.appendChild(m));g.Hb&&(m=document.createElement("img"),m.src="https://static-assets.highwebmedia.com/images/play3.png",m.height=20,m.style.position="absolute",m.style.top="10px",m.style.left="10px",h.appendChild(m));""!==g.wd&&(m=document.createElement("span"),m.innerText=g.wd,m.style.backgroundColor=g.Le,m.style.position="absolute",m.style.top="92px",m.style.right="15px",m.style.fontSize="10px",m.style.padding="2px",h.appendChild(m));var n=document.createElement("div");n.innerText=g.name;n.style.fontSize="12px";n.style.position="absolute";n.style.top="111px";n.style.left="0px";n.style.paddingLeft="13px";n.style.color="#0c6a93";n.style.maxWidth="145px";n.style.whiteSpace="nowrap";n.style.textOverflow="ellipsis";n.style.overflow="hidden";h.appendChild(n);return h}var d=document.createElement("div");d.style.position="relative";d.style.paddingTop="5px";d.style.paddingBottom="25px";var e=document.createElement("span");e.innerText=ue+":";e.style.color="#0c6a93";e.style.padding="5px";d.appendChild(e);e=document.createElement("div");e.style.paddingLeft="5px";a=l(a);for(var f=a.next();!f.done;f=a.next())e.appendChild(c(f.value));d.appendChild(e);return d}
function rO(a,b){function c(g){var h=document.createElement("div");h.style.padding="10px";h.style.position="relative";h.style.display="inline-block";h.style.height="100px";h.title=g.jw;h.onmouseenter=function(){h.style.cursor="pointer";n.style.textDecoration="underline"};h.onmouseleave=function(){h.style.cursor="default";n.style.textDecoration="none"};h.onclick=function(){Kp("/socials/social_media/"+b+"/"+g.id,void 0,"resizable,dependent,scrollbars,height=520,width=803,top="+(screen.height/2-260).toString()+
",left="+(screen.width/2-401.5).toString());return!1};var m=document.createElement("img");m.src=g.Wn;m.width=150;m.height=100;m.className="userUpload";h.appendChild(m);m=document.createElement("span");m.innerText=g.wd;m.style.backgroundColor=g.Le;m.style.position="absolute";m.style.top="92px";m.style.right="15px";m.style.fontSize="10px";m.style.padding="2px";h.appendChild(m);var n=document.createElement("div");n.innerText=g.jw;n.style.fontSize="12px";n.style.position="absolute";n.style.top="111px";n.style.left="0px";n.style.paddingLeft="13px";n.style.color="#0c6a93";n.style.maxWidth="145px";n.style.whiteSpace="nowrap";n.style.textOverflow="ellipsis";n.style.overflow="hidden";h.appendChild(n);return h}var d=document.createElement("div");d.style.position="relative";d.style.paddingTop="5px";d.style.paddingBottom="25px";var e=document.createElement("span");e.innerText=dg+":";e.style.color="#0c6a93";e.style.padding="5px";d.appendChild(e);e=document.createElement("div");e.style.paddingLeft="5px";a=l(a);for(var f=a.next();!f.done;f=a.next())e.appendChild(c(f.value));d.appendChild(e);return d}
function sO(a){function b(f,g){var h=document.createElement("div"),m=document.createElement("div");m.style.position="relative";m.style.paddingLeft="5px";m.style.display="inline";var n=document.createElement("span");n.style.color="#0c6a93";n.innerText=f;m.appendChild(n);f=document.createElement("div");f.style.position="absolute";f.style.paddingRight="5px";f.style.display="inline";f.style.left="150px";f.style.overflow="hidden";f.style.textOverflow="ellipsis";f.style.whiteSpace="nowrap";n=document.createElement("span");n.style.whiteSpace="nowrap";n.innerText=g;f.appendChild(n);h.style.paddingTop="5px";h.appendChild(m);h.appendChild(f);return h}var c=document.createElement("div"),d=a.username.charAt(0).toUpperCase()+a.username.slice(1);if("public"===a.Ga){var e=document.createElement("a");e.href="./?"+a.username;e.text="View "+d+"'s Cam";e.style.position="relative";e.style.padding="5px 5px 5px 0";e.style.textAlign="right";e.style.display="inline-block";e.style.width="100%";e.style.fontSize="14px";e.style.textDecoration="none";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};B("click",e,function(f){f.preventDefault();ac.j(a.username)});c.appendChild(e)}""!==a.sv&&c.appendChild(b(ve+":",a.sv));isNaN(a.ky)||c.appendChild(b(we+":",a.ky.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")));""!==a.Kj&&("Couple"===a.Kj?c.appendChild(b(ye+":",""+a.Kj.charAt(0).toUpperCase()+a.Kj.substring(1))):c.appendChild(b(xe+":",""+a.Kj.charAt(0).toUpperCase()+a.Kj.substring(1))));""!==a.Lt&&c.appendChild(b(ze+":",a.Lt));isNaN(a.bi)||c.appendChild(b(Be+":",a.bi.toString()));""!==a.bt&&c.appendChild(b(Ce+":",a.bt));""!==a.at&&c.appendChild(b(De+":",a.at));""!==a.uu&&(d=JSON.parse(a.uu).join(", "),c.appendChild(b(Ee+":",d)));""!==a.location&&c.appendChild(b(Fe+":",a.location));void 0!==a.Fq&&c.appendChild(b(He+":",a.Fq));""!==a.languages&&c.appendChild(b(Ie+":",a.languages));""!==a.Wv&&c.appendChild(b(Je+":",a.Wv));return c}
function tO(a){x.call(this);var b=this;this.element.style.color="#000";this.oc(YI(a));this.NG=function(c){b.oc(YI(c.C.A))};M.h(this.NG,!1)}q(tO,x);tO.prototype.oc=function(a){var b=this;void 0!==this.content&&this.element.removeChild(this.content.hb);var c=document.createElement("span");c.innerText=Ne+"...";this.element.appendChild(c);this.element.style.display="block";a.then(function(d){var e=document.createElement("div");e.style.fontSize="14px";var f=sO(d.Ac);e.appendChild(f);if(0<d.Xv.length){var g=rO(d.Xv,d.Ac.username);e.appendChild(g)}if(0<d.zo.length){var h=qO(d.zo,d.Ac.username);e.appendChild(h)}if(""!==d.Es){var m=pO(d.Es,qe+":");e.appendChild(m)}if(""!==d.xw){var n=pO(d.xw,re+":");e.appendChild(n)}b.content={hb:e,Ac:f,HQ:g,dQ:h,VQ:m,aR:n};b.content.hb.style.position="relative";b.content.hb.style.paddingRight="3px";b.content.hb.style.cursor="default";b.content.hb.style.overflow="scroll";b.content.hb.style.height="100%";b.element.removeChild(c);b.element.appendChild(b.content.hb);b.M()}).catch(function(d){w("Bio Content error: "+d);d=document.createElement("div");d.style.position="absolute";d.style.height="100%";d.style.width="100%";d.style.top="0";d.style.left="0";d.style.display="block";var e=document.createElement("span");e.innerText=Le;e.style.display="block";e.style.padding="10px";d.appendChild(e);b.content={hb:d};b.element.removeChild(c);b.element.appendChild(b.content.hb)})};tO.prototype.H=function(){if(void 0!==this.content&&void 0!==this.content.Ac)for(var a=l(this.content.Ac.childNodes),b=a.next();!b.done;b=a.next())b=b.value.childNodes[1],void 0!==b&&(b.style.maxWidth=this.element.offsetWidth-150-5+"px")};tO.prototype.eg=function(){M.removeListener(this.NG)};function uO(){Bx.call(this);var a=this;this.U=0;this.element.id="chat-box";this.element.style.overflow="";this.G=new jO({ar:function(b){$b.j(b)},br:function(){yG(a.B)},Zq:function(b){AG(a.B,b)}});this.I(this.G);this.Ow=new fM({ka:function(b,c){return a.G.ka(b,c)},vv:function(b){a.G.vv(b)},kq:function(){return a.G.kq()},Qu:function(b){return a.G.Qu(b)},TJ:function(){return a.G.jb.scrollTop},SJ:function(){return a.G.element.offsetHeight}});M.h(function(b){a.B=b.B;a.G.ka(RK("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));a.G.ka(RK('To send a tip, press CTRL+S or type "/tip 25".'));b.C.$w?CE(b.C.A,b.C.Qc,a.G.element,"fullvideo").then(function(c){a.G.ka(c)}).catch(function(){}):0<b.C.hk.length&&a.G.ka(SK(b.C.A,b.C.hk))});Tn.h(function(){a.G.clear()})}q(uO,Bx);k=uO.prototype;k.Ff=function(){return this.U};k.H=function(){Bx.prototype.H.call(this)};k.Qa=function(){this.G.Qa()};k.fh=function(){return[document.createTextNode(99<this.U?Ue+" (99+)":0<this.U?Ue+" ("+this.U+")":Ue)]};k.dj=function(){return"chat-tab-fvm"};k.Ge=function(){this.G.Ge()};k.fg=function(){};k.df=function(){return this.G.df()};k.ob=function(){Bx.prototype.ob.call(this);this.U=0;this.Oc();this.G.Qa()};k.gu=function(a){for(var b=[],c=l(this.G.Pa.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.G.Pa.removeChild(b.value)};k.Hl=function(a){this.G.Hl(a)};k.bj=function(){return this.G.Va};k.sf=function(a){Bx.prototype.sf.call(this,a);L("FocusTab",{location:"chat"})};function vO(a){Bx.call(this);var b=this;this.jz=a;this.U=0;this.ir=new t("pmReceived");this.Cc=new Map;this.va=new nL;this.UA=function(c){var d=b.Cc.get(b.va.Db);d.zp||(d.G.ka(RK(c)),d.zp=!0)};this.element.style.overflow="";this.Oe=new kN({Oa:!1,om:!0,vh:vt,vl:function(c){c!==b.U&&(b.U=c,b.Oc())}});this.I(this.Oe);lr.h(function(c){b.bf();BN(b);void 0===b.Cc.get(c.username)&&b.jj(c.username,!1,c.Or);UL(b.va,c.username);b.Oc();b.Lj();c.focus&&Ex(b)});M.h(function(c){b.B=c.B;b.wm=c.C.userName;b.A=c.C.A});wt.h(function(c){b.Ol(c)});vt.h(function(c){b.bf();UL(b.va,c);b.Lj()});VL.h(function(c){b.Nr(c,!0)});WL.h(function(){L("IgnoreUser",{location:"PMTab"});b.B.og(b.va.Db)});or.h(function(){var c=b.Cc.get(b.va.Db);!1===c.zq&&b.mz(c)});KE.h(function(c){b.va.ze(c);b.jj(c,!1,!1)});st.h(function(c){var d=CN(b);b.Hk()&&DN(b)&&void 0!==d&&d.kj()&&(c.bb!==d.username||EN(d.G)||zt.j(d.username))})}q(vO,Bx);k=vO.prototype;k.Nr=function(a,b){b=void 0===b?!1:b;a&&(this.bf(),a=this.B.A()===this.wm,b||1<this.Oe.Bb.childNodes.length||a?(this.Oe.element.style.display="block",this.Oe.M()):(UL(this.va,this.B.A()),this.Lj()))};k.Qa=function(){var a=CN(this);void 0!==a&&a.G.Qa()};k.Ff=function(){return this.U};k.fh=function(){return[document.createTextNode(99<this.U?"PM (99+)":0<this.U?"PM ("+this.U+")":"PM")]};k.sf=function(){L("FocusTab",{location:"PM",unread:this.Ff()});Ex(this);this.Nr(!0)};k.jo=function(){return!1};k.dj=function(){return"pm-tab-fvm"};k.Ge=function(){var a=CN(this);void 0===a?w("session undefined"):a.G.Ge()};k.fg=function(){};k.df=function(){var a=CN(this);return void 0===a?(w("session undefined"),!1):a.G.df()};k.H=function(){Bx.prototype.H.call(this);var a=CN(this);void 0!==a&&a.G.Qa()};k.jj=function(a,b,c,d){var e=this;d=void 0===d?!1:d;var f,g,h=this.Cc.get(a);if(void 0===h){var m=AE();y(m,"closePmNotice");m.innerHTML=Tc(a);m.style.textAlign="center";m.style.width="auto";m.style.borderBottomWidth="1px";m.style.borderBottomStyle="solid";m.style.margin="0 10px 5px 5px";m.style.display="none";var n=new jO({ar:function(p){$b.j(p)},br:function(){yG(e.B)},Zq:function(p){e.va.ze(a);var v=[],A={message:p,username:a,media:v,source:"roomviewPM",K:e.B.A(),dy:e.UA},D=h.ph.qc;0<D.items().length?gB(D).then(function(R){A.media=R;rr.j({message:p,T:e.wm,Xb:a,media:v});QE(A);D.clear()}):(rr.j({message:p,T:e.wm,Xb:a}),QE(A))}},!0);h={G:n,U:0,Yq:0,username:a,En:m,pj:new YL,lh:!1,zq:!1,zp:!1,ph:new jB(n,a,22,["theater","fullvideo","noninteractive-fullscreen"]),kj:function(){return"none"!==n.element.style.display}};n.Oo.h(function(){e.Hk()&&DN(e)&&CN(e)===h&&zt.j(a)});this.Cc.set(a,h);zB(h.G.element,a);h.G.lz=h.ph;h.G.QA=h.ph.qc;h.G.tm=h.G.I(new iB(h.ph));h.G.Gv=h.G.I(new yB(h.ph.qc,28),h.G.ia);h.G.Si(RK(md(a)));h.G.Si(RK(Wc()));!b&&c?(c=null!==(g=null===(f=Em.current.Fa)||void 0===f?void 0:f.Gb)&&void 0!==g?g:!1,h.G.Si(TK(a,c))):h.G.Si(h.pj.kE());h.G.element.style.display="none";this.I(h.G)}else h.En.style.display="";!d&&b&&this.ir.j(a);void 0===this.va.Db&&UL(this.va,a);return h};k.mz=function(a){if(!a.pj.nb()){a.pj.mH();var b=a.G.Pa.clientHeight,c=a.G.Wx;void 0!==c&&(c=Cn({offset:c,room:this.B.A()}),E("api/ts/chatmessages/pm_list/"+a.username+"/?"+c).then(function(d){a.pj.EE();d=JSON.parse(d.responseText).messages;30>d.length&&(a.zq=!0);var e=d.length-1;d.reverse().map(function(f,g){f=mt(new N(f));a.G.ka(JK(f,1),void 0,!0,!0);g===e&&a.G.Gr(f.gf)});a.G.jb.scrollTop=a.G.Pa.clientHeight-b}).catch(function(){}))}};k.ka=function(a,b,c,d,e){d=void 0===d?!1:d;this.va.ze(c);var f=this.jj(c,b!==this.B.username(),!1,d);d&&!1===f.lh&&(f.lh=!0);this.B.username()===b||Gx(this)&&this.va.Db===c||(f.U+=1,f.Yq+=1,this.Oc());f.lh&&(a=f.G.ka(a,void 0,void 0,!0));void 0!==e&&f.G.Gr(e);return a};k.jr=function(a){if(Gx(this)){var b=CN(this);void 0!==b&&b.G.ka(a)}};k.Rv=function(a){function b(){return"next"===a?RL(c.va):SL(c.va)}var c=this;this.bf();for(var d=b(),e=!1;void 0!==d&&d!==this.B.A()&&!this.Oe.Ci.has(d)&&0!==this.Oe.ak();)this.va.remove(d),d=b(),void 0!==d||e||("next"===a?GN(c):(c.bf(),TL(c.va)),d=b(),e=!0);if(void 0===d)return!1;this.Lj();return!0};k.Ol=function(a){if(a!==this.A){var b=this.Cc.get(a);if(void 0!==b){var c=Gx(this)&&this.va.Db===a;this.va.remove(a);b.G.Eb();this.removeChild(b.G);this.Cc.delete(a);c&&(FN(this)||this.jz());this.Oc();wt.j(b.username);xt.j(b.username)}}};k.Nl=function(){var a=CN(this);void 0===a?w("cannot close current tab"):this.Ol(a.username)};k.Lj=function(){var a=this.va.Db;void 0===a&&(a=this.B.A(),UL(this.va,a));var b=this.Cc.get(a);void 0===b&&this.jj(a,!1,!1);b=this.Cc.get(a);!this.Hk()||b.lh||this.B.xc||(b.lh=!0,OE(b.username,this.B.A()));BN(this);b.G.element.style.display="block";b.G.M();DN(this)&&this.Hk()&&(0<b.U&&(b.U=0,this.Oc()),zt.j(b.username),Un.j(b.username));b.G.ka(b.En);b.username!==this.A&&b.G.ka(b.En)};k.bf=function(){var a=CN(this);void 0!==a&&(a.G.element.style.display="none")};k.bj=function(){var a=CN(this);if(void 0!==a)return a.G.Va};k.Lw=function(a,b,c){a=this.Cc.get(a);void 0!==a&&(void 0===a.$r&&(a.$r=new Map),a.$r.set(b,c))};k.Hk=function(){var a=X();return"theater"===a||"fullvideo"===a||"fullscreen"===a};function wO(){function a(){if(!b.Jr&&(Hs(b.Hc),void 0!==b.parent)){var f=b.parent;Cx(f,f.children()[0])}}Bx.call(this);var b=this;this.Hc=new ys;this.Jr=!1;this.element.id="FVChatSettingsTab";this.element.style.fontSize="12px";this.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";Pa(this,this.Hc);z(this.Hc.Iq,"link");y(this.Hc.Iq,"manage-ignored-link");this.ia=cO();this.ia.style.position="absolute";var c=bO();this.ec=dO(function(){return!1},4096);B("click",this.ec.element,a);B("focus",this.ec.element,a);this.Sc=(new eO(void 0,!1)).element;this.Sc.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.Vj=gO();this.Vj.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";c.appendChild(this.ec.element);this.ia.appendChild(c);this.ia.appendChild(this.Sc);this.ia.appendChild(this.Vj);this.element.appendChild(this.ia);var d=document.createElement("div");d.innerText=Te;d.style.position="absolute";d.style.top="10px";d.style.right="10px";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.color="#000000";d.style.backgroundColor="#d8deea";d.style.border="1px solid #acacac";d.style.borderRadius="4px";d.style.padding="8px 12px";d.style.opacity="0";this.element.appendChild(d);Po.od.h(function(){"split"!==X()&&Pa(b,b.Hc)});var e;this.Hc.kx.h(function(){clearTimeout(e);Ir(d,"250ms");d.style.opacity="1";e=window.setTimeout(function(){Ir(d,"1000ms");d.style.opacity="0"},3E3)})}q(wO,Bx);k=wO.prototype;k.cj=function(){return Object.assign(Object.assign({},Bx.prototype.cj.call(this)),{minWidth:"16px",backgroundImage:Jp()?"":"url(https://static-assets.highwebmedia.com/tsdefaultassets/ico-preferences.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center"})};k.H=function(){if("split"!==X()){this.ia.style.width=this.element.clientWidth+"px";var a=this.Sc.getBoundingClientRect();a=a.right-a.left;var b=this.Vj.getBoundingClientRect();a=this.ia.clientWidth-12-2-Math.ceil(b.right-b.left+a)-4;a=Math.max(0,a);this.ec.element.style.width=a+"px";this.Hc.element.style.height=this.element.clientHeight-27+"px"}};k.fh=function(){return Jp()?[Ko(3)]:Bx.prototype.fh.call(this)};k.dj=function(){return"settings-tab-fvm"};k.Ge=function(){};k.fg=function(){this.ec.blur()};k.df=function(){return document.activeElement===this.ec.element};k.Qa=function(){};k.bj=function(){return this.ec};k.sf=function(a){Bx.prototype.sf.call(this,a);L("FocusTab",{location:"chatSettings"})};function xO(){yx.call(this);var a=this;this.Jf=this.cF=!1;this.Bi=new La;this.element.style.overflow="";this.Y=this.ce(new uO);this.Ba=this.ce(new vO(function(){Cx(a,a.Y)}));this.bn=this.ce(new wO);Cx(this,this.Y);Jp()?(this.Y.Z.element.style.borderTopLeftRadius="4px",this.bn.Z.element.textContent="",this.bn.Z.element.appendChild(Ko(2))):this.tc.element.style.padding="1px 2px 0 0";M.h(function(c){a.Jf=c.C.userName===c.C.A;a.B=c.B;Cx(a,a.Y);HN(a.Ba);c.B.event.Jo.h(function(d){a.Bz(d,c.B.username())});c.B.event.Ia.h(function(d){a.Qq(d,c.B.username())});tt.h(function(d){a.Qq(d,c.B.username())});c.B.event.vG.h(function(d){var e=JK(d,SN(a));a.Ba.ka(e,d.T.username,d.bb)});c.B.event.wv.h(function(d){a.Y.gu(d.username);a.Y.G.xA(d.username);a.Ba.Ol(d.username)});c.B.event.Nw.h(function(d){c.B.yp&&a.Y.G.ka(RK("DEBUG: "+d))});c.B.event.Yu.h(function(d){a.nq(d,c)});r(st.h(function(d){a.Pq(d,c)},!1),a.Bi);r(JE.h(function(d){a.Pq(d,c,!0)},!1),a.Bi);r(ut.h(function(d){a.Y.G.ka(RK(d.message))},!1),a.Bi);rr.h(function(d){a.Ud=d})});Tn.h(function(){Ma(a.Bi)});nr.h(function(c){c?a.Y.G.ka(RK("Debug mode enabled. Type /debug again to disable.")):a.Y.G.ka(RK("Debug mode disabled."))});Vn.h(function(c){a.Y.G.ka(UK(c));c.ya&&a.Ba.jr(UK(c))});mr.h(function(c){"split"!==X()&&(Cx(a,a.Y),a.Y.Hl("@"+c+" "))});var b=new aJ;this.Ba.ir.h(function(c){!b.tk.has(c)&&zG(a.B,"a",!1).then(function(d){d.Hg.some(function(e){return e.username===c})&&!b.tk.has(c)&&(a.Y.G.ka(MK({sa:[[{jd:1,message:"New private conversation from "+c+" "},{jd:1,message:"(Press TAB to cycle through your conversations)",zb:"#cd0000",weight:"700"}]],ya:!1},SN(a))),b.tk.add(c))}).catch(function(){})})}q(xO,yx);k=xO.prototype;k.Pq=function(a,b,c){c=void 0===c?!1:c;if(c&&a.YE)var d=a.gf;!0===a.bF&&(a.message=this.Ud.message,a.T.username=this.Ud.T,a.bb=this.Ud.Xb,void 0!==this.Ud.media&&(a.ib=this.Ud.media));this.Ba.ka(JK(a,SN(this)),a.T.username,a.bb,c,d);AB&&0<a.ib.length&&(b=new HA({rj:a.gf,bb:a.T.username,dr:a.T.username===b.C.userName,ib:a.ib}),this.Ba.ka(bL(b.element,a.T),a.T.username,a.bb),this.Ba.Lw(a.bb,a.gf,b))};k.nq=function(a,b){return et(this,function d(){var e=this,f,g,h,m,n;return Ba(d,function(p){if(1==p.aa)return f=e,e.Jf||a.Yo===b.C.userName?p=ta(p,jM({zC:a.Nj,jD:a.Yo,gF:!a.Jk,SG:b.C.A}),3):(p.aa=0,p=void 0),p;g=p.ae;h=function(v,A){return f.nq(v,A)};m=function(v){f.hB(v)};n=lM(a,g,b,m,h);void 0!==n&&e.Y.G.ka(n);p.aa=0})})};k.hB=function(a){this.Y.G.ka(RK(a))};k.Bz=function(a,b){YM(this.Y);tI(vI(),a.T);a=JK(a,SN(this),b);this.Y.G.ka(a)};k.Qq=function(a,b){b=MK(a,SN(this),b);this.Y.G.ka(b);a.ya&&this.Ba.jr(MK(a,SN(this)))};k.H=function(){this.window.style.height=this.element.clientHeight-this.tc.element.offsetHeight+"px"};k.dd=function(){return yx.prototype.dd.call(this)};k.children=function(){return yx.prototype.children.call(this)};k.nD=function(){Hs(this.bn.Hc);yx.prototype.dd.call(this)===this.Y?this.Ba.jo()||(Cx(this,this.Ba),GN(this.Ba),FN(this.Ba)||w("no pmSessions")):0<this.Y.Ff()?Cx(this,this.Y):FN(this.Ba)||Cx(this,this.Y)};k.Nl=function(){yx.prototype.dd.call(this)===this.Ba&&this.Ba.Nl()};k.cj=function(a){a=yx.prototype.cj.call(this,a);return Object.assign(Object.assign({},a),{lineHeight:"12px"})};var yO=new t("emojiAdded"),zO="\ud83c\udffb \ud83c\udffc \ud83c\udffd \ud83c\udffe \ud83c\udfff ".split(" "),AO=new t("toneChange",{ef:500});function BO(a){gr.call(this);var b=this;this.Da=a;this.kD="";this.zG=new La;this.ZG=new La;CO(this);this.Mc.h(function(){b.D()});B("keydown",document,function(c){(vH(c.which)||27===c.keyCode||13===c.keyCode)&&b.D()});B("keydown",this.Ei,function(c){c.stopPropagation()});B("click",this.element,function(c){c.stopPropagation();window.setTimeout(function(){""!==b.Ei.value&&b.Ei.focus()},0)})}q(BO,gr);BO.prototype.Na=function(){var a=this;gr.prototype.Na.call(this);var b={position:"relative",padding:"8px 8px 0px 8px",height:"219px",boxSizing:"border-box",overflowY:"scroll"},c=new on(function(){DO(a)},{Ad:200,Ce:1});this.Ng=Ao("","","",1);y(this.Ng,"divot");this.Ng.style.bottom="-37px";var d;this.element=W("div",{style:{position:"absolute",visibility:"hidden",width:"284px",height:"261px",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",boxSizing:"border-box",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",fontSize:"12px",bottom:"60px",zIndex:1001},colorClass:"emojiSelectionModal"},W("div",{style:{position:"static",width:"calc(100% - 8px)",height:"28px",boxSizing:"border-box",margin:"4px",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px"},colorClass:"searchBar"},W("div",{style:{position:"relative",width:"15px",height:"15px",top:"50%",transform:"translateY(-50%)",cssFloat:"left",left:"7px"},colorClass:"searchIcon"}),W("div",{style:{marginLeft:"22px",height:"100%"}},W("input",{style:{position:"static",width:"calc(100% - 10px)",height:"calc(100% - 2px)",padding:"0px",borderWidth:"0px",marginLeft:"4px",outline:"none"},ref:function(e){a.Ei=e},onInput:function(){pn(c)}}))),W("div",{style:b,ref:function(e){a.ay=e}},W("a",{style:{position:"absolute",lineHeight:"14px",right:"22px",top:"9px",cursor:"pointer"},ref:function(e){d=e},onMouseEnter:function(){J(d,{textDecoration:"underline"})},onMouseLeave:function(){J(d,{textDecoration:""})},colorClass:"uploadLink",onClick:function(){return EO(a)}},If)),W("div",{style:Object.assign({display:"none"},b),ref:function(e){a.gl=e}}),FO(this),this.Ng)};function CO(a){pH();GO(a,zf,"recent",function(b){a.Do=b});GO(a,Af,"smileys-people");GO(a,Bf,"animals-nature");GO(a,Cf,"food-drink");GO(a,Df,"activities");GO(a,Ef,"travel-places");GO(a,Ff,"objects");GO(a,Gf,"symbols");GO(a,Hf,"flags")}
function GO(a,b,c,d){d=void 0===d?function(){}:d;var e;b=W("div",null,W("div",{style:{lineHeight:"16px"},colorClass:"sectionTitle"},b),W("div",{ref:function(f){e=f;d(f)}}));a.ay.appendChild(b);qH(c).then(function(f){HO(a,e,f)}).catch(function(){})}
function HO(a,b,c,d){var e={};c=l(c);for(var f=c.next();!f.done;e={yl:e.yl,pp:e.pp},f=c.next())e.yl=f.value,e.pp=W("div",{style:{position:"relative",display:"inline-block",width:"32px",height:"32px",cursor:"pointer",borderRadius:"2px",fontSize:"22px"},colorClass:"emojiDiv",onClick:function(g){return function(){var h=g.yl,m=b===a.Do,n=IO(h,a.kD),p=a.Da.dd().bj();void 0!==p&&(DH(p,n),yO.j(void 0),L("emojiAdded",{name:h.name,value:h.value}),h=nH(h),m?a.pA=h:JO(a,h))}}(e)}),KO(e.pp,e.yl.value),IO(e.yl,"\ud83c\udffd")!==e.yl.value&&(f=AO.h(function(g){return function(h){KO(g.pp,IO(g.yl,h))}}(e)),null===d||void 0===d?void 0:d.add(f)),b.appendChild(e.pp)}function JO(a,b){if(null!==a.Do.parentNode){var c=a.Do.cloneNode(!1);Ma(a.zG);HO(a,c,b,a.zG);a.Do.parentNode.replaceChild(c,a.Do);a.Do=c}}
function FO(a){var b={height:"24px",width:"24px",fontSize:"24px",position:"relative",top:"50%",transform:"translateY(-50%)",cssFloat:"left",marginRight:"8px",cursor:"pointer"};window.setTimeout(function(){AO.h(function(h){a.kD=h;a.mD.textContent="\ud83d\udc4b"+h;twemoji.parse(a.mD,{className:"emojiToneChoice"})});AO.j(LO())},0);for(var c=W("div",{style:{position:"relative",left:"-1px",borderWidth:"1px",borderStyle:"solid",borderRadius:"0px 0px 3px 3px",width:"100%",height:"40px"},colorClass:"toneSelect"},W("div",{style:{position:"relative",cssFloat:"right",height:"100%",right:"17px"}},W("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)",cssFloat:"left",marginRight:"8px"},colorClass:"sectionTitle"},Jf+": "),W("div",{style:{position:"relative",width:"32px",height:"32px",top:"50%",transform:"translateY(-50%)",borderRadius:"2px",cssFloat:"left",cursor:"pointer"},colorClass:"currentToneContainer",ref:function(h){a.lD=h},onClick:function(){a.lD.style.display="none";a.EB.style.display="inline-block"}},W("div",{style:{height:"24px",width:"24px",fontSize:"24px",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},ref:function(h){a.mD=h}})),W("div",{style:{fontSize:"24px",display:"none",height:"100%"},ref:function(h){a.EB=h}}))),d={},e=l(zO.entries()),f=e.next();!f.done;d={Cs:d.Cs},f=e.next()){f=l(f.value);var g=f.next().value;d.Cs=f.next().value;f=g===zO.length-1?Object.assign(b,{marginRight:"4px"}):b;f=W("div",{style:f,onClick:function(h){return function(){var m=h.Cs;window.localStorage.setItem("emojiTone",m);AO.j(m);MO(a)}}(d)},"\ud83d\udc4b"+d.Cs);twemoji.parse(f,{className:"emojiToneChoice"});a.EB.appendChild(f)}return c}function MO(a){a.lD.style.display="inline-block";a.EB.style.display="none"}function LO(){var a,b=null!==(a=window.localStorage.getItem("emojiTone"))&&void 0!==a?a:"";return-1===zO.indexOf(b)?(w("Bad emojiTone value",b),""):b}
function IO(a,b){var c=lH(a.value)[0],d=a.value.split(c);1<d.length&&d[1][0]===twemoji.convert.fromCodePoint("fe0f")&&(d[1]=d[1].slice(1,d[1].length));b=d.join(c+b);return mH(twemoji.parse(b))?b:a.value}
function DO(a){var b=a.Ei.value;1>=b.length?(J(a.ay,{display:"block"}),J(a.gl,{display:"none"})):(J(a.ay,{display:"none"}),J(a.gl,{display:"block"}),sH(b).then(function(c){if(null!==a.gl.parentNode){var d=a.gl.cloneNode(!1);a.gl.parentNode.replaceChild(d,a.gl);a.gl=d}Ma(a.ZG);HO(a,a.gl,c,a.ZG)}).catch(function(){}))}
function KO(a,b){var c=twemoji.parse(b),d=c.match(/<img/g);if(null!==d&&1<d.length&&(c=new RegExp(twemoji.convert.fromCodePoint("fe0f"),"g"),b=b.replace(c,""),c=twemoji.parse(b),d=c.match(/<img/g),null!==d&&1<d.length))return;b=c.match(new RegExp('src="'+twemoji.base+'72x72/(.*?).png"'));if(null!==b){b=b[1];c=W("span",{style:{position:"relative",display:"block",top:"50%",left:"50%"}});c.classList.add("sprite-twemoji-"+b);for(c.classList.add("sprite-twemoji");null!==a.firstChild;)a.removeChild(a.firstChild);a.appendChild(c)}}function EO(a){window.use_uploaded_emoticon=function(b){var c=a.Da.dd().bj();if(void 0!==c){var d=GH(c);""===d||/\s/.test(d[d.length-1])?DH(c,b,!0):DH(c," "+b,!0)}};Kp("/emoticons/","_blank","height=615, width=850");a.D();return!1}BO.prototype.show=function(a){a.appendChild(this.da);a.appendChild(this.element);this.xh();this.Eh();this.element.style.visibility="";L("emojiSelectorOpened")};BO.prototype.D=function(){if("hidden"!==this.element.style.visibility){this.Fb();MO(this);this.element.style.visibility="hidden";this.Ei.value="";DO(this);var a=this.Da.dd().bj();void 0!==a&&a.focus(!0);void 0!==this.pA&&(JO(this,this.pA),this.pA=void 0)}};BO.prototype.xh=function(){this.element.style.left=-this.element.offsetWidth+35+"px";this.Ng.style.left=this.element.offsetWidth-37+"px";0>this.element.getBoundingClientRect().left+window.scrollX&&(this.element.style.left="-25px",this.Ng.style.left="23px")};function NO(a){var b=new xO;Ln.call(this,a,b,{Kg:"Chat",minWidth:150,minHeight:100,Xg:400,Wg:250,ai:[1,3],al:!0,UF:function(){c.Da.dd().Qa()},xy:[b.tc.element]});var c=this;this.Nv=!1;y(this.element,"draggableCanvasChatWindow");y(this.element,"hasDarkBackground");z(this.gb,"innerDiv");y(this.gb,"chatInnerDiv");b.Y.G.dE.h(function(){c.blur()});B("blur",b.Y.G.Va.element,function(){if(a.tq!==c||$p())a.he=void 0,a.jy.j(void 0)});B("mouseleave",this.element,function(){a.tq=void 0;a.fC.j(void 0)});var d=!0;M.h(function(f){d=f.B.xc});var e;Po.od.h(function(f){e=f.jg;void 0!==c.Zi&&"split"===e&&c.Zi.D()});kr.h(function(f){d?Rr.j(!0):"split"!==e&&(void 0===c.Zi&&(c.Zi=new BO(b)),c.Zi.show(f))});this.Da=b}q(NO,Ln);NO.prototype.H=function(){200>this.element.offsetWidth&&!this.Nv&&(this.Nv=!0,Sr.j(!0));200<this.element.offsetWidth&&this.Nv&&(this.Nv=!1,Sr.j(!1))};function OO(a){x.call(this);var b=this;this.av=a;this.element.style.position="static";this.element.style.overflow="auto";this.element.style.padding="4px 7px";this.element.style.boxSizing="border-box";this.element.style.fontSize="12px";this.element.style.minWidth="230px";this.element.style.maxWidth="230px";this.element.style.height="auto";a=l(this.children());for(var c=a.next();!c.done;c=a.next())c.value.element.style.margin="2px 0";M.h(function(d){var e=d.C.Bf;PO(b,e,d.B.status);d.B.event.Tc.h(function(f){PO(b,e,f.Ea)});d.B.event.Jj.h(function(f){e=f.Bf;PO(b,e,d.B.status)})})}q(OO,x);function PO(a,b,c){Ta(a);a:switch(c){case "privatewatching":case "privatespying":var d=!0;break a;default:d=!1}if(d)void 0===a.NC&&(a.NC=new QO),a.I(a.NC);else{a:switch(c){case "privaterequesting":b=!0;break a;case "privatespying":case "privatewatching":case "privatenotwatching":case "away":b=!1}b&&(void 0===a.pr&&(a.pr=new RO(a.av)),a.I(a.pr))}a.av()}
function SO(){x.call(this);this.element.style.display="inline-block";this.element.style.height="auto";this.element.style.position="relative";this.element.style.padding="5px 5px";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.boxSizing="border-box";this.element.style.borderRadius="3px";this.element.style.font="UbuntuRegular, Arial, Helvetica, sans-serif";this.element.style.fontSize="12px";this.element.style.lineHeight="14px";this.element.style.textAlign="center"}q(SO,x);function TO(){var a=document.createElement("div");y(a,"showsHeader");a.innerText=ei;a.style.width="100%";a.style.margin="5px 0";a.style.fontSize="14px";a.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";a.style.fontWeight="500";a.style.letterSpacing="-0.05em";return a}
function UO(){var a=document.createElement("div");y(a,"showsButton");a.style.display="inline-block";a.innerText=ci;a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.boxSizing="border-box";a.style.borderRadius="4px";a.style.fontWeight="bold";a.style.padding="6px 10px";a.style.margin="5px 0";a.style.cursor="pointer";a.style.textDecoration="none";return a}
function RO(a){SO.call(this);var b=this;this.av=a;this.ja=TO();this.button=UO();this.yj=this.Pe=0;this.fk=!1;y(this.element,"startShowComponent");this.element.appendChild(this.ja);this.Ao=document.createElement("div");this.Ao.style.margin="5px 0";this.Ao.style.lineHeight="16px";this.Ao.style.letterSpacing="-0.05em";this.mw=document.createElement("div");y(this.mw,"tokensRequirement");this.mw.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";this.Ao.appendChild(this.mw);this.Ru=document.createElement("div");y(this.Ru,"minutesRequirement");this.Ao.appendChild(this.Ru);this.element.appendChild(this.Ao);this.element.appendChild(this.button);this.Mm=document.createElement("div");y(this.Mm,"showsFooter");this.Mm.innerText=$h;this.Mm.style.fontSize="9px";this.Mm.style.lineHeight="125%";this.Mm.style.margin="5px 0";this.element.appendChild(this.Mm);M.h(function(c){c.B.event.Tc.h(function(d){"privaterequesting"===d.Ea?(b.button.innerText=bi,b.button.onclick=function(){rD(c.B)}):(b.button.innerText=ci,b.button.onclick=function(){nD(c.B)},b.update())});c.B.event.Jj.h(function(d){VO(b,d.fk,d.Pe,d.yj);switch(c.B.status){case "privaterequesting":break;default:b.update()}});VO(b,c.C.fk,c.C.Pe,c.C.yj);b.update()})}q(RO,SO);function VO(a,b,c,d){a.fk=b;a.Pe=c;a.yj=d}
RO.prototype.update=function(){var a=this.mw;var b=this.Pe;b=H(G("%(price)s tokens per minute"),{price:b},!0);a.innerText=b;a=this.Ru;b=this.yj;b=H(G("(minimum %(minMinutes)s minutes)"),{minMinutes:b},!0);a.innerText=b;this.Ru.style.display=0===this.yj?"none":"block";this.Mm.style.display=this.fk?"block":"none";this.av()};function QO(){SO.call(this);var a=this;this.gn=document.createElement("div");y(this.element,"cancelShowComponent");this.element.style.minWidth="200px";this.element.style.padding="";this.element.style.borderStyle="none";this.gn.style.display="block";this.gn.style.fontSize="16px";this.gn.style.lineHeight="18px";this.gn.style.margin="5px 0";y(this.gn,"tokenTextArea");this.element.appendChild(this.gn);var b=document.createElement("div");y(b,"cancelShowButton");y(b,"cancelShowButtonGradient");b.style.display="inline-block";b.style.boxSizing="border-box";b.style.borderRadius="4px";b.style.padding="6px 10px";b.style.margin="5px 0";b.style.cursor="pointer";b.style.textDecoration="none";this.element.appendChild(b);M.h(function(c){WO(a,c.C.Lb);c.B.event.es.h(function(d){d.T.username===c.B.username()&&WO(a,a.oI-d.amount)});c.B.event.Tc.h(function(d){function e(){rD(c.B)}switch(d.Ea){case "privatewatching":b.innerText=ai;b.onclick=e;break;case "privatespying":b.innerText=di;b.onclick=e;break;default:b.onclick=function(){}}})});XB.h(function(c){WO(a,c.Ja)})}q(QO,SO);function WO(a,b){a.oI=b;a.gn.innerText=b+" "+Fc(b,!1)};var XO;M.h(function(a){XO=a.C.A});function YO(a,b,c){x.call(this);var d=this;this.K=a;this.element.style.position="relative";this.element.style.padding="4px";this.Io=document.createElement("a");this.Io.href="/"+a+"/";this.element.appendChild(this.Io);B("click",this.Io,function(e){L("LoadRoomFromRoomList",{location:c+"_draggable",from_broadcaster:XO,broadcaster:d.K});e.metaKey||e.ctrlKey||(ac.j(d.K),e.preventDefault())});Wb(["click","mousedown","touchstart"],this.Io,function(){Bq(d.K,"mr",b)});this.Vm=document.createElement("img");this.Vm.style.height="100%";this.Vm.style.width="100%";this.Vm.style.cursor="pointer";this.Vm.className="moreRooms";this.Vm.id="roomImage"+b;this.Io.appendChild(this.Vm);this.qb=document.createElement("div");this.qb.innerText=a;this.qb.style.position="absolute";this.qb.style.bottom="7px";this.qb.style.color="#ffffff";this.qb.style.fontSize="19px";this.qb.style.textShadow="1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000";this.qb.classList.add("roomTitle"+b);this.Io.appendChild(this.qb);this.xb=new vo(this.K,this.Vm);this.element.onmouseenter=function(){d.xb.Pj()};this.element.onmouseleave=function(){xo(d.xb,!1)}}q(YO,x);YO.prototype.H=function(){void 0!==this.parent?this.qb.style.left=this.parent.element.offsetWidth/2-this.qb.offsetWidth/2+"px":w("Room does not have a parent")};YO.prototype.eg=function(){xo(this.xb,!1);x.prototype.eg.call(this)};YO.prototype.Fj=function(){this.xb.Fj()};function ZO(a){x.call(this);var b=this;this.gE=[];this.au=[];this.Us=!0;this.nz=!1;this.oz="genders";this.Bh=[];this.Ho=new VI;this.Mk=!1;this.source=a;this.element.style.fontSize="12px";this.element.style.overflowY="scroll";B("scroll",this.element,function(){$O(b)});mb()&&(a=window.localStorage.getItem(this.oz),null!==a&&(this.Bh=JSON.parse(a),void 0===Em.current.Fa&&(a=this.Bh.indexOf(TI("followed")),0<=a&&this.Bh.splice(a,1))));this.dh=document.createElement("div");this.dh.style.margin="2px 2px 0 2px";this.dh.style.whiteSpace="nowrap";this.dh.style.textAlign="center";this.element.appendChild(this.dh);aP(this,"Female",nf);aP(this,"Male",pf);aP(this,"Couple",tf);aP(this,"Trans",rf);this.Hq=document.createElement("div");y(this.Hq,"defaultTooltipColor");this.Hq.innerText=Ne+"...";this.Hq.style.margin="4px";bP(this);var c=document.createElement("p");y(c,"defaultTooltipColor");c.style.cursor="pointer";c.style.padding="0";c.style.margin="4px 0";c.onclick=function(){bP(b)};B("mouseenter",c,function(){c.style.textDecoration="underline"});B("mouseleave",c,function(){c.style.textDecoration=""});c.innerText=mf;c.style.textAlign="left";this.dh.appendChild(c);this.lK=window.setInterval(function(){for(var d=l(b.children()),e=d.next();!e.done;e=d.next())wo(e.value.xb,0)},3E4);this.Ap()}q(ZO,x);ZO.prototype.close=function(){clearInterval(this.lK);this.Ho.Eb()};function cP(a,b){a.nz&&(a.element.removeChild(a.Hq),a.nz=!1);b=l(b);for(var c=b.next();!c.done;c=b.next())a.I(new YO(c.value,a.children().length+1,a.source))}
ZO.prototype.children=function(){return x.prototype.children.call(this)};function aP(a,b,c){function d(){return"Followed"===b&&Hr('You must be logged in to view your followed cams. Click "OK" to login.')}var e=-1<a.Bh.indexOf(TI(b.toLowerCase())),f=new Xr(12,e);f.Ir(function(){d()?Wr(f,!1):dP(a)});f.ua.name=b.toLowerCase();f.Lv(b);0<a.au.length&&(f.element.style.marginLeft="12px");f.element.style.top="2px";a.dh.appendChild(f.element);a.gE.push(f);e=document.createElement("img");e.src="https://static-assets.highwebmedia.com/tsdefaultassets/icon"+b+".png";e.style.position="relative";e.style.top="2px";e.style.cursor="pointer";e.style.width="16px";e.style.height="16px";e.style.marginLeft="3px";e.title=c;e.onclick=function(){d()||(f.To(!f.ua.checked),dP(a))};a.dh.appendChild(e);e=document.createElement("span");y(e,"defaultTooltipColor");e.innerText=c;e.style.position="relative";e.style.top="1px";e.style.marginLeft="4px";e.style.cursor="pointer";e.onclick=function(){d()||(f.To(!f.ua.checked),dP(a))};a.dh.appendChild(e);a.au.push(e)}
function dP(a){a.Bh=[];for(var b=l(a.gE),c=b.next();!c.done;c=b.next())c=c.value,c.ua.checked&&a.Bh.push(TI(c.ji()));L("ChangeRoomListGender",{selectedGenders:a.Bh});mb()&&(0===a.Bh.length?window.localStorage.removeItem(a.oz):window.localStorage.setItem(a.oz,JSON.stringify(a.Bh)));bP(a)}
ZO.prototype.H=function(){x.prototype.H.call(this);for(var a=this.element.clientWidth-8,b=l(this.children()),c=b.next();!c.done;c=b.next())c=c.value,c.element.style.width=a+"px",c.element.style.height=.5625*(this.element.clientWidth-8)+"px";this.dh.style.width=a+"px";if(!this.Us&&this.dh.scrollWidth<=a){c=l(this.au);for(b=c.next();!b.done;b=c.next())b.value.style.display="inline-block";this.Us=!0}if(this.Us&&this.dh.scrollWidth>a){a=l(this.au);for(b=a.next();!b.done;b=a.next())b.value.style.display="none";this.Us=!1}$O(this)};function bP(a){Ta(a);a.nz=!0;a.element.appendChild(a.Hq);void 0!==Em.current.Fa&&-1<a.Bh.indexOf(TI("followed"))?(a.Mk=!0,Iv().then(function(b){0<b.length&&(eP(a),cP(a,b));fP(a);a.M();a.Mk=!1}).catch(function(){})):(fP(a),a.M())}function fP(a){WI(a.Ho,a.Bh.filter(function(b){return b!==TI("followed")}));a.Ho.next().then(function(b){gP(a,b.map(function(c){return c.username}))}).catch(function(b){a.Mk=!1;w("getNewIterator: "+b)})}
function hP(a){a.Mk||(a.Mk=!0,a.Ho.next().then(function(b){gP(a,b.map(function(c){return c.username}))}).catch(function(b){a.Mk=!1;w("loadMoreRooms: "+b)}))}function gP(a,b){0<b.length?(eP(a),cP(a,b),a.M(),a.Mk=!1,$O(a)):a.Mk=!1}
function eP(a){for(var b=.5625*(a.element.clientWidth-8),c=a.element.scrollTop,d=[],e=l(a.children()),f=e.next();!f.done;f=e.next())if(f=f.value,f.element.offsetTop-c<-15*b)d.push(f);else break;b=l(d);for(f=b.next();!f.done;f=b.next())d=f.value,c-=d.element.offsetHeight,a.removeChild(d);a.element.scrollTop=c}function $O(a){a.element.scrollTop+2.8125*(a.element.clientWidth-8)>=a.element.scrollHeight-a.element.offsetHeight&&hP(a)}
ZO.prototype.Ap=function(){var a=this;uo&&B("pageshow",window,function(b){b.persisted&&a.children().forEach(function(c){c.Fj()})})};function iP(a){x.call(this);var b=this;this.cp=a;this.Wm="public";this.Lb=0;this.pm=this.zu=!1;this.rl=new t("tipSent");this.LF=new t("notifyAttemptSendTip");this.iH=new t("tipCalloutShouldReposition");this.qB=!1;this.element.id="FVTipCallout";y(this.element,"defaultTooltipColor");this.element.style.minWidth="368px";this.element.style.overflow="visible";this.element.style.position="static";a=document.createElement("div");a.style.display="inline-block";var c=document.createElement("span");c.innerText=Kf;c.style.display="inline-block";c.style.fontSize="13px";c.style.fontWeight="bold";c.style.padding="6px";a.appendChild(c);this.Wd=document.createElement("span");y(this.Wd,"tokenBalance");this.Wd.innerText=Oe+"...";this.Wd.style.display="inline-block";this.Wd.style.fontSize="13px";this.Wd.style.fontWeight="bold";this.Wd.style.padding="6px 6px 6px 0";a.appendChild(this.Wd);M.h(function(h){b.K=h.B.A();h.B.event.Tc.h(function(m){switch(m.Ea){case "privatewatching":b.Wm="private";break;default:b.Wm="public"}})});XB.h(function(h){b.QB(h.Ja)});var d=document.createElement("a");y(d,"purchaseTokens");d.innerText=Zd;d.href="/tipping/purchase_tokens/";d.style.display="inline-block";d.style.position="absolute";d.style.right="0";d.style.fontSize="13px";d.style.padding="6px";d.onclick=function(){kx();return!1};d.onmouseenter=function(){d.style.textDecoration="underline"};d.onmouseleave=function(){d.style.textDecoration="none"};a.appendChild(d);this.element.appendChild(a);this.MM=a;this.pc=document.createElement("div");y(this.pc,"warning");this.pc.style.display="none";this.pc.style.fontSize="13px";this.pc.style.fontWeight="bold";this.pc.style.padding="6px";this.pc.style.textAlign="center";this.pc.style.position="absolute";this.pc.style.left="50%";a=document.createElement("div");a.innerText=Mf;this.pc.appendChild(a);a=document.createElement("div");a.innerText=Nf;this.pc.appendChild(a);this.element.appendChild(this.pc);this.zg=document.createElement("form");c=document.createElement("label");a=document.createElement("span");a.innerText=Of;a.style.display="inline-block";a.style.fontSize="13px";a.style.padding="6px";c.appendChild(a);this.qa=ix();this.qa.value="25";this.qa.min="1";this.qa.style.width="5em";this.qa.style.display="inline-block";this.qa.style.fontSize="13px";this.qa.style.padding="4px";this.qa.style.borderWidth="1px";this.qa.style.borderStyle="solid";this.qa.style.borderRadius="4px";this.qa.onclick=function(){b.hm()};this.If=document.createElement("div");y(this.If,"warning");this.If.innerText=Pf;this.If.style.display="none";this.If.style.paddingLeft="5px";a=document.createElement("div");this.qa.oninput=function(){aH(b)};c.appendChild(this.qa);c.appendChild(this.If);this.zg.appendChild(c);c=document.createElement("label");this.tf=document.createElement("div");this.tf.innerText=Gd;this.tf.style.fontSize="13px";this.tf.style.padding="6px 6px 0 6px";c.appendChild(this.tf);this.Vf=document.createElement("div");this.ra=document.createElement("textarea");y(this.ra,"tipMessageInput");this.ra.maxLength=255;this.ra.style.width="100%";this.ra.style.resize="none";this.ra.style.fontSize="13px";this.ra.style.margin="6px";this.ra.style.padding="4px";this.ra.style.borderWidth="1px";this.ra.style.borderStyle="solid";this.ra.style.borderRadius="4px";this.ra.style.boxSizing="border-box";this.Vf.appendChild(this.ra);this.tf.onclick=function(){b.ra.select()};c.appendChild(this.Vf);this.zg.appendChild(c);a.style.position="relative";this.Ti=document.createElement("div");this.rd=document.createElement("div");this.rd.innerText=Qf;this.rd.style.display="none";this.Ti.style.fontSize="10px";this.Ti.style.lineHeight="1.3em";this.Ti.style.padding="6px";this.Ti.style.textAlign="left";this.Ti.style.display="inline-block";this.Ti.style.maxWidth="175px";a.appendChild(this.Ti);this.Ti.appendChild(this.rd);this.ha=new ZG;this.I(this.ha,a);this.Tr=document.createElement("div");this.Tr.style.fontSize="10px";c=document.createElement("label");var e=document.createElement("span");e.innerText=Rf;e.style.cursor="pointer";var f=new Xr(12);f.Hy=!0;f.element.style.top="2px";f.element.style.marginLeft="3px";f.Ir(function(){b.qB=!b.qB});c.appendChild(e);c.appendChild(f.element);this.Tr.appendChild(c);this.Ti.appendChild(this.Tr);this.zg.appendChild(a);B("keydown",this.element,function(h){9===h.keyCode&&(h.preventDefault(),h.shiftKey?b.ha.hasFocus()&&!fx(b.ha)?f.focus():document.activeElement===f.ua?b.ra.focus():document.activeElement===b.ra?b.qa.focus():b.ha.hasFocus()||fx(b.ha):b.ha.hasFocus()&&!gx(b.ha)?b.qa.focus():document.activeElement===b.qa?b.ra.focus():document.activeElement===b.ra?f.focus():b.ha.hasFocus()||gx(b.ha))});this.element.appendChild(this.zg);this.H();var g;B("submit",this.zg,function(h){h.preventDefault();var m=parseInt(b.qa.value);if(!isNaN(m)&&b.ha.isEnabled())if(L("SendTipClicked",{amount:m,location:"PMTab"}),100<m&&!b.pm)cx(b.ha,Gc(m)),b.pm=!0,b.H();else if(b.qa.blur(),void 0===g){h=X();var n=b.ra.value;void 0!==b.Ta&&(n=""===b.ra.value?b.Ta.value:b.Ta.value+" | "+b.ra.value);$B({K:b.K,IH:b.qa.value,message:n,source:b.cp,JH:b.Wm,fn:b.ha.fn,xf:h}).then(function(p){p.success?L("SendTipSuccess",{amount:m,location:"PMTab"}):void 0!==p.error?V(p.error):w("unknown send tip error");bH(b);b.ra.value="";void 0!==p.uf&&WB.j({Ja:p.uf,K:b.K});b.rl.j({amount:m,success:p.success})}).catch(function(p){w("Error sending tip ("+p+")");b.rl.j({amount:m,success:!1})});b.LF.j({amount:m});g=window.setTimeout(function(){return g=void 0},250)}})}q(iP,x);iP.prototype.H=function(){this.Vf.style.width=Math.max(0,this.element.clientWidth-12)+"px"};iP.prototype.show=function(a){var b=this;this.ha.bd.D(!0);this.element.style.minWidth=450>en()?"340px":"368px";void 0!==a.amount&&(this.qa.value=a.amount.toString(),aH(this));this.ra.value=void 0!==a.message?a.message:"";void 0!==a.ms&&a.ms?(this.rd.style.display="none",this.Tr.style.lineHeight="3em"):(this.rd.style.display="block",this.Tr.style.lineHeight="");hx(this.cp,this.ha);YB(this.K).then(function(c){b.qa.max=c.Lb.toString();if(void 0!==c.Wj){b.tf.innerText=c.Wj.label;void 0!==b.Ta&&b.Vf.removeChild(b.Ta);b.Ta=document.createElement("select");y(b.Ta,"tipOptionsSelect");b.Ta.style.width="100%";b.Ta.style.fontSize=".8125em";b.Ta.style.margin="6px";b.Ta.style.borderWidth="1px";b.Ta.style.borderStyle="solid";b.Ta.style.boxSizing="border-box";b.Vf.insertBefore(b.Ta,b.ra);var d=document.createElement("option");d.innerText="-- "+Sf+" --";b.Ta.appendChild(d);c=l(c.Wj.options);for(d=c.next();!d.done;d=c.next()){var e=d.value;d=document.createElement("option");d.innerText=e.label;d.value=e.label;b.Ta.appendChild(d)}}else void 0!==b.Ta&&(b.tf.innerText=Gd,b.ra.value="",b.Vf.removeChild(b.Ta),b.Ta=void 0);b.H();b.iH.j(void 0);b.hm()}).catch(function(c){w("Error getting token balance ("+c+")")})};iP.prototype.hm=function(a){if(document.activeElement!==this.qa||(void 0===a?0:a))this.qa.focus(),this.qa.setSelectionRange(0,9999)};iP.prototype.QB=function(a){this.Lb=a;this.Wd.innerText=a+" "+Fc(a,!1)};function jP(a){var b=a.element.parentElement;a.element.style.visibility="hidden";document.body.appendChild(a.element);a.element.style.width=a.MM.offsetWidth+"px";a.element.style.height="auto";var c=[a.element.offsetWidth,a.element.offsetHeight];document.body.removeChild(a.element);null===b||void 0===b?void 0:b.appendChild(a.element);a.element.style.visibility="";return c};var kP,lP=!1;M.h(function(a){kP=a.B;lP=a.C.userName===a.C.A});function mP(){x.call(this);this.RB=new t("UserListWindow:userCountUpdate");this.uc=[];this.element.id="users-list";this.element.style.padding="0 6px";this.element.style.boxSizing="border-box";this.element.style.position="";this.Tl();this.refresh(!1)}q(mP,x);k=mP.prototype;k.Rm=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.Tl=function(){var a=document.createElement("div");y(a,"defaultTooltipColor");a.innerText=Uf+"...";a.style.margin="6px 0";this.element.style.fontSize="12px";this.element.appendChild(a)};k.Gx=function(){var a=this,b=document.createElement("div");y(b,"defaultTooltipColor");b.style.margin="6px 0";var c=document.createElement("span");c.innerText=Vf;c.id="refresh-userlist";c.style.cursor="pointer";B("click",c,function(d){a.Rm();a.Tl();a.refresh(!1);d.preventDefault()});B("mouseenter",c,function(){c.style.textDecoration="underline"});B("mouseleave",c,function(){c.style.textDecoration=""});b.appendChild(c);this.element.appendChild(b)};k.clear=function(a){this.RB.j(a);this.Rm();this.Tl();this.H()};k.refresh=function(a){var b=this;a=void 0===a?!0:a;zG(kP).then(function(c){b.RB.j(c.js);if(!a){b.Rm();b.Gx();b.uc=c.Hg;for(var d=l(b.uc),e=d.next();!e.done;e=d.next()){var f=e.value;e=document.createElement("div");e.style.width="auto";e.style.margin="2px 0";e.style.ZD="left";e.style.whiteSpace="nowrap";e.style.overflow="hidden";e.style.maxWidth="100%";e.style.textOverflow="ellipsis";var g=e,h=g.appendChild,m=!document.body.classList.contains("darkmode");m=void 0===m?!0:m;f=lP?new BJ(f,m,void 0,!1):new uJ(f,m,void 0,!1,!0);h.call(g,f.element);b.element.appendChild(e)}d=document.createElement("div");y(d,"defaultTooltipColor");d.innerText="+"+c.un+" anonymous user"+(1===c.un?"":"s");d.style.width="100%";d.style.margin="6px 0";d.style.whiteSpace="nowrap";d.style.ZD="left";b.element.appendChild(d);b.H()}}).catch(function(c){w("Error retrieving user list: "+c)})};k.H=function(){x.prototype.H.call(this)};function nP(a,b){a=void 0===a?"fullvideo":a;x.call(this);var c=this;this.So=b;this.$I=[];this.op=new lL;this.FJ=new t("focusChanging",{qe:!1});this.jy=new t("focusChanged",{qe:!1});this.hN=new t("windowOpened",{qe:!1});this.gN=new t("windowClosed",{qe:!1});this.fC=new t("windowHover",{qe:!1});this.mt=new t("chatVisibilityChanged",{qe:!1});this.element.style.overflow="";this.element.style.pointerEvents="none";this.source=a;this.la=oP(this,new NO(this));lr.h(function(f){c.la.hd||(c.la.element.style.display="",c.la.hd=!0,c.mt.j(!0));f.focus&&Nn(c,c.la);c.la.M()});Zb.h(function(){if(void 0!==c.TB&&c.TB.hd)c.removeChild(c.TB);else{pP(c,"Users");var f=new mP,g=function(p){"privatewatching"!==p.Nc&&"privatewatching"!==p.Ea||window.setTimeout(function(){f.refresh(!1)},2E3);"notconnected"===p.Nc&&(f.refresh(!1),f.element.scrollTop=0)},h=!0,m=function(p){p.B.event.Tc.h(g,!1);h||f.clear(p.C.Kz);h=!1};M.h(m);var n=oP(c,new Ln(c,f,{title:Ze,al:!0,Kg:"Users",minWidth:100,minHeight:100,Xg:190,Wg:230,ai:[0,2]}));f.element.style.overflowY="auto";c.M();f.RB.h(function(p){n.Lv(Ze+" ("+p+")")});n.xi=function(){M.removeListener(m)};c.TB=n}});dc.h(function(){c.la.hd?(c.la.element.style.display="none",c.la.hd=!1,c.mt.j(!1)):(c.la.element.style.display="",c.la.hd=!0,Nn(c,c.la),c.mt.j(!0));c.M()});mr.h(function(){c.la.hd||dc.j(void 0);Nn(c,c.la);c.tq=c.la;c.la.Da.Y.Ge()});ir.h(function(){void 0!==c.yz&&c.yz.hd?c.removeChild(c.yz):(qP(c),c.M())});Yb.h(function(f){function g(n){m.Lv(n.C.A)}pP(c,"Bio");var h=new tO(f),m=oP(c,new Ln(c,h,{title:f,al:!0,Kg:"Bio",Wg:400,Xg:360,minWidth:360,minHeight:100,ai:[0,2],xi:function(){M.removeListener(g)}}));M.h(g,!1);c.M()});var d;M.h(function(f){d=f.C.Gb});var e;$b.h(function(f){if(void 0!==f.amount||!rP(c)){L("OpenTipCallout");void 0===c.Cb&&(c.Cb=new iP(a),c.Cb.LF.h(function(m){e=m.amount;void 0!==c.Vd&&$b.j({})}),c.Cb.iH.h(function(){if(void 0!==c.Vd&&void 0!==c.Cb){var m=l(jP(c.Cb)),n=m.next().value;m=m.next().value;c.Vd.resize(m,n);c.M()}}));void 0===f.amount&&(f.amount=e);var g=function(){void 0!==c.Vd&&c.removeChild(c.Vd)};if(d)var h=!Hr('You must be logged in to tip. Click "OK" to login.');else V("This broadcaster doesn't accept tips."),h=!1;h&&(void 0!==c.So&&rM(c.So,c.Cb),c.Cb.show(f),void 0!==c.Vd?Nn(c,c.Vd):(h=l(jP(c.Cb)),f=h.next().value,h=h.next().value,c.Vd=oP(c,new Ln(c,c.Cb,{title:Jd,al:!1,Kg:"Tip",minWidth:f+4,minHeight:h+4,Xg:f,Bp:!0,Wg:h,ai:[4],xi:function(){M.removeListener(g);c.Vd=void 0},Mz:function(){void 0!==c.Cb&&c.Cb.hm()},Nz:function(m){if(void 0===c.Vd)return w("undefined tipwindow"),!0;27===m.keyCode?c.removeChild(c.Vd):83===m.keyCode&&m.ctrlKey&&c.removeChild(c.Vd);return!0}})),c.Vd.gb.style.boxSizing="",M.h(g,!1),c.M(),c.Cb.hm(!0)))}});M.h(function(f){void 0!==c.xd&&c.xd.hd&&c.removeChild(c.xd);var g=f.B.status,h=!f.C.Gb||!f.C.Bf;f.B.event.Tc.h(function(n){g=n.Ea;switch(n.Ea){case "unknown":case "offline":case "notconnected":case "away":case "hidden":case "privatenotwatching":case "passwordprotected":void 0!==c.xd&&c.xd.hd&&c.removeChild(c.xd);break;case "privaterequesting":case "privatewatching":case "privatespying":break;default:h&&void 0!==c.xd&&c.xd.hd&&c.removeChild(c.xd)}});var m=["privaterequesting","privatespying","privatewatching"];f.B.event.Jj.h(function(n){n.Bf||-1!==m.indexOf(g)||void 0!==c.xd&&c.xd.hd&&c.removeChild(c.xd)})});bc.h(function(){void 0!==c.Rh&&c.Rh.hd?c.removeChild(c.Rh):(void 0!==c.Rh&&c.removeChild(c.Rh),c.dk=new oO,c.Rh=oP(c,new Ln(c,c.dk,{title:bf,al:!0,Kg:"Abuse",minWidth:270,minHeight:200,Xg:270,Wg:200,ai:[3,1],Mz:function(){void 0!==c.dk&&c.dk.gg.focus()},Nz:function(){return!0},xi:function(){c.Rh=void 0}})),c.M(),c.dk.ot.h(function(){void 0!==c.Rh&&c.removeChild(c.Rh)}))});cc.h(function(){void 0!==c.xd&&c.xd.hd?c.removeChild(c.xd):(void 0===c.pr&&(c.pr=new OO(function(){void 0!==c.xd&&c.xd.hd&&c.xd.eA.apply()})),c.xd=oP(c,new Ln(c,c.pr,{title:Yh,al:!1,Kg:"Private",Bp:!0,minWidth:248,minHeight:270,Xg:248,Wg:270,ai:[2,1]})),c.M())});this.Rs=new dt;sP(this,this.Rs);"1"===Dn().room_list&&qP(this);Nn(this,void 0)}q(nP,x);function qP(a){pP(a,"Rooms");var b=new ZO(a.source),c=225+$m();a.yz=oP(a,new Ln(a,b,{title:df,al:!0,Kg:"Rooms",minWidth:c,minHeight:100,Xg:c,Wg:385,ai:[1,2],xi:function(){b.close()}}))}nP.prototype.H=function(){x.prototype.H.call(this);for(var a=l([].concat(this.op.Lg)),b=a.next();!b.done;b=a.next())b.value.eA.apply();void 0!==this.Rs&&(this.Rs.element.style.left=(this.element.clientWidth-this.Rs.element.offsetWidth)/2+"px")};function Nn(a,b){if(!a.uL&&a.he!==b){if(void 0!==a.he){var c=a.he;c.gb.style.opacity=void 0!==c.config.sI?c.config.sI:"1";void 0!==c.config.UF&&c.config.UF();if(document.activeElement!==document.body&&void 0!==document.activeElement&&null!==document.activeElement)try{document.activeElement.blur()}catch(f){}}a.FJ.j(b);if(void 0!==b){L("FocusWindow",{windowName:b.config.Kg});a.op.ze(b);c=a.children().length+10;for(var d=l([].concat(a.op.Lg)),e=d.next();!e.done;e=d.next())e.value.element.style.zIndex=""+c,--c;d=l(a.$I);for(e=d.next();!e.done;e=d.next())e.value.element.style.zIndex=""+c,--c;b.gb.style.opacity="1";void 0!==b.config.Mz&&b.config.Mz()}a.he=b;a.jy.j(b)}}nP.prototype.I=function(){throw Error("addChild not supported");};function sP(a,b,c){b.element.style.pointerEvents="auto";x.prototype.I.call(a,b,c)}
function oP(a,b){b.CD.h(function(c){a.uL=c});B("mousedown",b.element,function(c){a.he!==b&&(Nn(a,b),c.preventDefault())});B("mouseover",b.element,function(){a.tq=b;a.fC.j(b)});a.op.ze(b);sP(a,b,void 0);Nn(a,b);a.hN.j(b);b.hd=!0;return b}nP.prototype.removeChild=function(a){a.hd=!1;void 0!==a.xi&&a.xi();Nn(this,void 0);this.op.remove(a);x.prototype.removeChild.call(this,a);this.gN.j(a)};function pP(a,b){for(var c=l([].concat(a.op.Lg)),d=c.next();!d.done;d=c.next())if(d=d.value,d.config.Kg===b){a.removeChild(d);d===a.he&&Nn(a,void 0);break}}function rP(a){var b=!1;void 0!==a.Vd&&a.Vd.hd&&void 0!==a.Cb&&!a.Cb.qB&&(a.removeChild(a.Vd),b=!0);return b};var tP,uP=["total_viewers","image_url","password_warning"];function vP(a,b){clearTimeout(tP);if(a.xc)wP(a),window.setTimeout(function(){vP(a,b)},55E3);else{var c="contest/log/"+a.A()+"/";if(""!==b){var d=Q(new N(b),"hashtag");c=c+"?hashtag="+encodeURIComponent(d)}tP=window.setTimeout(function(){E(c).then(function(e){e=new N(e.responseText);for(var f=T(e,"can_access"),g=T(e,"is_banned"),h=T(e,"has_warnings"),m=l(uP),n=m.next();!n.done;n=m.next())e.og(n.value);f||window.location.reload();g&&(window.location.href="/");h&&(window.location.href="/accounts/site_message/?next="+
window.location.href);vP(a,b);ho(e)}).catch(function(e){w("log_presence failed "+e)})},55E3)}}function wP(a){var b,c=a.md();if(void 0!==c){var d=[];xP.forEach(function(f,g){f[0]<=c&&f[1]>c&&d.push(g)});var e={};try{e=JSON.parse(null!==(b=Va("ag"))&&void 0!==b?b:"{}")}catch(f){}d.forEach(function(f){var g;e[f]=(null!==(g=e[f])&&void 0!==g?g:0)+1});Ya("ag",JSON.stringify(e),2592E3)}}
var xP=new Map([["teen-cams",[18,20]],["18to21-cams",[18,22]],["20to30-cams",[20,31]],["30to50-cams",[30,51]],["mature-cams",[50,20]]]);function yP(){x.call(this);var a=this;this.up={header:new zP,rightTop:new zP,rightMiddle:new zP,rightBottom:new zP,footerLeft:new zP,footerMiddle:new zP,footerRight:new zP};M.h(function(b){if(!b.C.$b&&!b.C.ri&&""!==b.C.wp.header){for(var c in a.up)if(a.up.hasOwnProperty(c)){for(var d=a.up[c];null!==d.element.firstChild;)d.element.removeChild(d.element.firstChild);d.tn=document.createElement("ins");d.tn.style.display="inline-block";d.tn.style.width="100%";d.tn.style.height="100%";d.tn.className="adsbyxa";d.element.appendChild(d.tn);""!==b.C.wp[c]&&a.up[c].tn.setAttribute("data-ad-zone",b.C.wp[c])}window.xadqueue=[];void 0!==window.xadgo&&window.xadgo()}})}q(yP,x);function zP(){x.call(this);this.element.style.display="inline-block";this.element.style.position="relative";this.element.className="ad"}q(zP,x);function AP(a){switch(a){case "rightTop":return"top_skyscraper";case "rightMiddle":return"mid_skyscraper";case "rightBottom":return"tbot_skyscraper";case "footerLeft":return"left_footer";case "footerMiddle":return"mid_footer";case "footerRight":return"right_footer";default:return w("Unexpected ad zone for track: "+a),""}};function BP(a){function b(f){var g=document.createElement("div");g.style.display="inline-block";g.style.maxWidth="33%";g.style.width="33%";var h=a.up[f];h.element.style.width="100%";h.element.style.maxWidth="300px";h.element.style.height="250px";h.element.style.margin="2px 3px 4px 3px";g.appendChild(h.element);var m=document.createElement("a");m.href="https://exoticads.com/aff/in/mrps/agBmX/?track="+AP(f);m.innerHTML=Zf;m.style.display="block";m.style.color="#d90c5f";m.style.fontSize="12px";m.style.textAlign="center";m.style.textDecoration="none";m.onmouseenter=function(){m.style.textDecoration="underline"};m.onmouseleave=function(){m.style.textDecoration="none"};g.appendChild(m);return g}x.call(this);this.element.style.position="relative";this.element.style.height="auto";this.element.style.padding="32px";this.element.style.textAlign="center";this.element.style.display="none";this.element.style.width="auto";this.element.className="ad";this.Mb=document.createElement("div");this.Mb.style.display="inline-block";this.Mb.style.width="100%";this.Mb.style.maxWidth="918px";this.Mb.style.borderRadius="4px";this.Mb.style.backgroundColor="#ffffff";var c=document.createElement("a");c.href="/supporter/upgrade/";c.style.display="block";c.style.backgroundColor="#fc760c";c.style.padding="2px 4px";c.style.textAlign="left";var d=document.createElement("img");d.src="https://static-assets.highwebmedia.com/tsdefaultassets/close_icon.png";c.appendChild(d);var e=document.createElement("span");e.innerText=Yf;e.style.color="#ffffff";e.style.fontSize="14px";e.style.fontWeight="bold";e.style.textDecoration="none";e.style.marginLeft="8px";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};c.appendChild(e);this.Mb.appendChild(c);this.Mb.appendChild(b("footerLeft"));this.Mb.appendChild(b("footerMiddle"));this.Mb.appendChild(b("footerRight"));this.element.appendChild(this.Mb)}q(BP,x);function CP(a,b){var c=this;this.W=a;this.Pd=b;this.xq=!1;this.xq=this.NE=!0;this.NE=!1;this.Pd.element.onmouseenter=function(){DP(c)};this.W.jy.h(function(d){d!==c.W.la?EP(c):DP(c)});this.W.fC.h(function(d){d===c.W.la?DP(c):EP(c)});M.h(function(){EP(c)});yO.h(function(){DP(c)});cp.h(function(){EP(c)});Po.od.h(function(){EP(c)})}
function EP(a){var b=X();"theater"!==b&&"fullscreen"!==b||a.NE||(a.xq?a.W.la.Da.dd()!==a.W.la.Da.Y||a.W.he===a.W.la||a.W.tq===a.W.la||EN(a.W.la.Da.Y.G)||bJ()||(a.Pd.element.style.display="block",a.xq=!1,Cx(a.W.la.Da,a.W.la.Da.Y),a.W.la.Da.Y.G.jb.scrollLeft=0,a.W.la.Da.cF=!0,a.W.la.D(),Qn(a.W.la),a.Pd.clear(),lO(a.W.la.Da.Y.G),window.setTimeout(function(){a.Pd.Qa()},0)):a.Pd.element.style.display="block")}
function DP(a){a.xq||(a.xq=!0,a.W.la.Da.cF=!1,a.W.la.show(),Pn(a.W.la),a.Pd.element.style.display="none",a.W.la.Da.Y.G.Qa())};var FP,GP;function HP(a,b){function c(){return void 0!==document.activeElement&&null!==document.activeElement&&0<=["input","textarea","select","button"].indexOf(document.activeElement.tagName.toLowerCase())&&!$p()}function d(){return a.la.Da.dd().df()||b.dd().df()}Po.od.h(function(){FP=void 0});var e=new io,f=0;qc.h(function(h){f=h?f+1:f-1});jo(e,{keyCode:9,Sm:!1,Z:function(h){if(!(!d()&&c()&&a.he!==a.Vd||$p()||$p())){Nn(a,a.la);var m=function(n){if(h.shiftKey)if(Hs(n.bn.Hc),yx.prototype.dd.call(n)===n.Y){if(!n.Ba.jo()){Cx(n,n.Ba);var p=n.Ba;p.bf();TL(p.va);n.Ba.Rv("prev")||w("no pmSessions")}}else n.Ba.Rv("prev")||Cx(n,n.Y);else n.nD()};"split"===X()?(m(a.la.Da),m(b)):(m(b),m(a.la.Da));h.preventDefault();h.stopPropagation()}}});jo(e,{keyCode:13,Sm:!1,Z:function(h){d()?Hr()?h.preventDefault():Ab().scrollTop===GP&&void 0!==FP&&(Ab().scrollTop=FP,FP=void 0):Nn(a,a.la)}});jo(e,{keyCode:27,Sm:!1,Z:function(h){$p()?(void 0!==Xp&&Xp.D(),Nn(a,void 0),FP=void 0):(h.stopPropagation(),h.preventDefault(),void 0!==a.he&&a.he.YI&&a.removeChild(a.he),Nn(a,void 0),Ab().scrollTop===GP&&void 0!==FP&&(b.dd().fg(),Ab().scrollTop=FP,FP=void 0))}});jo(e,{keyCode:76,Sm:!0,Z:function(h){if("split"===X()||a.he===a.la)if("split"!==X()||DN(b.Ba))h.stopPropagation(),h.preventDefault(),a.la.Da.Nl(),b.Nl()}});jo(e,{keyCode:83,Sm:!0,Z:function(h){h.stopPropagation();h.preventDefault();"split"===X()||"hidden"===a.element.style.visibility?Qr.j({ms:!0}):$b.j({ms:!0})}});var g=[32,34,33];B("keydown",document,function(h){(27===h.keyCode||h.ctrlKey||h.metaKey?0:$p()||-1!==g.indexOf(h.keyCode)||0!==f||!d()&&c())||void 0!==a.he&&Rn(a.he,h)||ko(e,h)||h.ctrlKey||h.metaKey||!vH(h.which)||(FP=Ab().scrollTop,"split"!==X()&&Nn(a,a.la),wH.j(h),("split"===X()?b:a.la.Da).dd().Ge(),window.setTimeout(function(){GP=Ab().scrollTop},0))})};function IP(a,b,c){c=void 0===c?!1:c;xx.call(this,(new dA).anchor);var d=this;this.Qy=!1;this.element.classList.add("gender-tab");y(this.element,"tabElement");(this.Qy=c)?this.element.classList.add("active"):this.element.setAttribute("data-floatingnav","");void 0!==b&&(this.element.href=b);this.element.innerText=a;J(this.element,JP);this.Oh();Ym(this.element).h(function(){d.Oh()});this.Tk.h(function(){d.Oh()})}q(IP,xx);IP.prototype.Oh=function(){y(this.element,"tabBorder");this.Qy?(y(this.element,"activeRoom"),J(this.element,{fontSize:"15px",padding:"4px 11px 4px",maxWidth:"180px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"default",position:"static"})):y(this.element,"inactiveRoom");y(this.element,"tabElementLink")};var JP={width:"",position:"relative",display:"inline-block",cssFloat:"left",boxSizing:"border-box",padding:"5px 11px 4px",marginRight:"2px",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",borderStyle:"solid",borderWidth:"1px",borderRadius:"4px 4px 0 0",fontSize:"13px",textDecoration:"none",cursor:"pointer"};function KP(){x.call(this,"a");this.style=Object.assign(Object.assign({},JP),{maxWidth:"176px",overflow:"hidden",textOverflow:"ellipsis",position:"absolute",cssFloat:"none",display:"inline-block"});J(this.element,this.style);this.element.classList.add("followed-tab");this.element.removeAttribute("data-floatingnav");var a=document.createElement("span");a.textContent=vf+" ";a.style.verticalAlign="top";this.element.appendChild(a);this.im=document.createElement("span");y(this.im,"followed_counts");this.im.style.verticalAlign="top";this.im.innerText="";this.im.className="followed_counts";this.element.appendChild(this.im)}q(KP,x);KP.prototype.wq=function(){if(!this.IJ){var a=Em.current.Fa;void 0!==a?(this.im.innerText="("+a.vg+"/"+a.PM+")",a=new hA(this.element,!1,a.username)):(this.im.innerText="(0/0)",a=new hA(this.element,!0,""));jA(a);this.element.style.position="absolute";this.IJ=!0}};function LP(){x.call(this);var a=this;this.Tb=document.createElement("span");this.ja=document.createElement("div");this.Mv=[];this.pa=!0;this.element.id="shareTab";y(this.element,"defaultColor");this.element.style.minHeight="395px";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.Tb.style.display="block";this.Tb.style.fontSize="12px";this.Tb.textContent="loading...";this.element.appendChild(this.Tb);var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");b.textContent=ch;c.textContent=dh;d.textContent=eh;y(b,"title");b.style.fontSize="14.4115px";b.style.lineHeight="20.1761px";b.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";b.style.marginBottom="20px";c.style.fontSize="14.4115px";c.style.lineHeight="20.1761px";c.style.margin="14.4115px 0";y(d,"link");d.style.marginBottom="12.0108px";d.style.fontSize="12.0108px";d.style.lineHeight="16.8px";d.style.fontWeight="bold";this.ja.appendChild(b);this.ja.appendChild(c);this.ja.appendChild(d);this.element.appendChild(this.ja);Wn.h(function(e){a.pa=void 0===e.Fa;a.Vg=e.C;a.Tb.style.display="block";a.ja.style.display="none"});M.h(function(e){a.pa=e.B.xc;a.Vg=e.C;a.Tb.style.display="block";a.ja.style.display="none";a.Hp();"block"===a.element.style.display&&a.show()})}q(LP,x);LP.prototype.oc=function(){return new Promise(function(a,b){E("api/ts/chat/share/").then(function(c){c=new N(c.responseText);var d={gt:Q(c,"campaignslug"),SQ:Q(c,"toururl")};ho(c);a(d)}).catch(b)})};LP.prototype.Hp=function(){var a=this;this.Mv.forEach(function(b){a.element.removeChild(b)});this.Mv=[]};function MP(a,b){function c(f,g){var h=document.createElement("div"),m=document.createElement("label"),n=document.createElement("input");h.style.margin="12.0108px 0";h.style.lineHeight="16.8px";n.type="text";n.value=g;y(m,"link");m.textContent=f;m.style.display="block";m.style.fontSize="12.012px";m.style.lineHeight="16.8px";m.style.fontWeight="bold";m.style.cursor="pointer";m.style.width="375px";m.onclick=function(){n.select()};y(n,"urlInput");n.style.display="block";n.style.borderRadius="4px";n.style.fontSize="12px";n.style.fontFamily="Arial, Helvetica, sans-serif";n.style.verticalAlign="middle";n.style.width="375px";n.style.marginTop="4px";n.style.height="20px";n.style.lineHeight="18px";n.style.borderWidth="1px";n.style.borderStyle="solid";n.style.padding="2px 4px";n.readOnly=!0;n.onclick=function(){n.select()};a.Mv.push(h);h.appendChild(m);h.appendChild(n);a.element.appendChild(h)}var d=Bc(a.Vg.A);c(H(G("Share %(username)s's Cam"),{username:d},!0)+":","https://chaturbate.com/in/?tour=7Bge&campaign="+
b.gt+"&room="+a.Vg.A);c(Qg+" Chaturbate.com:","https://chaturbate.com/in/?tour=OT2s&campaign="+b.gt);c(H(G("Embed %(username)s's Cam on Your Webpage"),{username:d},!0)+":","<iframe src='https://chaturbate.com/in/?tour=SHBY&campaign="+b.gt+"&track=embed&room="+a.Vg.A+"&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");c(fh+":","<iframe src='https://chaturbate.com/in/?tour=nvfS&campaign="+b.gt+"&track=embed&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");b=document.createElement("div");var e=document.createElement("a");y(e,"link");e.href="/affiliates/stats/";e.textContent=gh;e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};y(b,"defaultColor");b.textContent=hh;b.style.fontSize="12.012px";b.style.lineHeight="16.8px";b.style.marginTop="30px";b.appendChild(e);a.Mv.push(b);a.element.appendChild(b)}
LP.prototype.show=function(){var a=this;this.Tb.style.display="block";this.ja.style.display="none";this.element.style.display="block";this.Hp();this.pa||this.oc().then(function(b){a.Tb.style.display="none";a.ja.style.display="block";MP(a,b)}).catch(function(){})};LP.prototype.D=function(){this.element.style.display="none";this.Tb.style.display="none"};var NP=new t("photoSetDetail");function OP(a){return new Promise(function(b,c){E("photo_videos/api/photoset_links/"+a+"/").then(function(d){d=JSON.parse(d.responseText);d.error&&c(d.error);b(d.urls)}).catch(function(d){c(d)})})}function PP(a){return new Promise(function(b,c){E("photo_videos/api/photoset_links/"+a+"/").then(function(d){d=JSON.parse(d.responseText);d.error&&c(d.error);b(d.urls[0])}).catch(function(d){c(d)})})}
function QP(a){return new Promise(function(b,c){E("photo_videos/api/photoset_action_links/"+a+"/").then(function(d){b(d.responseText)}).catch(function(d){c(d)})})}
function RP(a){return new Promise(function(b,c){E("photo_videos/api/pvcontext/"+a+"/").then(function(d){var e=new N(d.responseText);d=Q(e,"room");var f=T(e,"is_anonymous"),g=T(e,"is_broadcaster"),h=T(e,"is_staff"),m=T(e,"has_fan_club"),n=T(e,"is_fan_club_member"),p=eo(e,"photo_sets");e=[];p=l(JSON.parse(p));for(var v=p.next();!v.done;v=p.next())v=new N(JSON.stringify(v.value)),e.push({id:U(v,"id"),name:Q(v,"name"),Fn:Q(v,"cover_url"),Ja:U(v,"tokens"),Hb:T(v,"is_video"),mc:T(v,"user_can_access"),yG:U(v,"purchase_count"),tw:T(v,"user_has_purchased"),vj:T(v,"pending_approval",!1,!1),Ut:T(v,"failed_approval",!1,!1),oL:Q(v,"rejection_notes",!1),In:T(v,"fan_club_only"),ND:T(v,"fan_club_unlock"),wd:Q(v,"label_text"),Le:Q(v,"label_color"),description:Q(v,"description"),Ne:U(v,"num_photos"),rk:Q(v,"created"),nn:T(v,"video_has_sound"),vK:T(v,"legacy_video"),aN:U(v,"video_duration"),XQ:$n(v,"video_id",!1),aC:T(v,"video_ready",!1,!1),$B:T(v,"video_error_processing",!1,!1),visibility:Q(v,"visibility")}),ho(v);b({A:d,pa:f,Za:g,Eq:h,Ek:m,PO:n,Wb:e})}).catch(function(d){c(d)})})}
function SP(a,b){var c={Le:"#AAA",rm:[],mj:"free"};if(a.Ut)c.mj="not_approved",c.Le="#5e81a4",c.rm=[{token:Ti,size:0},{token:Vi,size:0}];else if(a.Hb&&a.$B)c.mj="not_approved",c.Le="#5e81a4",c.rm=[{token:Yi,size:0},{token:Xi,size:0}];else if(a.Hb&&!a.aC)c.mj="not_approved",c.Le="#5e81a4",c.rm=[{token:Wi,size:0},{token:Xi,size:0}];else if(a.vj)c.mj="not_approved",c.Le="#5e81a4",c.rm=[{token:Ui,size:0},{token:Vi,size:0}];else{var d=a.Ja;!a.ND&&0<d||!b.Ek&&0<d?(c.mj="purchase_only",c.rm=[{token:""+a.Ja,size:1},{token:Fc(a.Ja,!0),size:0}]):a.In?(c.mj="fanclub_only",c.Le="#090",c.rm=[{token:Ei,size:1},{token:Fi,size:1}]):a.ND&&0<a.Ja&&(c.mj="fanclub_or_purchase",c.Le="#090",c.rm=[{token:Ei,size:1},{token:Fi,size:1},{token:te,size:2},{token:""+a.Ja,size:1},{token:Fc(a.Ja,!0),size:0}])}return c};var TP={sd:704,no:704,Nf:600,zi:396};function UP(a){TP.sd=Math.max(460,168*Math.floor((a.offsetWidth-30+16)/168)-16);TP.no=Math.min(TP.sd,1400);TP.Nf=TP.no-104;TP.zi=Math.floor(9*TP.no/16)};var VP=new t("photosetPurchasedEvent");function WP(a,b,c){x.call(this);var d=this;this.L=a;this.context=b;this.kc=c;this.Ub=document.createElement("div");this.$e=document.createElement("div");this.zc=document.createElement("a");this.element.style.display="block";this.element.style.position="relative";this.element.style.width="100%";this.element.style.height="auto";this.Ub.style.width="100%";this.Ub.style.height="auto";this.Ub.style.minHeight="200px";this.element.appendChild(this.Ub);this.$e.style.width="100%";this.$e.style.height="40px";this.$e.style.position="relative";a=document.createElement("div");y(a,"createdAt");a.style.height="20px";a.style.lineHeight="20px";a.style.position="absolute";a.style.top="0px";a.style.right="8px";a.style.fontSize="12px";a.style.textAlign="right";a.style.marginTop="2px";a.textContent=Gi+" "+this.L.rk;this.$e.appendChild(a);!this.L.Hb||this.L.nn||this.L.vj||(a=document.createElement("div"),a.style.height="20px",a.style.lineHeight="20px",a.style.position="absolute",a.style.top="20px",a.style.left="8px",a.style.fontSize="12px",a.style.textAlign="left",a.style.marginTop="2px",a.textContent=""+Si,this.$e.appendChild(a));y(this.zc,"link");this.zc.style.display="none";this.zc.style.height="20px";this.zc.style.lineHeight="20px";this.zc.style.position="absolute";this.zc.style.top="0px";this.zc.style.left="0px";this.zc.style.fontSize="12px";this.zc.style.textAlign="left";this.zc.style.marginTop="2px";this.zc.target="_blank";this.zc.onmouseenter=function(){d.zc.style.textDecoration="underline"};this.zc.onmouseleave=function(){d.zc.style.textDecoration="none"};this.L.Hb||(this.zc.textContent=Mi);this.$e.appendChild(this.zc);this.element.appendChild(this.$e);this.L.mc||XP(this)}q(WP,x);k=WP.prototype;k.oc=function(){};k.next=function(){};k.previous=function(){};k.fr=function(){};k.resize=function(a){this.kc=a;void 0!==this.wb&&this.wb.parentElement===this.Ub&&(this.wb.style.width=this.kc.Nf+"px",this.wb.style.height=this.kc.zi+"px",void 0!==this.Lu&&(this.Lu.style.left=(this.kc.Nf-350)/2+"px",this.Lu.style.top=(this.kc.zi-240)/2+"px"))};function YP(a,b){a.context.pa&&oo(b,function(){Rr.j(!1)});return!a.context.pa}
function ZP(a){YP(a,a.L.Hb?Qi:Oi)&&oo(a.L.Hb?Mc(a.L.Ja):Nc(a.L.Ne,a.L.Ja),function(){F("photo_videos/purchase_photoset/"+a.L.id+"/",{pvTab:"True"}).then(function(b){b=new N(b.responseText);T(b,"success")?(L("PhotosetPurchased",{photoset_id:a.L.id}),VP.j(a.L.id),a.L.mc=!0,void 0!==a.wb&&a.wb.parentElement===a.Ub&&a.Ub.removeChild(a.wb),a.oc()):void 0!==P(b,"error")?T(b,"tokens_error")?oo(Q(b,"error")+"  "+Ri,function(){window.open("/tipping/purchase_tokens/","_blank","height=615, width=850")}):V(Q(b,"error")):V(a.L.Hb?Ii:Hi)}).catch(function(b){w("Purchase Error: "+b)})})}function $P(a){YP(a,Lc(a.context.A))&&(a.context.Ek?oo(Kc(a.context.A),function(){L("PhotosetJoinFanclubClicked",{photoset_id:a.L.id});window.location.href="/fanclub/join/"+a.context.A+"/"}):V(Qc(a.context.A)))}
function XP(a){a.wb=document.createElement("div");a.wb.style.position="relative";a.wb.style.width=a.kc.Nf+"px";a.wb.style.height=a.kc.zi+"px";a.wb.style.margin="0 auto";a.wb.style.overflow="hidden";a.wb.style.zIndex="2";var b=document.createElement("img");b.src=a.L.Fn;b.style.width="100%";b.style.height="100%";b.style.filter="blur(8px)";a.wb.appendChild(b);a.Lu=aQ(a);a.wb.appendChild(a.Lu);a.Ub.appendChild(a.wb)}
function aQ(a){var b=document.createElement("div");b.style.width="350px";b.style.height="240px";y(b,"lockOverlayBg");y(b,"rgba");b.style.borderRadius="10px";b.style.position="absolute";b.style.left=(a.kc.Nf-350)/2+"px";b.style.top=(a.kc.zi-240)/2+"px";b.style.textAlign="center";var c=document.createElement("div");c.style.width="100%";var d=document.createElement("div");y(d,"previewText");d.style.fontSize="16px";d.style.height="40px";d.textContent=a.L.Hb?Pc(bQ(a.L.aN)):Oc(a.L.Ne);c.appendChild(d);d=40;switch(SP(a.L,a.context).mj){case "fanclub_or_purchase":var e=cQ(Jc(dQ(a.context.A)),function(){$P(a)}),f=document.createElement("div");y(f,"previewText");f.textContent=Li;f.style.fontSize="14px";f.style.height="30px";f.style.lineHeight="30px";f.style.marginBottom="1px";var g=cQ(a.L.Ja+" "+Dc("TOKEN","TOKENS",a.L.Ja),function(){ZP(a)},!0);c.appendChild(e);c.appendChild(f);c.appendChild(g);d+=80;break;case "fanclub_only":e=cQ(Jc(dQ(a.context.A)),function(){$P(a)});c.appendChild(e);d+=25;break;case "purchase_only":e=cQ(a.L.Ja+" "+Dc("TOKEN","TOKENS",a.L.Ja),function(){ZP(a)}),c.appendChild(e),d+=25}!a.L.Hb||a.L.nn||a.L.vj||(e=document.createElement("div"),y(e,"previewText"),e.style.fontSize="14px",e.style.height="40px",e.style.lineHeight="54px",e.style.marginBottom="1px",e.textContent=""+Si,c.appendChild(e));c.style.position="relative";c.style.top=(240-d)/2-5+"px";b.appendChild(c);return b}
function eQ(a,b){a.L.Hb||""===b||(a.context.pa?(a.zc.href="#",a.zc.style.display="block",a.zc.onclick=function(c){c.preventDefault();YP(a,Pi)}):(a.zc.href=b,a.zc.style.display="block"))}
function cQ(a,b,c){c=void 0===c?!1:c;var d=document.createElement("div");d.textContent=a;d.style.width="250px";d.style.height="25px";d.style.lineHeight="25px";d.style.borderWidth="1px";d.style.borderStyle="solid";d.style.borderRadius="4px";d.style.fontSize="12px";d.style.textAlign="center";d.style.cursor="pointer";d.onclick=b;y(d,"previewText");y(d,"buttonBgColor");y(d,"buttonBorder");y(d,"rgba");y(d,"gradient");c&&y(d,"grey");d.style.position="relative";d.style.left="50px";return d}
function dQ(a){return 18>=a.length?a.toUpperCase():(a.substr(0,15)+"...").toUpperCase()}function bQ(a){return(60<a?Math.floor(a/60)+" "+Ji+" ":"")+a%60+" "+Ki};function fQ(a,b,c){x.call(this);var d=this;this.L=a;this.context=b;this.kc=c;this.anchor=document.createElement("a");this.element.style.position="relative";this.element.style.display="inline-block";this.element.style.width=this.kc.hx+"px";this.element.style.height="120px";this.element.style.boxSizing="border-box";this.element.style.margin="0px "+this.kc.it+"px "+(c.it+1)+"px";this.element.style.verticalAlign="middle";this.element.style.overflow="visible";Lb()||(this.element.title=a.name);this.element.onmouseenter=function(){d.element.style.cursor="pointer";d.element.style.textDecoration="underline"};this.element.onmouseleave=function(){d.element.style.cursor="default";d.element.style.textDecoration="none"};this.anchor.href="/photo_videos/photoset/detail/"+this.context.A+"/"+this.L.id+"/";this.anchor.onclick=function(f){f.metaKey||f.ctrlKey||(f.preventDefault(),ZI(a,"PVTab"),NP.j({request:{L:d.L,context:d.context,autoplay:!0,scroll:!0},pushState:!0}))};this.element.appendChild(this.anchor);b=document.createElement("img");y(b,"previewBorder");b.src=this.L.Fn;b.width=150;b.height=100;b.style.borderWidth="1px";b.style.borderStyle="solid";b.style.borderRadius="3%";b.style.display="block";this.anchor.appendChild(b);!this.L.mc||this.context.Za?gQ(this):this.L.mc&&this.L.tw&&hQ(this);if(this.L.Hb&&(b=document.createElement("img"),b.src="https://static-assets.highwebmedia.com/tsdefaultassets/video.svg",b.height=18,b.style.position="absolute",b.style.top="8px",b.style.right="8px",this.anchor.appendChild(b),!this.L.nn&&!this.L.vj)){b=document.createElement("img");b.src="https://static-assets.highwebmedia.com/tsdefaultassets/no-audio.svg";b.height=18;b.style.position="absolute";b.style.top="8px";b.style.right="32px";var e=jp({content:""+Si,li:!1,width:175,ud:1,fe:"90px"});e.style.boxShadow="0px 2px 8px rgba(0, 0, 0, 0.25)";e.style.textAlign="center";y(e,"tooltip-white");z(e,"tooltip");e.appendChild(document.createElement("span"));this.anchor.appendChild(e);b.onmouseenter=function(){e.style.display="block";e.style.left="12px";e.style.top="-32px"};b.onmouseleave=function(){e.style.display="none"};this.anchor.appendChild(b)}b=document.createElement("div");y(b,"link");b.textContent=this.L.name;b.style.fontSize=this.kc.fontSize+"px";b.style.left="0px";b.style.maxWidth="145px";b.style.whiteSpace="nowrap";b.style.textOverflow="ellipsis";b.style.overflow="hidden";b.style.lineHeight="16px";this.anchor.appendChild(b)}q(fQ,x);function hQ(a){var b=document.createElement("span");y(b,"purchasedBadge");b.style.position="absolute";b.style.top="80px";b.style.right="8px";b.style.padding="1px 3px";b.style.lineHeight="12px";b.style.borderRadius="2px";b.style.fontSize="9px";b.textContent=se;a.anchor.appendChild(b)}
function gQ(a){if("free"!==SP(a.L,a.context).mj){a.wb=document.createElement("div");a.wb.style.height="101px";a.wb.style.width="151px";a.wb.style.borderRadius="3%";y(a.wb,"lockOverlayBg");y(a.wb,"rgba");a.wb.style.position="absolute";a.wb.style.top="0px";a.wb.style.left="0px";var b=document.createElement("img");b.src="https://static-assets.highwebmedia.com/tsdefaultassets/lock.svg";b.width=18;b.height=18;b.style.marginLeft="-9px";b.style.marginTop="-9px";b.style.position="absolute";b.style.left="50%";b.style.top="48%";b.style.padding="4px";b.style.border="none";a.wb.appendChild(b);a.anchor.appendChild(a.wb);""!==a.L.wd&&(a.badge=document.createElement("span"),y(a.badge,"tokenText"),a.badge.innerText=a.L.wd,a.badge.style.backgroundColor=a.L.Le,a.badge.style.color="#fff",a.badge.style.position="absolute",a.badge.style.top="80px",a.badge.style.right="8px",a.badge.style.fontSize="9px",a.badge.style.padding="1px 3px",a.badge.style.lineHeight="12px",a.badge.style.borderRadius="2px",a.anchor.appendChild(a.badge))}}
function iQ(a){void 0!==a.wb&&a.wb.parentElement===a.anchor&&(void 0!==a.badge&&a.badge.parentElement===a.anchor&&a.anchor.removeChild(a.badge),a.anchor.removeChild(a.wb),hQ(a))};function jQ(a,b){a=void 0===a?!1:a;b=void 0===b?!1:b;x.call(this);this.Hb=a;this.Pk=document.createElement("img");a=TP.zi;var c=this.Hb?TP.no:TP.Nf;this.element.style.position="relative";this.element.style.width=c+"px";this.element.style.height=a+"px";this.element.style.margin="0 auto";this.element.style.backgroundImage='url("https://static-assets.highwebmedia.com/tsdefaultassets/no_thumbnail.svg")';this.element.style.backgroundRepeat="no-repeat";this.element.style.backgroundSize="cover";this.element.style.webkitBackgroundSize="cover";this.element.style.backgroundPosition="center";b||(this.Pk.style.width="30px",this.Pk.style.height="30px",this.Pk.style.position="absolute",this.Pk.style.top="50%",this.Pk.style.left="50%",this.Pk.style.transform="translate(-50%, -50%)",this.Pk.src="https://static-assets.highwebmedia.com/tsdefaultassets/loading.gif",this.element.appendChild(this.Pk))}q(jQ,x);jQ.prototype.H=function(){x.prototype.H.call(this);var a=TP.zi;this.element.style.width=(this.Hb?TP.no:TP.Nf)+"px";this.element.style.height=a+"px"};function kQ(a,b,c){WP.call(this,a,b,c);var d=this;this.images=[];this.index=0;this.Hf=[];this.pg=document.createElement("div");this.Gs=0;this.Ql=!1;lQ(this);mQ(this);this.$e.appendChild(this.pg);this.L.mc&&this.oc();window.setTimeout(function(){d.H()},0)}q(kQ,WP);kQ.prototype.oc=function(){var a=this;if(!this.Ql){this.Ql=!0;for(var b=function(){return{Ed:(new jQ).element,loaded:!1,url:""}};this.images.length<this.L.Ne;)this.images.push(b());this.Ub.appendChild(this.images[0].Ed);this.H();OP(this.L.id).then(function(c){c.length!==a.L.Ne&&(a.L.Ne=c.length,mQ(a),nQ(a));for(;c.length>a.images.length;)a.images.push(b());for(;c.length<a.images.length;)a.images.pop();for(var d=0;d<c.length;d+=1)oQ(a,c[d],d);eQ(a,c[0])}).catch(function(c){a.Ql=!1;w("GetPhotoURLs: "+
c)});nQ(this)}};function oQ(a,b,c){var d=a.images[c];d.url=b;var e=document.createElement("img");e.style.height="100%";e.style.width="100%";e.src=b;e.onload=function(){d.loaded=!0;if(e.naturalWidth>e.naturalHeight){var f=Math.min(e.naturalWidth,a.kc.Nf);var g=Math.floor(f*e.naturalHeight/e.naturalWidth)}else g=Math.min(e.naturalHeight,a.kc.Nf,1100),f=Math.floor(g*e.naturalWidth/e.naturalHeight);d.Ed.style.background="none";d.Ed.style.width=f+"px";for(d.Ed.style.height=g+"px";null!==d.Ed.firstChild;)d.Ed.removeChild(d.Ed.firstChild);d.Ed.appendChild(e);a.H()}}
kQ.prototype.H=function(){function a(g){var h=b.Ze;h.Kf.style.top=h.Qf.style.top=(g-50)/2+"px";b.pg.style.left=(b.kc.sd-b.pg.offsetWidth)/2+"px"}var b=this;WP.prototype.H.call(this);var c=this.images[this.index];if(void 0===c)a(this.Ub.offsetHeight);else if(c.loaded){var d=c.Ed.firstChild;if(d.naturalWidth>d.naturalHeight){var e=Math.min(d.naturalWidth,this.kc.Nf);var f=Math.floor(e*d.naturalHeight/d.naturalWidth)}else f=Math.min(d.naturalHeight,this.kc.Nf,1100,window.innerHeight-200),e=Math.floor(f*d.naturalWidth/d.naturalHeight);c.Ed.style.width=e+"px";c.Ed.style.height=f+"px";a(f)}else d=c.Ed.firstChild,c.Ed.style.width=this.kc.Nf+"px",c.Ed.style.height=this.kc.zi+"px",d.style.top=(this.kc.zi-30)/2+"px",d.style.left=(this.kc.Nf-30)/2+"px",a(this.kc.zi)};kQ.prototype.next=function(){if(!(2>this.L.Ne)&&this.L.mc){var a=this.index;this.index=(this.index+1)%this.L.Ne;pQ(this);qQ(this,a)}};kQ.prototype.previous=function(){if(!(2>this.L.Ne)&&this.L.mc){var a=this.index;0===this.index?this.index=this.L.Ne-1:--this.index;pQ(this);qQ(this,a)}};function qQ(a,b){b=a.images[b];b.Ed.parentElement===a.Ub&&a.Ub.removeChild(b.Ed);b=a.images[a.index];a.Ub.appendChild(b.Ed);eQ(a,b.url);a.H()}function nQ(a){2>a.L.Ne?FA(a.Ze):(a=a.Ze,a.Kd.style.visibility=a.re.style.visibility="normal",a.mc&&(a.Kd.style.cursor=a.re.style.cursor="pointer"))}
function lQ(a){a.Ze=new DA(function(){a.previous()},function(){a.next()},a.L.mc);nQ(a);a.Ub.appendChild(a.Ze.Kd);a.Ub.appendChild(a.Ze.re)}function rQ(a){a.style.height="8px";a.style.width="8px";a.style.padding="2px"}function sQ(a){a.style.height="6px";a.style.width="6px";a.style.padding="3px"}function tQ(a){a.style.height="4px";a.style.width="4px";a.style.padding="4px"}
function mQ(a){for(a.Hf=[];null!==a.pg.firstChild;)a.pg.removeChild(a.pg.firstChild);var b=Math.min(5,a.L.Ne);if(!(2>b)){a.pg.style.width=12*b+"px";a.pg.style.height="15px";a.pg.style.position="absolute";a.pg.style.marginTop="2px";a.pg.style.top="0px";for(var c=0;c<b;c+=1){var d=document.createElement("img");5>=a.L.Ne?rQ(d):3===c&&5===b?sQ(d):4===c&&5===b?tQ(d):rQ(d);d.style.display="inline-block";d.src=0===c?"https://static-assets.highwebmedia.com/tsdefaultassets/dot-blue.svg":"https://static-assets.highwebmedia.com/tsdefaultassets/dot-gray.svg";a.Hf.push(d);a.pg.appendChild(d)}}}
function pQ(a){if(!(2>a.Hf.length))if(a.Hf[a.Gs].src="https://static-assets.highwebmedia.com/tsdefaultassets/dot-gray.svg",a.Gs=a.index===a.L.Ne-1?Math.min(a.Hf.length-1,4):Math.min(a.index,3),a.Hf[a.Gs].src="https://static-assets.highwebmedia.com/tsdefaultassets/dot-blue.svg",5>=a.L.Ne){a=l(a.Hf);for(var b=a.next();!b.done;b=a.next())rQ(b.value)}else switch(a.Gs){case 0:case 1:case 2:for(b=0;b<a.Hf.length;b+=1){var c=a.Hf[b];3>b?rQ(c):3===b?sQ(c):tQ(c)}break;case 3:for(b=0;b<a.Hf.length;b+=1)c=a.Hf[b],a.index===a.L.Ne-2&&4===b?rQ(c):3===a.index&&0===b||4===b||3!==a.index&&1===b||4===b?sQ(c):3!==a.index&&0===b?tQ(c):rQ(c);break;case 4:for(b=0;b<a.Hf.length;b+=1)c=a.Hf[b],0===b?tQ(c):1===b?sQ(c):rQ(c)}};function uQ(a,b){this.F=document.createElement("video");this.source=document.createElement("source");this.F.style.minHeight="135px";this.F.style.cursor="pointer";this.F.style.margin="auto";this.F.oncontextmenu=function(c){c.preventDefault();return!1};this.F.setAttribute("webkit-playsinline","");this.F.setAttribute("playsinline","");this.F.setAttribute("preload","auto");this.F.setAttribute("autoplay","true");this.F.controls=a;this.F.muted=b}
uQ.prototype.lC=function(a){this.source=document.createElement("source");this.source.type="video/mp4";this.source.src=a;this.F.appendChild(this.source);this.F.load()};uQ.prototype.play=function(){function a(b){switch(b.name){case "AbortError":break;default:w("DOMError: playing video "+b)}}if(Lb())try{this.F.play()}catch(b){a(b)}else this.F.play().then(function(){}).catch(a)};uQ.prototype.pause=function(){this.F.pause()};var vQ=window.videojs;function wQ(a,b,c){c=void 0===c?!0:c;uQ.call(this,a,b);this.us=!1;this.aI=new t("videoJSActivated");this.Em={fluid:!0,children:"mediaLoader posterImage textTrackDisplay bigPlayButton controlBar errorDisplay textTrackSettings resizeManager".split(" "),userActions:{doubleClick:function(){}},controlBar:{children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay"],volumePanel:!1}};this.F.style.minHeight="";c&&(this.Em.controlBar.children.push("muteToggle"),this.Em.controlBar.muteToggle={},Fb()||(this.Em.controlBar.children.push("volumeControl"),this.Em.controlBar.volumeControl={}));(fb()||Fb())&&this.Em.controlBar.children.push("fullscreenToggle");b&&(this.Em.muted=!0);this.F.setAttribute("class","video-js vjs-big-play-centered vjs-cbcustom")}q(wQ,uQ);wQ.prototype.lC=function(a){this.source=document.createElement("source");this.source.type="video/mp4";this.source.src=a;this.F.appendChild(this.source);this.us||(this.us=!0,this.Yd=vQ(this.F,this.Em),this.Yd.addClass("vjs-cbcustom"),this.Yd.addClass("vjs-has-started"),this.Yd.autoplay(!0),this.aI.j(void 0),this.Yd.load())};wQ.prototype.play=function(){if(this.us){var a=this.Yd.play();void 0!==a&&a.catch(function(b){switch(b.name){case "AbortError":break;default:w("DOMError: playing video "+b)}})}};wQ.prototype.pause=function(){this.us&&this.Yd.pause()};var xQ=!0;function yQ(a,b,c,d){d=void 0===d?!0:d;WP.call(this,a,b,c);this.autoplay=d;this.wa=document.createElement("div");this.Ql=this.YB=this.Lm=!1;this.wa.style.display="none";this.wa.style.position="relative";this.wa.style.overflow="hidden";this.Ub.appendChild(this.wa);this.video=void 0!==window.videojs?new wQ(!0,xQ&&Fb(),a.nn):new uQ(!0,!1);xQ=!1;this.wa.style.maxWidth=this.kc.no+"px";this.wa.style.margin="0 auto";this.wa.style.cursor="pointer";this.video.F.style.backgroundColor="black";this.wa.appendChild(this.video.F);this.L.mc&&this.oc()}q(yQ,WP);yQ.prototype.H=function(){WP.prototype.H.call(this);if(this.video instanceof wQ){if(!this.video.us)return;var a=this.video.Yd.videoHeight();var b=this.video.Yd.videoWidth()}else{if(!this.YB)return;a=this.video.F.videoHeight;b=this.video.F.videoWidth;this.video.F.style.height="auto";this.video.F.style.width="100%"}this.wa.style.maxWidth=Math.max(a>b?b/a*window.innerHeight-200:b,300)+"px";this.wa.style.height="auto"};yQ.prototype.oc=function(){var a=this;if(!this.Ql)if(this.Ql=!0,this.L.aC){var b=new jQ(!0);this.I(b,this.Ub);PP(this.L.id).then(function(d){var e=Va("cbv_vol"),f=Va("cbv_mute");e=void 0!==e?e:".5";f=void 0!==f?f:"0";eQ(a,d);a.video.lC(d);if(a.video instanceof wQ){var g=a.video.Yd;a.video.Yd.on("loadeddata",function(){b.parent===a&&a.removeChild(b);g.volume(Number(e));g.muted("1"===f);a.wa.style.display="block";a.YB=!0;a.H()});a.video.Yd.on("contextmenu",function(h){h.preventDefault();h.stopPropagation();return!1});a.video.Yd.on("volumechange",function(){var h=g.volume(),m=g.muted()||0===h?"1":"0";Xa("cbv_vol",h.toString(),365);Xa("cbv_mute",m,365)});a.video.Yd.on("play",function(){a.Lm=!0});a.video.Yd.on("pause",function(){a.Lm=!1});a.video.Yd.on("ended",function(){a.Lm=!1});if(!a.autoplay)a.video.Yd.one("play",function(){a.video.pause()});a.video.Yd.on("error",function(h){w("MediaVideo: VideoJs: "+h.message)})}else a.video.F.onloadeddata=function(){a.removeChild(b);a.video.F.volume=Number(e);a.video.F.muted="1"===f;a.wa.style.display="block";a.YB=!0;a.H()},a.video.F.oncontextmenu=function(h){h.preventDefault();h.stopPropagation();return!1},a.video.F.onvolumechange=function(){var h=a.video.F.volume,m=a.video.F.muted||0===h?"1":"0";Xa("cbv_vol",h.toString(),365);Xa("cbv_mute",m,365)},a.video.F.onplay=function(){a.Lm=!0},a.video.F.onpause=function(){a.Lm=!1},a.video.F.onended=function(){a.Lm=!1},a.video.F.onerror=function(h){w("MediaVideo: HTML5: "+h)}}).catch(function(d){a.Ql=!1;w("GetVideoURL: "+d)})}else{var c=new jQ(!0,!0);this.I(c,this.Ub)}};yQ.prototype.fr=function(){this.Lm?this.video.pause():this.video.play()};var zQ="resizable,dependent,scrollbars,height=768,width=850,top="+(screen.height/2-384).toString()+",left="+(screen.width/2-425).toString();function AQ(a){x.call(this);this.VE=a;this.Ac=document.createElement("div");this.Ub=document.createElement("div");this.yg={};this.element.style.width=TP.sd+"px";this.element.style.height="auto";this.element.style.minHeight="10px";this.element.style.position="relative";this.element.style.userSelect="text";this.element.style.webkitUserSelect="text";this.Ac.style.width="100%";this.Ac.style.marginBottom="15px";this.Ub.style.width="100%";this.Ub.style.userSelect="none";this.Ub.style.webkitUserSelect="none";this.element.appendChild(this.Ac);this.element.appendChild(this.Ub)}q(AQ,x);k=AQ.prototype;k.H=function(){this.element.style.width=TP.sd+"px";void 0!==this.Md&&this.Md.resize(TP)};function BQ(a,b){CQ(a,void 0===b?"Loading...":b);if(void 0!==a.ek)for(;null!==a.ek.firstChild;)a.ek.removeChild(a.ek.firstChild);void 0!==a.Md&&a.Md.element.parentElement===a.Ub&&(a.Ub.removeChild(a.Md.element),a.Md=void 0)}
function DQ(a,b,c,d,e){d=void 0===d?!0:d;e=void 0===e?!0:e;BQ(a);EQ(a,b,c);a.Hw(b,c);a.yg[b.id]?a.Md=a.yg[b.id]:(a.Md=b.Hb?new yQ(b,c,TP,d):new kQ(b,c,TP),b.vK||(a.yg[b.id]=a.Md));void 0!==a.Md&&(a.I(a.Md,a.Ub),a.Md.M(),e&&(Ab().scrollTop=a.element.offsetTop-100))}function CQ(a,b){a.Ac.textContent=void 0===b?"Loading...":b}
function EQ(a,b,c){a.Ac.textContent="";if(b.Ut){var d=document.createElement("div");y(d,"errorMessage");d.style.padding="15px";d.style.borderWidth="1px";d.style.borderStyle="solid";d.style.borderRadius="4px";d.style.margin="5px 0";d.style.fontSize="18px";d.style.whiteSpace="pre-line";d.style.textAlign="center";d.textContent=Zi+": "+b.oL;c.Za&&(d.textContent+="\r\n"+$i);a.Ac.appendChild(d)}else b.$B&&(d=document.createElement("div"),y(d,"errorMessage"),d.style.padding="15px",d.style.borderRadius="4px",d.style.margin="5px 0",d.style.fontSize="18px",d.style.whiteSpace="pre-line",d.style.textAlign="center",d.textContent=""+Fk,c.Za&&(d.textContent+="\r\n"+Gk),a.Ac.appendChild(d));d=document.createElement("div");y(d,"title");d.style.textAlign="left";d.style.fontSize="18px";d.style.display="block";d.style.fontWeight="bold";var e=document.createElement("span");e.textContent=""+b.name;d.appendChild(e);if(!0===a.VE){var f=document.createElement("a");f.title=""+aj;f.href="/photo_videos/photoset/detail/"+
c.A+"/"+b.id+"/";f.style.marginLeft="2px";f.style.padding="0 5px";c=document.createElement("div");y(c,"popoutIcon");c.style.display="inline-block";c.style.height="15px";c.style.width="15px";c.style.position="relative";c.style.top="2px";f.appendChild(c);f.onmouseenter=function(){f.style.textDecoration="underline"};f.onmouseleave=function(){f.style.textDecoration="none"};f.onclick=function(g){g.preventDefault();Kp(f.href,"_blank",zQ)};d.appendChild(f)}a.Ac.appendChild(d);!b.Hb||b.aC||b.$B||(c=document.createElement("div"),y(c,"videoProcessing"),c.style.textAlign="left",c.style.fontSize="14px",c.style.display="block",c.style.marginTop="15px",c.style.marginBottom="15px",c.style.wordWrap="break-word",c.textContent=Ek,a.Ac.appendChild(c));c=document.createElement("div");c.style.textAlign="left";c.style.fontSize="14px";c.style.display="block";c.style.marginTop="15px";c.style.marginBottom="15px";c.style.wordWrap="break-word";c.textContent=""+b.description;a.Ac.appendChild(c)}
k.Hw=function(a,b){var c=this;if(b.Za||b.Eq)void 0===this.ek&&(this.ek=document.createElement("div"),this.ek.style.margin="5px 0",this.element.appendChild(this.ek)),QP(a.id).then(function(d){var e=c.ek;e.innerHTML=d;if(c.VE){d={};for(var f=l(e.querySelectorAll("#broadcaster_links a, #staff_links a")),g=f.next();!g.done;d={Bs:d.Bs},g=f.next())d.Bs=g.value,d.Bs.onclick=function(n){return function(p){p.preventDefault();Kp(n.Bs.href,void 0,zQ)}}(d)}d=e.querySelector("#staff_delete_photoset_button");var h=e.querySelector("#staff_delete_photoset");f=e.querySelector("#staff_unmute_video_button");var m=e.querySelector("#staff_unmute_video");null!==d&&null!==h&&(d.onclick=function(){oo("Are you sure you want to remove this item?",function(){h.submit()})});null!==f&&null!==m&&(f.onclick=function(){oo("Are you sure you want to unmute?",function(){m.submit()})})}).catch(function(){})};k.previous=function(){void 0!==this.Md&&this.Md.previous()};k.next=function(){void 0!==this.Md&&this.Md.next()};k.fr=function(){void 0!==this.Md&&this.Md.fr()};function FQ(a){a=void 0===a?!1:a;x.call(this);var b=this;this.vf=document.createElement("div");this.wj=document.createElement("div");this.Ca=document.createElement("div");this.Ul=this.nb=this.lm=!1;this.element.id="PhotoVideos";this.element.style.position="static";this.element.style.padding="21px 15px 15px 2px";this.element.style.boxSizing="border-box";this.element.className="photovideos-container";this.element.tabIndex=-1;this.yc=new AQ(a);this.yc.element.style.paddingLeft="13px";this.yc.element.classList.add("photoVideoDetailSection");a=document.createElement("div");this.element.appendChild(a);Jr(this.element,"text");a.appendChild(this.yc.element);this.vf.style.width=TP.sd+"px";this.vf.style.textAlign="left";this.vf.style.display="block";this.vf.style.fontSize="16px";this.vf.style.marginTop="20px";this.vf.style.fontWeight="bold";this.vf.style.paddingLeft="13px";a.appendChild(this.vf);this.tB();this.wj.classList.add("photoSetsDiv");a.appendChild(this.wj);this.uB();NP.h(function(c){void 0!==c&&DQ(b.yc,c.request.L,c.request.context,c.request.autoplay,c.request.scroll)});VP.h(function(c){for(var d=l(b.Wb),e=d.next();!e.done;e=d.next())e=e.value,e.id===c&&(e.mc=!0);d=l(b.cA);for(e=d.next();!e.done;e=d.next())e=e.value,e.L.id===c&&iQ(e)});B("keydown",this.element,function(c){switch(c.keyCode){case 37:c.preventDefault();c.stopPropagation();b.yc.previous();break;case 32:c.preventDefault();b.yc.fr();break;case 39:c.preventDefault(),c.stopPropagation(),b.yc.next()}})}q(FQ,x);k=FQ.prototype;k.Yn=function(a,b){this.lm=!0;this.A=a;this.zA();BQ(this.yc);this.ur(!0);void 0!==b&&this.oc(void 0,!1,b);this.Ul=!1;this.nb&&this.oc(void 0,!1)};k.H=function(){void 0!==this.parent?UP(this.parent.element):null!==this.element.parentElement&&UP(this.element.parentElement);this.vf.style.width=TP.sd+"px";this.wj.style.width=TP.sd+16+10+"px";void 0!==this.wh&&(this.wh.style.width=TP.sd+16+"px");this.yc.M()};k.show=function(a){if(!this.nb)if(this.nb=!0,L("PhotosetTabOpened"),this.element.style.height="",this.element.style.minHeight="250px",this.element.style.width="",this.element.style.padding="21px 15px 15px 2px",void 0!==a&&(Ab().scrollTop=this.element.offsetTop-100),!this.Ul)this.oc(a);else if(void 0!==a)for(var b=l(this.Wb),c=b.next();!c.done;c=b.next())c=c.value,c.id===a&&NP.j({request:{L:c,context:this.context,autoplay:!1,scroll:!0},pushState:!0})};k.D=function(){this.nb=!1;this.element.style.height="0px";this.element.style.minHeight="";this.element.style.width="0px";this.element.style.padding="0px"};k.oc=function(a,b,c){var d=this;b=void 0===b?!0:b;if(this.lm){var e=this.A;this.Ul=!0;var f=function(g){e===d.A&&(d.context=g,d.oy(g.Wb,a,b))};void 0!==c?f(c):RP(e).then(f)}};k.uB=function(){var a=this;this.Ca.style.position="relative";this.Ca.style.display="inline-block";this.Ca.style.width="152px";this.Ca.style.height="120px";this.Ca.style.lineHeight="100px";this.Ca.style.boxSizing="border-box";this.Ca.style.margin="0px 8px 17px";this.Ca.style.textAlign="center";this.Ca.style.overflow="hidden";this.Ca.style.verticalAlign="middle";this.Ca.style.cursor="pointer";this.Ca.onmouseenter=function(){a.Ca.style.textDecoration="underline"};this.Ca.onmouseleave=function(){a.Ca.style.textDecoration="none"};this.Ca.onclick=function(){a.AA();a.Jw()};var b=document.createElement("div");y(b,"showMoreText");b.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";b.style.fontSize="14px";b.textContent=Di;this.Ca.appendChild(b)};k.zA=function(){void 0!==this.wh&&(this.wj.removeChild(this.wh),this.wh=void 0)};k.tB=function(){this.wj.style.margin="9px 0";this.wj.style.width=TP.sd+16+"px";this.wj.style.lineHeight="15px";this.wj.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif"};k.oy=function(a,b,c){c=void 0===c?!0:c;this.cA=[];this.Wb=a;var d=document.createElement("div");y(d,"psContainer");d.style.display="inline-block";d.style.width=TP.sd+16+"px";d.style.padding="0 5px";d.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";var e=!1,f=0,g=16===this.Wb.length?16:15;for(this.index=0;this.index<g&&this.index<this.Wb.length;this.index+=1){var h=this.Wb[this.index],m=new fQ(h,this.context,{fontSize:14,hx:152,it:8});d.appendChild(m.element);this.cA.push(m);!e&&h.mc&&(f=this.index,e=!0)}this.wh=d;16<this.Wb.length&&this.Ms();0===this.Wb.length?(e=document.createElement("div"),y(e,"contentText"),e.style.marginLeft="8px",e.textContent=Ai,e.style.height="16px",d.appendChild(e),CQ(this.yc,"")):this.ur();this.wj.appendChild(d);if(void 0!==b)for(d=0;d<a.length;d+=1)a[d].id===b&&(f=d);0!==this.Wb.length&&NP.j({request:{L:this.Wb[f],context:this.context,autoplay:!1,scroll:c},pushState:!0})};k.Jw=function(){if(void 0!==this.wh)for(;this.index<this.Wb.length;this.index+=1){var a=new fQ(this.Wb[this.index],this.context,{fontSize:14,hx:152,it:8});this.wh.appendChild(a.element);this.cA.push(a)}};k.AA=function(){this.Ca.parentElement===this.wh&&this.wh.removeChild(this.Ca)};k.Ms=function(){void 0!==this.wh&&this.wh.appendChild(this.Ca)};k.ur=function(a){var b=this.vf;(void 0===a?0:a)?a="":(a=GQ(this.A),a=H(G("%(modelname)s's Pics & Videos"),{modelname:Ac(a)},!0));b.textContent=a};function GQ(a){return a.replace(/^\w/,function(b){return b.toUpperCase()})};var HQ={fontSize:"13px",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",width:"auto",height:"auto",position:"absolute",display:"none",overflow:"",cursor:"default",top:"0px",left:"0px"},IQ={width:"149px",maxHeight:"450px",overflowY:"auto",overflowX:"hidden",position:"relative",boxSizing:"border-box",padding:"8px",borderRadius:"0px 4px 4px 4px",WebkitBorderRadius:"0px 4px 4px 4px"};function JQ(a,b){zp.call(this,a);var c=this;this.mediaType=b;this.iy=!1;this.ox=new t("sortCollectionSet");this.element.style.marginTop="5px";this.element.style.boxShadow="rgb(0 0 0 / 20%) 0px 4px 16px 0px";Ov.h(function(){c.iy=!0});Pv.h(function(){c.iy=!1})}q(JQ,zp);JQ.prototype.vx=function(){return W("div",{className:"psSortingDropdown",colorClass:"tabActiveColor",style:HQ},W("div",{className:"psSortingContainer",style:IQ,colorClass:["tabActiveBgColor","tabBorderNoHover"]},KQ(this)))};JQ.prototype.xh=function(){zp.prototype.xh.call(this);this.iy&&(this.element.style.zIndex=""+(Tm(this.element)-2))};function KQ(a){return["Newest First","Top Sellers","Price (high to low)","Price (low to high)","Fan Club Only"].map(function(b){var c={};Kb()&&(c.onTouchEnd=function(){a.ox.j({mediaType:a.mediaType,ml:b})});return W("div",Object.assign({},c,{className:"psSortingOption",onClick:function(){a.ox.j({mediaType:a.mediaType,ml:b})},style:{marginBottom:"1px",padding:"4px",fontSize:"12px",fontWeight:"normal",fontFamily:"UbuntuRegular",cursor:"pointer"}}),b)})};function LQ(a){a=void 0===a?!1:a;x.call(this);var b=this;this.Ul=this.nb=this.lm=!1;this.element.id="PhotoVideos";this.element.style.position="static";this.element.style.padding="21px 15px 15px 2px";this.element.style.boxSizing="border-box";this.element.className="photovideos-container";this.element.tabIndex=-1;this.yc=new AQ(a);this.yc.element.style.paddingLeft="13px";this.yc.element.classList.add("photoVideoDetailSection");a=document.createElement("div");this.element.appendChild(a);Jr(this.element,"text");a.appendChild(this.yc.element);this.pn=new MQ;this.pn.element.style.position="relative";a.appendChild(this.pn.element);this.Wk=new NQ;this.Wk.element.style.position="relative";a.appendChild(this.Wk.element);NP.h(function(c){void 0===c?BQ(b.yc,""):DQ(b.yc,c.request.L,c.request.context,c.request.autoplay,c.request.scroll)});VP.h(function(c){b.Wb=b.Wb.map(function(d){d.id===c&&(d.mc=!0);return d});b.Wb.filter(function(d){return d.id===c})[0].Hb?OQ(b.pn,c):OQ(b.Wk,c)});B("keydown",this.element,function(c){switch(c.keyCode){case 37:c.preventDefault();c.stopPropagation();b.yc.previous();break;case 32:c.preventDefault();b.yc.fr();break;case 39:c.preventDefault(),c.stopPropagation(),b.yc.next()}})}q(LQ,x);k=LQ.prototype;k.Yn=function(a,b){this.lm=!0;this.A=a;BQ(this.yc);this.Wk.reset(a);this.pn.reset(a);void 0!==b&&this.oc(void 0,!1,b);this.Ul=!1;this.nb&&this.oc(void 0,!1)};k.H=function(){void 0!==this.parent?UP(this.parent.element):null!==this.element.parentElement&&UP(this.element.parentElement);this.Wk.M();this.pn.M();this.yc.M()};k.show=function(a){if(!this.nb)if(this.nb=!0,L("PhotosetTabOpened"),this.element.style.height="",this.element.style.minHeight="250px",this.element.style.width="",this.element.style.padding="21px 15px 15px 2px",void 0!==a&&(Ab().scrollTop=this.element.offsetTop-100),!this.Ul)this.oc(a);else if(void 0!==a)for(var b=l(this.Wb),c=b.next();!c.done;c=b.next())c=c.value,c.id===a&&NP.j({request:{L:c,context:this.context,autoplay:!1,scroll:!0},pushState:!0})};k.D=function(){this.nb=!1;this.element.style.height="0px";this.element.style.minHeight="";this.element.style.width="0px";this.element.style.padding="0px"};k.oc=function(a,b,c){var d=this;b=void 0===b?!0:b;if(this.lm){var e=this.A;this.Ul=!0;var f=function(g){if(e===d.A){d.context=g;var h=g.Wb.filter(function(n){return!n.Hb}),m=g.Wb.filter(function(n){return n.Hb});d.Wb=g.Wb;0===d.Wb.length?(CQ(d.yc,""),PQ(d.Wk)):(d.Wk.context=d.context,QQ(d.Wk,h),d.pn.context=d.context,QQ(d.pn,m));0!==d.Wb.length&&(void 0===a||isNaN(a)?(g=d.Wb.filter(function(n){return n.mc}),g=0<g.length?g[0]:d.Wb[0]):g=d.Wb.filter(function(n){return n.id===a})[0],NP.j({request:{L:g,context:d.context,autoplay:!1,scroll:b},pushState:!0}))}};void 0!==c?f(c):RP(e).then(f)}};function NQ(){x.call(this);this.Ip="picture";this.vf=document.createElement("div");this.Mh=document.createElement("div");this.ep=document.createElement("div");this.Uh=document.createElement("div");this.Ca=document.createElement("div");this.ml="Newest First";this.Qv=!1;J(this.ep,{width:TP.sd+"px",marginTop:"10px",paddingLeft:"13px"});J(this.vf,{textAlign:"left",display:"inline-block",fontSize:"16px",fontWeight:"bold"});J(this.Mh,{paddingLeft:"8px",display:"none",fontSize:"14px",cursor:"pointer"});this.Mh.className="psToggleSort";this.Mh.textContent="Filter by: "+this.ml;var a=document.createElement("div");a.className="psDropDownArrow";this.Mh.appendChild(a);this.ep.appendChild(this.vf);this.ep.appendChild(this.Mh);this.element.appendChild(this.ep);this.tB();this.Uh.classList.add("photoSetsDiv");this.element.appendChild(this.Uh)}q(NQ,x);k=NQ.prototype;k.H=function(){this.ep.style.width=TP.sd+"px";this.Uh.style.width=TP.sd+16+10+"px";void 0!==this.qd&&(this.qd.style.width=TP.sd+16+"px")};function PQ(a){var b=document.createElement("div");y(b,"psContainer");b.style.display="inline-block";b.style.width=TP.sd+16+"px";b.style.padding="0 5px";b.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";var c=document.createElement("div");y(c,"contentText");c.style.marginLeft="8px";c.textContent=Ai;c.style.height="16px";b.appendChild(c);a.qd=b;a.Uh.appendChild(a.qd)}
function OQ(a,b){a.pk=a.pk.map(function(d){d.id===b&&(d.mc=!0);return d});a=l(a.Pl);for(var c=a.next();!c.done;c=a.next())c=c.value,c.L.id===b&&iQ(c)}k.reset=function(a){this.A=a;this.zA();this.ur(!0)};function RQ(a){a.Mh.style.display="inline-block";var b=new JQ(a.Mh,a.Ip);a.Mh.onclick=function(){Kb()&&Sm(b.element,a.Mh)&&(b.element.style.marginTop="20px")};b.ox.h(function(c){var d=c.ml;c.mediaType===a.Ip&&(a.ml=d,a.Mh.textContent="Filter by: "+a.ml,c=document.createElement("div"),c.classList.add("psDropDownArrow"),a.Mh.appendChild(c),SQ(a,a.ml))})}
function SQ(a,b){TQ(a);var c=[];switch(b){case "Newest First":c=a.Pl.sort(function(e,f){e=e.L.id;f=f.L.id;return e>f?-1:e<f?1:0});break;case "Price (low to high)":c=a.Pl.sort(function(e,f){var g=e.L.Ja,h=f.L.Ja;return 0===g&&g===h?(e=e.L.In?1:0,f=f.L.In?1:0,e<f?-1:e>f?1:0):g<h?-1:g>h?1:0});break;case "Price (high to low)":c=a.Pl.sort(function(e,f){var g=e.L.Ja,h=f.L.Ja;return 0===g&&g===h?(e=e.L.In?1:0,f=f.L.In?1:0,e>f?-1:e<f?1:0):g>h?-1:g<h?1:0});break;case "Top Sellers":c=a.Pl.sort(function(e,f){e=e.L.yG;f=f.L.yG;return e>f?-1:e<f?1:0});break;case "Fan Club Only":c=a.Pl.filter(function(e){e=e.L.visibility;return a.context.Ek?"fanclub_only"===e||"fanclub_or_purchase"===e:"fanclub_only"===e}).sort(function(e,f){e=e.L.id;f=f.L.id;return e>f?-1:e<f?1:0})}0===c.length&&NP.j(void 0);b=c.filter(function(e){return e.L.vj||e.L.Ut});c=c.filter(function(e){return!e.L.vj&&!e.L.Ut});a.context.Za&&(c=c.concat(b));if(void 0!==a.qd){a.Qv||(c=c.slice(0,16));b=l(c);for(var d=b.next();!d.done;d=b.next())a.qd.appendChild(d.value.element)}b=16===a.pk.length?16:15;!a.Qv&&c.length>b&&a.Ms()}
function QQ(a,b){a.Pl=[];a.pk=b;b=document.createElement("div");y(b,"psContainer");b.style.display="inline-block";b.style.width=TP.sd+16+"px";b.style.padding="0 5px";b.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";for(var c=16===a.pk.length?16:15,d=0;d<a.pk.length;d++){var e=new fQ(a.pk[d],a.context,{fontSize:14,hx:152,it:8});a.Pl.push(e);d<c&&b.appendChild(e.element)}a.qd=b;16<a.pk.length&&(a.Ms(),a.uB());0<a.pk.length&&(a.ur(),RQ(a));a.Uh.appendChild(b);SQ(a,"Newest First")}
k.ur=function(a){var b=this.vf;(void 0===a?0:a)?a="":"picture"===this.Ip?(a=UQ(this.A),a=H(G("%(modelname)s's Pics"),{modelname:Ac(a)},!0)):(a=UQ(this.A),a=H(G("%(modelname)s's Videos"),{modelname:Ac(a)},!0));b.textContent=a};k.tB=function(){this.Uh.style.margin="9px 0";this.Uh.style.width=TP.sd+16+"px";this.Uh.style.lineHeight="15px";this.Uh.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif"};k.zA=function(){void 0!==this.qd&&(this.Uh.removeChild(this.qd),this.qd=void 0)};k.Jw=function(){TQ(this);void 0!==this.qd&&SQ(this,this.ml)};k.uB=function(){var a=this;this.Ca.style.position="relative";this.Ca.style.display="inline-block";this.Ca.style.width="152px";this.Ca.style.height="120px";this.Ca.style.lineHeight="100px";this.Ca.style.boxSizing="border-box";this.Ca.style.margin="0px 8px 17px";this.Ca.style.textAlign="center";this.Ca.style.overflow="hidden";this.Ca.style.verticalAlign="middle";this.Ca.style.cursor="pointer";this.Ca.onmouseenter=function(){a.Ca.style.textDecoration="underline"};this.Ca.onmouseleave=function(){a.Ca.style.textDecoration="none"};this.Ca.onclick=function(){a.Qv=!0;a.AA();a.Jw()};var b=document.createElement("div");y(b,"showMoreText");b.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";b.style.fontSize="14px";b.textContent="picture"===this.Ip?Bi:Ci;this.Ca.appendChild(b)};k.AA=function(){this.Ca.parentElement===this.qd&&this.qd.removeChild(this.Ca)};k.Ms=function(){this.Qv=!1;void 0!==this.qd&&this.qd.appendChild(this.Ca)};function TQ(a){if(void 0!==a.qd)for(var b=a.qd.lastElementChild;null!==b;)a.qd.removeChild(b),b=a.qd.lastElementChild}function MQ(){NQ.call(this);this.Ip="video";this.ep.style.marginTop="0px"}q(MQ,NQ);function UQ(a){return a.replace(/^\w/,function(b){return b.toUpperCase()})};function VQ(){x.call(this);this.Sj={};this.yH="selectedRoomTab";this.element.id="roomTabs";this.element.style.position="static";this.element.style.borderRadius="4px 4px 0 0";this.element.style.boxSizing="border-box";this.element.style.overflow="visible";this.element.style.paddingBottom="1px";this.Hh=new nx;y(this.Hh.element,"tabBar");J(this.Hh,{height:"30px",padding:"8px 4px",boxSizing:"border-box",overflow:"visible",borderRadius:"2px 2px 0 0"});this.I(this.Hh);this.en=new nx;J(this.en,{height:"24px",top:"-2px"});this.Hh.I(this.en)}q(VQ,x);k=VQ.prototype;k.ce=function(a,b,c){b=WQ(this,a,b,c);this.en.I(b.anchor);return this.Sj[a]=b};k.D=function(a){a=this.Sj[a];void 0!==a&&(a.anchor.element.style.display="none")};k.navigate=function(a){this.oh(a);this.Kv(this.Ri)};function WQ(a,b,c,d){var e=new xx("a");y(e.element,"tabLink");e.element.href="#";e.element.innerText=c;XQ(a,e,b,void 0);b===a.Ri&&YQ(e);c={anchor:e,instance:d};a.Sj[b]=c;d.D();a.I(d);e.element.onclick=function(){a.oh(b);a.Kv(a.Ri)};e.Tk.h(function(f){b===a.Ri?YQ(e):z(e.element,"tabOpen");f?(y(e,"tabCollapsed"),e.element.style.cssFloat="",e.element.style.marginTop="2px"):(z(e,"tabCollapsed"),e.element.style.cssFloat="left",e.element.style.marginTop="0")});return c}
function XQ(a,b,c,d){b.element.style.width="";b.element.style.height="17px";b.element.style.borderRadius="4px 4px 0 0";b.element.style.textDecoration="none";b.element.style.marginRight="2px";b.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";b.element.style.fontSize="13px";b.element.style.padding="4px 8px 4px 8px";b.element.style.position="relative";b.element.style.cssFloat="left";b.element.style.display="block";!0===d&&(b.element.style.display="none");b.element.onmouseenter=function(){YQ(b)};b.element.onmouseleave=function(){a.Ri!==c&&z(b.element,"tabOpen")}}k.lx=function(){if(mb()){var a=window.localStorage.getItem(this.yH);if(null!==a&&void 0!==this.Sj[a])return a}};k.Kv=function(a){mb()&&window.localStorage.setItem(this.yH,a)};function YQ(a){y(a.element,"tabOpen")}function ZQ(a,b){var c=a.Sj[b];void 0!==c&&(a.Ri===b&&a.oh(a.sD),c.anchor.Sa())}function $Q(a,b){a=a.Sj[b];void 0!==a&&a.anchor.ob()}
k.oh=function(a,b,c){if(this.Ri===a)void 0!==c&&c();else{var d=this.Sj[a];void 0!==d&&(d.anchor.element.style.display="block");if(void 0!==d&&d.anchor.$a()){for(var e=l(Object.keys(this.Sj)),f=e.next();!f.done;f=e.next())f=this.Sj[f.value],void 0!==f&&(z(f.anchor.element,"tabOpen"),f.instance.D());YQ(d.anchor);d.instance instanceof FQ||d.instance instanceof LQ?d.instance.show(b):d.instance.show(void 0,c);this.Ri=a}}};function aR(){x.call(this);this.mo=document.createElement("div");this.Tt=document.createElement("div");this.jB=this.Xo=!1;this.params={};this.pathname="";this.element.style.position="static";this.element.style.minHeight="325px";this.element.style.margin="14px";this.element.style.boxSizing="border-box";this.element.style.width="";this.element.style.height="";this.element.style.paddingLeft="8px";this.mo.innerText=Ne+"\u2026";this.mo.style.fontSize="1.2em";this.Tt.innerText="An error occurred trying to load this tab";this.Tt.style.fontSize="1.2em"}q(aR,x);aR.prototype.Cn=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};aR.prototype.load=function(a,b){var c=this;a=void 0===a?!0:a;this.jB=!1;if(""===this.pathname)this.Cn(),bR(this,{});else{a&&(this.Cn(),this.element.appendChild(this.mo));var d=Cn(this.params);E(this.pathname+"?"+d).then(function(e){try{var f=c.N(e.responseText)}catch(g){cR(c);w("Error parsing response from resource "+c.pathname+":",g);return}a&&c.mo.parentElement===c.element&&c.element.removeChild(c.mo);c.Cn();bR(c,f);void 0!==b&&b()}).catch(function(e){w("Fetch data error "+c.pathname+": "+e);cR(c)})}};function cR(a){a.Cn();a.jB=!0;a.element.appendChild(a.Tt)}aR.prototype.show=function(a,b){this.Xo=!0;this.element.style.display="";this.load(!0,b)};aR.prototype.D=function(){this.Xo=!1;this.element.style.display="none"};new t("selectApp",{Mf:0});new t("launchAppAction",{Mf:0});new t("reloadTab",{ef:100,Mf:1});function dR(){x.call(this);this.rF=new eR;this.Tb=document.createElement("p");this.ja=document.createElement("h2");this.em=document.createElement("p");this.ff=!1;y(this.element,"ContestStats");this.element.style.minHeight="800px";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.Tb.style.display="block";this.Tb.style.fontSize="12px";this.Tb.textContent="loading...";y(this.ja,"defaultTooltipColor");this.ja.innerText=gg+":";this.ja.style.fontSize="12px";this.ja.style.fontWeight="bold";y(this.em,"defaultTooltipColor");this.em.innerText=hg;this.em.style.fontSize="12px";this.em.style.padding="0.5em 0 1em 0";this.element.appendChild(this.Tb);this.element.appendChild(this.ja);this.element.appendChild(this.em);this.I(this.rF)}q(dR,x);dR.prototype.oc=function(){var a=this;this.ff=!0;return new Promise(function(b){E("api/ts/contest/leaderboard/?_="+(new Date).getTime()).then(function(c){c=new N(c.responseText);for(var d=[],e=l(bo(c,"top")),f=e.next();!f.done;f=e.next())f=f.value,d.push({CL:Bc(f.room_user),TG:f.room_slug,eL:f.points,hK:f.image_url,vs:f.viewers});ho(c);b(d);a.ff=!1}).catch(function(){a.ff=!1})})};dR.prototype.show=function(){var a=this;this.ff||(this.element.style.display="",this.Tb.style.display="block",this.ja.style.display="none",this.em.style.display="none",this.oc().then(function(b){a.Tb.style.display="none";a.ja.style.display="block";a.em.style.display="block";a.rF.refresh(b)}).catch(function(){}))};dR.prototype.D=function(){this.element.style.display="none"};function eR(a){a=void 0===a?!1:a;x.call(this);this.gG=a;this.rows=[];this.element.style.position="static";this.element.style.height="";this.element.style.width="";this.element.style.marginBottom="20px"}q(eR,x);eR.prototype.refresh=function(a){fR(this);gR(this,a)};function fR(a){a.rows.forEach(function(b){a.element.removeChild(b)});a.rows=[]}
function gR(a,b){function c(e){function f(fa,la){fa.style.cursor="pointer";if(void 0===la?0:la)fa.onmouseenter=function(){return fa.style.textDecoration="underline"},fa.onmouseleave=function(){return fa.style.textDecoration=""};a.gG||(fa.onclick=function(Ka){Ka.preventDefault();ac.j(e.TG)})}function g(fa){y(fa,"rowBorder");fa.style.display="table-cell";fa.style.verticalAlign="middle";fa.style.padding="5px"}function h(fa,la){var Ka=document.createElement("span"),Pe=document.createElement("span"),Kd=document.createElement("span");y(Ka,"statText");y(Kd,"statData");Ka.style.fontSize="12px";Ka.style.fontWeight="400";Pe.style.fontWeight="bold";Pe.style.verticalAlign="middle";Kd.style.verticalAlign="middle";Kd.style.margin="0 3px";Pe.textContent=fa;Kd.textContent=""+la;Ka.appendChild(Pe);Ka.appendChild(Kd);return Ka}var m=1===d?"topRow":"otherRows",n=document.createElement("div"),p=document.createElement("div"),v=document.createElement("img"),A=document.createElement("a"),D=document.createElement("div"),R=document.createElement("div"),K=document.createElement("a"),ca=document.createElement("div"),Oa=h(eg+":",e.vs),za=h(fg+":",e.eL);A.appendChild(v);R.appendChild(K);n.style.display="block";y(D,m);D.style.padding="5px";D.style.width="500px";y(p,m);p.style.fontSize=1===d?"20px":"16px";p.style.fontWeight="700";p.style.padding="5px";p.style.width="25px";y(R,m);y(K,m);K.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";R.style.fontSize=1===d?"20px":"16px";y(ca,"statsContainer");v.style.height="52px";v.style.width="52px";m="/"+e.TG+"/";K.href=m;A.href=m;a.gG&&(K.target="_blank",A.target="_blank");v.src=e.hK;K.textContent=Bc(e.CL);p.textContent=d+".";d+=1;g(p);g(A);g(D);f(K,!0);f(v,!1);Oa.style.margin="0 5px";za.style.margin="0 5px";R.style.margin="0 5px";D.appendChild(R);D.appendChild(ca);ca.appendChild(Oa);ca.appendChild(za);n.appendChild(p);n.appendChild(A);n.appendChild(D);return n}var d=1;b.forEach(function(e){e=c(e);a.rows.push(e);a.element.appendChild(e)})};function hR(){aR.call(this);var a=this;this.customSections=[];y(this.element,"BioContents");this.element.style.width="100%";this.element.style.margin="0 0 14px";this.mo.style.padding="14px 14px 0";this.Tt.style.padding="14px 14px 0";Wn.h(function(b){a.qj(b.C.A)});M.h(function(b){a.qj(b.C.A)})}q(hR,aR);k=hR.prototype;k.qj=function(a){this.A=a;var b=void 0===b?{}:b;this.pathname="api/biocontext/"+this.A+"/";this.params=b;this.load()};k.show=function(){this.element.style.display="";this.element.style.height="";this.element.style.minHeight="325px";void 0!==this.Ns&&this.Ns();void 0!==this.Os&&this.Os();this.jB&&this.load()};k.D=function(){this.element.style.height="0";this.element.style.minHeight="0";this.element.style.margin="0"};k.N=function(a){return XI(a,this.A)};k.Cn=function(){aR.prototype.Cn.call(this);iR(this)};function iR(a){void 0!==a.Os&&cp.removeListener(a.Os);void 0!==a.Ns&&cp.removeListener(a.Ns)}
function jR(a){iR(a);a.Os=ep(a.uK,["width","min-width"],117,150,500,600);a.Ns=ep(a.yM,["margin-right","padding-right"],0,14,500,530)}k.H=function(){for(var a=l(this.customSections),b=a.next();!b.done;b=a.next())$I(b.value,this.Zs)};function kR(a,b,c){c=void 0===c?!1:c;var d=b.zo.filter(function(f){return f.Hb}),e=b.zo.filter(function(f){return!f.Hb});if(0<d.length||c)d=lR(d,b.Ac.username,"video"),a.Uc.appendChild(d);if(0<e.length||c)b=lR(e,b.Ac.username),a.Uc.appendChild(b)}
function bR(a,b){var c=void 0===c?!1:c;a.Zs=W("div",{style:{paddingLeft:"14px",overflow:"hidden"}});a.Uc=W("table",{style:{tableLayout:"fixed",width:"100%"},ref:function(e){a.yM=e}},W("tr",{style:{height:"1px"}},W("th",{style:{width:"150px",minWidth:"150px"},ref:function(e){a.uK=e}}),W("th",null)),W("tr",{style:{verticalAlign:"top"}},W("th",{colSpan:2},W("h1",{colorClass:["defaultColor","bioHeader"],style:{fontSize:"14.4px",fontFamily:"UbuntuMedium, Arial, Helvetica, sans-serif",fontWeight:"normal",margin:"10px 0 20px",lineHeight:"20px",textAlign:"left"},ref:function(e){a.ja=e}}))));a.Zs.appendChild(a.Uc);a.element.appendChild(a.Zs);jR(a);var d=b.Ac;a.A===d.username&&(a.ja.innerText=Ac(a.A)+"'s "+Me,mR(a,d),1<=b.Xv.length&&(d=nR(b.Xv,b.Ac.username),a.Uc.appendChild(d)),1<=b.zo.length&&((new Fp("NewPhotoVideos")).active?kR(a,b,c):(c=a.oy(b.zo,b.Ac.username),a.Uc.appendChild(c))),1<=b.Es.length&&(c=oR(b.Es,qe),fA(c),a.Uc.appendChild(c),pR(a,c)),1<=b.xw.length&&(b=oR(b.xw,re),fA(b),a.Uc.appendChild(b),pR(a,b)),a.H())}
function mR(a,b){""!==b.sv&&a.Uc.appendChild(qR(ve,b.sv,!1));var c=a.Uc,d=c.appendChild;var e=b.ky;e=qR(we,isNaN(e)?"0":e.toString(),!1);d.call(c,e);""!==b.Lt&&a.Uc.appendChild(qR(Ae,b.Lt,!1));isNaN(b.bi)||a.Uc.appendChild(qR(Be,b.bi.toString(),!1));"A Couple"===b.Kj?a.Uc.appendChild(qR(ye,b.Kj,!1)):a.Uc.appendChild(qR(xe,b.Kj,!1));if(""!==b.uu){c=b.uu;for(c=c.slice(1,c.length-1);c.includes('"');)c=c.replace('"',"");c=c.split(",").join(", ");a.Uc.appendChild(qR(Ee,c,!1))}""!==b.location&&a.Uc.appendChild(qR(Fe,b.location,!1));void 0!==b.Fq&&""!==b.Fq&&a.Uc.appendChild(qR(He,b.Fq,!1));""!==b.languages&&a.Uc.appendChild(qR(Ge,b.languages,!1));""!==b.bt&&a.Uc.appendChild(qR(Ce,b.bt,!1));""!==b.Wv&&a.Uc.appendChild(qR(Ke,b.Wv,!1));""!==b.at&&a.Uc.appendChild(qR(De,b.at,!1))}
function nR(a,b){function c(h){var m=(new dA).anchor,n="/socials/social_media/"+b+"/"+h.id;m.href=n;m.style.position="relative";m.style.display="inline-block";m.style.marginBottom="17px";m.style.marginRight="5px";m.style.cursor="pointer";m.className="userUpload socialMediaUpload";m.title=h.jw;Um(m);m.onclick=function(){Kp(n,void 0,"resizable,dependent,scrollbars,height=700,width=700,top="+(screen.height/2-600)+",left="+(screen.width/2-800));return!1};var p=document.createElement("img");y(p,"previewBorder");p.src=h.Wn;p.width=150;p.height=100;p.style.borderWidth="1px";p.style.borderStyle="solid";p.style.display="block";p.style.borderRadius="3%";p.style.display="block";m.appendChild(p);p=document.createElement("span");y(p,"tokenText");p.innerText=h.wd;p.style.backgroundColor=h.Le;p.style.position="absolute";p.style.top="80px";p.style.right="8px";p.style.fontSize="9px";p.style.borderRadius="2px";p.style.padding="1px 3px";p.style.lineHeight="12px";m.appendChild(p);p=document.createElement("div");y(p,"link");p.innerText=h.jw;p.style.fontSize="14px";p.style.left="0px";p.style.maxWidth="145px";p.style.whiteSpace="nowrap";p.style.textOverflow="ellipsis";p.style.overflow="hidden";p.style.lineHeight="16px";p.style.textDecoration="none";m.appendChild(p);return m}for(var d=[],e=0,f=l(a),g=f.next();!g.done&&8!==e;g=f.next())d.push(c(g.value)),e+=1;d.push(rR(b,8<a.length));a=qR(dg,d);y(a,"smContainer");return a}
function rR(a,b){var c=document.createElement("div");c.style.marginBottom="20px";if(b){b=(new dA).anchor;var d="/socials/social_media/list_popup/"+a+"/";y(b,"link");b.href=d;b.innerText=$f;b.style.fontSize="14px";b.style.cursor="pointer";Um(b);b.onclick=function(e){Kp(d,void 0,"resizable,dependent,scrollbars,height=600,width=800,top="+screen.height/2+",left="+screen.width/2);e.preventDefault()};c.appendChild(b)}return c}
k.oy=function(a,b){function c(h){var m=(new dA).anchor;m.href="/photo_videos/photoset/detail/"+b+"/"+h.id;m.target="_blank";m.style.position="relative";m.style.display="inline-block";m.style.marginBottom="17px";m.style.marginRight="5px";m.style.cursor="pointer";Um(m);m.className="userUpload";Lb()||(m.title=h.name);m.onclick=function(v){ZI(h,"BioTab");Ur.j(h.id);v.preventDefault()};var n=document.createElement("img");y(n,"previewBorder");n.src=h.Fn;n.width=150;n.height=100;n.style.borderWidth="1px";n.style.borderStyle="solid";n.style.display="block";n.style.borderRadius="3%";n.style.display="block";m.appendChild(n);h.mc?h.mc&&h.tw&&(n=document.createElement("span"),y(n,"purchasedBadge"),n.style.backgroundColor="#6d85b5",n.style.color="#fff",n.style.position="absolute",n.style.top="80px",n.style.right="8px",n.style.padding="1px 3px",n.style.lineHeight="12px",n.style.borderRadius="2px",n.style.fontSize="9px",n.textContent=se,m.appendChild(n)):(n=document.createElement("div"),n.style.width="151px",n.style.height="101px",n.style.borderRadius="3%",n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.backgroundColor="rgba(0, 0, 0, .55)",m.appendChild(n),n=document.createElement("img"),n.src="https://static-assets.highwebmedia.com/tsdefaultassets/lock.svg",n.width=18,n.height=18,n.style.marginLeft="-9px",n.style.marginTop="-9px",n.style.position="absolute",n.style.left="50%",n.style.top="40%",n.style.padding="4px",n.style.border="none",m.appendChild(n),""!==h.wd&&(n=document.createElement("span"),y(n,"tokenText"),n.innerText=h.wd,n.style.backgroundColor=h.Le,n.style.position="absolute",n.style.top="80px",n.style.right="8px",n.style.fontSize="9px",n.style.padding="1px 3px",n.style.lineHeight="12px",n.style.borderRadius="2px",m.appendChild(n)));h.Hb&&(n=document.createElement("img"),n.src="https://static-assets.highwebmedia.com/tsdefaultassets/video.svg",n.height=18,n.style.position="absolute",n.style.top="8px",n.style.right="8px",m.appendChild(n));if(h.Hb&&!h.nn&&!h.vj){n=document.createElement("img");n.src="https://static-assets.highwebmedia.com/tsdefaultassets/no-audio.svg";n.height=18;n.style.position="absolute";n.style.top="8px";n.style.right="32px";var p=jp({content:""+Si,li:!1,width:175,ud:1,fe:"90px"});p.style.textAlign="center";y(p,"tooltip-white");z(p,"tooltip");p.appendChild(document.createElement("span"));m.appendChild(p);n.onmouseenter=function(){p.style.display="block";p.style.left="12px";p.style.top="-32px"};n.onmouseleave=function(){p.style.display="none"};m.appendChild(n)}n=document.createElement("div");y(n,"link");n.innerText=h.name;n.style.fontSize="14px";n.style.left="0px";n.style.maxWidth="145px";n.style.whiteSpace="nowrap";n.style.textOverflow="ellipsis";n.style.overflow="hidden";n.style.lineHeight="16px";n.style.textDecoration="none";m.appendChild(n);return m}for(var d=[],e=0,f=l(a),g=f.next();!g.done&&8!==e;g=f.next())d.push(c(g.value)),e+=1;d.push(sR(b,8<a.length));a=qR(ag,d);y(a,"psContainer");return a};function lR(a,b,c){function d(m){var n=(new dA).anchor;n.href="/photo_videos/photoset/detail/"+b+"/"+m.id;n.target="_blank";n.style.position="relative";n.style.display="inline-block";n.style.marginBottom="17px";n.style.marginRight="5px";n.style.cursor="pointer";Um(n);n.className="userUpload";Lb()||(n.title=m.name);n.onclick=function(A){ZI(m,"BioTab");Ur.j(m.id);A.preventDefault()};var p=document.createElement("img");y(p,"previewBorder");p.src=m.Fn;p.width=150;p.height=100;p.style.borderWidth="1px";p.style.borderStyle="solid";p.style.display="block";p.style.borderRadius="3%";p.style.display="block";n.appendChild(p);m.mc?m.mc&&m.tw&&(p=document.createElement("span"),y(p,"purchasedBadge"),p.style.backgroundColor="#6d85b5",p.style.color="#fff",p.style.position="absolute",p.style.top="80px",p.style.right="8px",p.style.padding="1px 3px",p.style.lineHeight="12px",p.style.borderRadius="2px",p.style.fontSize="9px",p.textContent=se,n.appendChild(p)):(p=document.createElement("div"),p.style.width="151px",p.style.height="101px",p.style.borderRadius="3%",p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.backgroundColor="rgba(0, 0, 0, .55)",n.appendChild(p),p=document.createElement("img"),p.src="https://static-assets.highwebmedia.com/tsdefaultassets/lock.svg",p.width=18,p.height=18,p.style.marginLeft="-9px",p.style.marginTop="-9px",p.style.position="absolute",p.style.left="50%",p.style.top="40%",p.style.padding="4px",p.style.border="none",n.appendChild(p),""!==m.wd&&(p=document.createElement("span"),y(p,"tokenText"),p.innerText=m.wd,p.style.backgroundColor=m.Le,p.style.position="absolute",p.style.top="80px",p.style.right="8px",p.style.fontSize="9px",p.style.padding="1px 3px",p.style.lineHeight="12px",p.style.borderRadius="2px",n.appendChild(p)));m.Hb&&(p=document.createElement("img"),p.src="https://static-assets.highwebmedia.com/tsdefaultassets/video.svg",p.height=18,p.style.position="absolute",p.style.top="8px",p.style.right="8px",n.appendChild(p));if(m.Hb&&!m.nn&&!m.vj){p=document.createElement("img");p.src="https://static-assets.highwebmedia.com/tsdefaultassets/no-audio.svg";p.height=18;p.style.position="absolute";p.style.top="8px";p.style.right="32px";var v=jp({content:""+Si,li:!1,width:175,ud:1,fe:"90px"});v.style.boxShadow="0px 2px 8px rgba(0, 0, 0, 0.25)";v.style.textAlign="center";y(v,"tooltip-white");z(v,"tooltip");v.appendChild(document.createElement("span"));n.appendChild(v);p.onmouseenter=function(){v.style.display="block";v.style.left="12px";v.style.top="-32px"};p.onmouseleave=function(){v.style.display="none"};n.appendChild(p)}p=document.createElement("div");y(p,"link");p.innerText=m.name;p.style.fontSize="14px";p.style.left="0px";p.style.maxWidth="145px";p.style.whiteSpace="nowrap";p.style.textOverflow="ellipsis";p.style.overflow="hidden";p.style.lineHeight="16px";p.style.textDecoration="none";n.appendChild(p);return n}c=void 0===c?"photo":c;for(var e=[],f=0,g=l(a),h=g.next();!h.done&&8!==f;h=g.next())e.push(d(h.value)),f+=1;a=sR(b,8<a.length);a.style.marginBottom="20px";e.push(a);c=qR("video"===c?cg:bg,e);y(c,"psContainer");return c}function sR(a,b){var c=document.createElement("div");b&&(b=(new dA).anchor,b.href="/photo_videos/photoset/list_popup/"+a+"/",y(b,"link"),b.innerText=$f,b.style.fontSize="14px",b.style.cursor="pointer",Um(b),b.onclick=function(d){Ur.j(void 0);d.preventDefault()},c.appendChild(b));return c}
function qR(a,b,c){c=void 0===c?!1:c;return W("tr",{style:{fontSize:"14px",fontWeight:"normal",lineHeight:"15px",verticalAlign:"top",textAlign:"left"}},W("td",{colorClass:"label",style:{paddingBottom:"9px",fontFamily:"UbuntuMedium, Arial, Helvetica, sans-serif",height:"16px"}},W("span",null,a,":")),W("td",{colorClass:"contentText",style:{fontSize:"14px",lineHeight:"16px",fontFamily:"UbuntuRegular, Arial, Helvetica, sans-serif"},ref:function(d){if("string"===typeof b)if(c){var e=W("div",null);d.appendChild(e);e.innerHTML=b;0!==e.children.length&&(e.children[0].style.display="unset")}else d.innerText=b;else b.forEach(function(f){d.appendChild(f)})}}))}function oR(a,b){return qR(Ac(b),a,!0)}function pR(a,b){a.customSections.push(b);$I(b,a.Zs)};var tR,uR=new t("recaptchaLoaded",{Mf:1});window.recaptchaLoadCallback=function(){tR=window.grecaptcha;uR.j(void 0)};function vR(){x.call(this);this.element.style.height="";this.element.style.width=""}q(vR,x);vR.prototype.render=function(a){var b=this;uR.once(function(){void 0===a.theme&&(a.theme=document.body.classList.contains("darkmode")?"dark":"light");void 0===b.listener&&(b.listener=ec.h(function(d){void 0!==b.wl&&(b.wl.parameters.theme="darkmode"===d?"dark":"light",b.reset())}));var c=tR.render(b.element,a);b.wl={UH:c,parameters:a}})};vR.prototype.reset=function(){if(void 0!==this.wl&&(tR.reset(this.wl.UH),void 0!==this.wl)){var a=this.element.getElementsByTagName("iframe")[0];a.src="dark"===this.wl.parameters.theme?a.src.replace("theme=light","theme=dark"):a.src.replace("theme=dark","theme=light")}};vR.prototype.getResponse=function(){return void 0!==this.wl?tR.getResponse(this.wl.UH):""};function wR(){}wR.prototype.cw=function(a){y(a,"defaultColor");a.style.textAlign="right";a.style.fontWeight="bold";a.style.font="1em/1.3em 'UbuntuMedium', Arial, Helvetica, sans-serif";a.style.padding="0";a.style.margin="0 4px 0 0"};wR.prototype.Vr=function(a){y(a,"defaultColor")};wR.prototype.se=function(a){y(a,"field");a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.borderRadius="4px";a.style.padding="2px 4px";a.style.lineHeight="18px";a.style.marginTop="4px";a.style.width="225px"};function xR(a){y(a,"defaultColor");a.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";a.style.fontSize="11px";a.style.width="350px"}function yR(){}q(yR,wR);yR.prototype.se=function(a){wR.prototype.se.call(this,a);a.style.width="auto";a.style.marginTop="7px"};function zR(){}q(zR,yR);zR.prototype.se=function(a){yR.prototype.se.call(this,a);a.style.height="";a.size=10};function AR(){}q(AR,wR);function BR(){}q(BR,wR);BR.prototype.se=function(a){y(a,"fieldTextArea");a.style.width="350px";a.style.lineHeight="18px";a.style.marginTop="4px";a.style.borderWidth="1px";a.style.borderStyle="solid";a.style.borderRadius="4px";a.style.padding="2px 4px";a.style.overflow="hidden";a.style.height="150px"};function CR(){}q(CR,wR);CR.prototype.Vr=function(a){wR.prototype.Vr.call(this,a);a.style.paddingTop="7px"};function DR(){}q(DR,wR);DR.prototype.Vr=function(a){wR.prototype.Vr.call(this,a);a.style.paddingTop="7px"};DR.prototype.se=function(a){wR.prototype.se.call(this,a);a.style.width="auto";a.style.marginTop="7px"};function ER(){}q(ER,wR);ER.prototype.se=function(a){wR.prototype.se.call(this,a);a.style.position="";a.style.padding="";a.style.overflow="";a.style.background="";a.style.border=""};function FR(a){this.disabled=this.required=!1;this.errorMessage="";this.Je(a);this.dm=document.createElement("div");y(this.dm,"fieldError");this.dm.style.display="none";this.label=document.createElement("label");this.oa.cw(this.label);this.label.innerText=this.wd+": "+(this.required?"*":"");a=this.Au=document.createElement("th");a.style.minWidth="130px";a.style.width="auto";a.style.paddingTop="10px";a.style.paddingBottom="1px";a.style.verticalAlign="top";a.style.textAlign="right";""===this.wd&&(this.Au.style.display="none");this.Jg=document.createElement("td");this.oa.Vr(this.Jg);this.Au.appendChild(this.label);this.Ug();this.xn();a=this.Jg;var b=a.appendChild;if(this.Ie instanceof HTMLElement){xR(this.Ie);var c=this.Ie}else c=document.createElement("div"),""===this.Ie?c.style.display="none":(xR(c),c.innerHTML=this.Ie);b.call(a,c);this.Jg.appendChild(this.dm)}k=FR.prototype;k.Je=function(a){this.name=a.name;this.defaultValue=void 0===a.defaultValue?"":String(a.defaultValue);this.wd=void 0===a.wd?"":a.wd;this.Ie=void 0===a.Ie?"":a.Ie;this.required=void 0===a.required?!1:a.required;this.disabled=void 0===a.disabled?!1:a.disabled;this.onChange=void 0===a.onChange?function(){}:a.onChange;this.oa=void 0===a.oa?new wR:a.oa};k.bu=function(){return this.fi};k.ji=function(){return this.name};k.Lz=function(){};k.Dn=function(){this.dm.style.display="none";this.dm.innerText="";z(this.label,"fieldError");this.oa.cw(this.label)};k.Ir=function(a){this.onChange=a};k.Ug=function(){this.fi=document.createElement("tr");this.fi.style.padding="3px 0";this.fi.appendChild(this.Au);this.fi.appendChild(this.Jg)};function GR(a){FR.call(this,a)}q(GR,FR);GR.prototype.ed=function(){return this.bg.value};GR.prototype.ig=function(){var a=document.createElement("input");a.name=this.name;a.value=this.defaultValue;this.oa.se(a);a.style.width="225px";a.required=this.required;a.disabled=this.disabled;void 0!==this.minLength&&(a.minLength=this.minLength);void 0!==this.maxLength&&(a.maxLength=this.maxLength);return a};GR.prototype.xn=function(){this.bg=this.ig();this.Jg.appendChild(this.bg)};GR.prototype.Je=function(a){FR.prototype.Je.call(this,a);this.minLength=a.minLength;this.maxLength=a.maxLength;this.oa=void 0===a.oa?new AR:a.oa};function HR(a){FR.call(this,a)}q(HR,FR);HR.prototype.ed=function(){return this.bg.value};HR.prototype.ig=function(){function a(){var c=b.offsetHeight-b.clientHeight;b.style.height="auto";b.style.height=b.scrollHeight+c+15+"px"}var b=document.createElement("textarea");b.name=this.name;b.id="id_"+this.name;b.value=this.defaultValue;b.required=this.required;b.disabled=this.disabled;void 0!==this.minLength&&(b.minLength=this.minLength);void 0!==this.maxLength&&(b.maxLength=this.maxLength);this.oa.se(b);window.setTimeout(function(){a()},0);B("input",b,function(){a()});return b};HR.prototype.xn=function(){this.bg=this.ig();this.Jg.appendChild(this.bg)};HR.prototype.Je=function(a){FR.prototype.Je.call(this,a);this.minLength=a.minLength;this.maxLength=a.maxLength;this.oa=void 0===a.oa?new BR:a.oa};function IR(a){FR.call(this,a)}q(IR,FR);IR.prototype.ed=function(){return this.bg.value};IR.prototype.ig=function(){var a=this,b=document.createElement("select");b.name=this.name;this.oa.se(b);for(var c=l(this.Sh),d=c.next();!d.done;d=c.next()){d=d.value;var e=document.createElement("option");e.innerText=String(d.label);e.value=String(d.value);b.appendChild(e)}b.multiple=this.multiple;b.required=this.required;b.value=this.defaultValue;b.disabled=this.disabled;B("change",b,function(){a.onChange(a)});return b};IR.prototype.xn=function(){this.bg=this.ig();this.Jg.appendChild(this.bg)};IR.prototype.Je=function(a){FR.prototype.Je.call(this,a);this.multiple=void 0===a.multiple?!1:a.multiple;this.Sh=void 0===a.Sh?[]:a.Sh;this.oa=void 0===a.oa?new yR:a.oa;"true"===this.defaultValue?this.defaultValue="True":"false"===this.defaultValue&&(this.defaultValue="False")};function JR(){GR.apply(this,arguments)}q(JR,GR);JR.prototype.ig=function(){var a=this,b=document.createElement("input");b.name=this.name;b.value=this.defaultValue;b.checked="True"===this.defaultValue;b.required=this.required;b.disabled=this.disabled;b.type="checkbox";this.oa.se(b);B("change",b,function(){a.bg.value=b.checked?"True":"False";a.onChange(a)});return b};JR.prototype.ed=function(){return this.bg.value};JR.prototype.Je=function(a){GR.prototype.Je.call(this,a);this.oa=void 0===a.oa?new CR:a.oa;"true"===this.defaultValue?this.defaultValue="True":"false"===this.defaultValue&&(this.defaultValue="False")};JR.prototype.To=function(a){this.bg.checked=a};function KR(a){FR.call(this,a)}q(KR,GR);KR.prototype.ed=function(){for(var a=[],b=l(this.WC),c=b.next();!c.done;c=b.next())c=c.value,c.ua.checked&&a.push(c.ua.value);return a};KR.prototype.Je=function(a){GR.prototype.Je.call(this,a);this.Sh=void 0===a.Sh?[]:a.Sh;this.oa=void 0===a.oa?new DR:a.oa};KR.prototype.xn=function(){var a=document.createElement("div");this.WC=[];for(var b=l(this.Sh),c=b.next();!c.done;c=b.next()){var d=c.value;c=new Xr(16,-1!==this.defaultValue.indexOf(String(d.value)));c.ua.name=this.name;c.ua.value=String(d.value);this.oa.se(c.element);this.disabled&&c.disable();c.element.style.marginRight="3px";c.element.style.transform="translateY(4px)";this.WC.push(c);var e=document.createElement("label");e.style.padding="0 10px 0 0";d=document.createTextNode(String(d.label));e.appendChild(c.element);e.appendChild(d);a.appendChild(e)}this.Jg.appendChild(a)};function LR(a){a=Object.assign(Object.assign({},a),{Sh:[]});FR.call(this,a)}q(LR,IR);LR.prototype.Je=function(a){IR.prototype.Je.call(this,Object.assign(Object.assign({},a),{Sh:[]}));this.pJ=void 0===a.day?"0":a.day.toString(10);this.qJ=void 0===a.month?"0":a.month.toString(10);this.rJ=void 0===a.year?"0":a.year.toString(10)};LR.prototype.ed=function(){return[this.FF.value,this.qD.value,this.VH.value]};function MR(a,b,c,d){var e=document.createElement("select");e.name=a.name+"_"+d;a.oa.se(e);b=l(b);for(d=b.next();!d.done;d=b.next()){d=d.value;var f=document.createElement("option");f.innerText=""+d.label;f.value=""+d.value;e.appendChild(f)}e.value=c;e.required=a.required;return e}
LR.prototype.xn=function(){var a=[];a.push({label:"---",value:"0"});for(var b=1;31>=b;b+=1){var c=b.toString(10);a.push({label:c,value:c})}this.qD=MR(this,a,this.pJ,"day");a=[];b=[hl,il,jl,kl,ll,ml,nl,ol,pl,ql,rl,sl];a.push({label:"---",value:"0"});for(c=0;c<b.length;c+=1)a.push({label:b[c],value:(c+1).toString(10)});this.FF=MR(this,a,this.qJ,"month");a=[];b=(new Date).getFullYear()-18;for(a.push({label:"---",value:"0"});1900<b;--b)c=b.toString(10),a.push({label:c,value:c});this.VH=MR(this,a,this.rJ,"year");this.Jg.appendChild(this.FF);this.Jg.appendChild(this.qD);this.Jg.appendChild(this.VH)};function NR(a){FR.call(this,a)}q(NR,FR);k=NR.prototype;k.Je=function(a){FR.prototype.Je.call(this,a);this.oa=void 0===a.oa?new ER:a.oa;this.sitekey=a.kB};k.ed=function(){return this.rr.getResponse()};k.ig=function(){this.rr=new vR;this.oa.se(this.rr.element);return this.rr.element};k.xn=function(){this.bg=this.ig();this.rr.render({sitekey:this.sitekey});this.Jg.appendChild(this.bg)};k.Lz=function(){FR.prototype.Lz.call(this);this.rr.reset()};function OR(a){var b=new N(a),c=bo(b,"initial"),d=co(b,"schema"),e=Yn(d,"fieldsets");e=void 0===e?[]:e.map(function(n){return{Zb:Zn(n,"fields"),label:Q(n,"label")}});a=JSON.parse(a).schema.fields;for(var f={},g=l(Object.keys(a)),h=g.next();!h.done;h=g.next()){h=h.value;var m=new N(JSON.stringify(a[h]));f[h]={defaultValue:null===c[h]?void 0:c[h],name:h,minLength:$n(m,"min_length"),maxLength:$n(m,"max_length"),jO:P(m,"empty_value"),Sh:PR(Yn(m,"choices")),required:T(m,"required"),disabled:T(m,"disabled"),Ie:Q(m,"help_text"),wd:Q(m,"label"),SD:Q(m,"type"),kB:P(m,"site_key")};ho(m)}return{lO:bo(b,"extra"),initial:c,Hj:{prefix:P(d,"prefix"),Zb:f,cq:e,WO:P(d,"label_suffix"),TD:Zn(d,"field_order")}}}
function PR(a){if(void 0===a)return[];var b=[];a=l(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=b;var e=c.push,f=S(d,"label");var g=void 0;g=void 0===g?!0:g;var h=O(d,"value");"string"!==typeof h&&"number"!==typeof h&&"boolean"!==typeof h?(g&&u("getStringWithNumbersOrBoolean(value): "+h+" is wrong type",{message:d.Sf}),d=""):d="boolean"===typeof h?h:""+h;e.call(c,{label:f,value:d})}return b}
function QR(a,b,c){c=void 0===c?{}:c;x.call(this,"form");var d=this;this.data=a;this.Zb={};this.cq={};this.ff=!1;RR(this,c);this.element.style.position="static";a=document.createElement("table");this.element.appendChild(a);this.xB=document.createElement("tbody");a.appendChild(this.xB);this.Kb=this.Kx();this.element.appendChild(this.Kb);SR(this);this.element.onsubmit=function(e){e.preventDefault();TR(d);if(!d.ff){d.ff=!0;var f=new FormData(d.element);F(b,f).then(function(){d.ff=!1;d.options.gv(f)}).catch(function(g){var h;d.ff=!1;var m=JSON.parse(g.$d.responseText).errors;if(null!==m&&"object"===typeof m){for(var n=l(Object.keys(d.Zb)),p=n.next();!p.done;p=n.next())null===(h=d.Zb[p.value])||void 0===h?void 0:h.Lz();for(var v in m){h=m[v][0];if("string"!==typeof h)break;n=d.bu(v);void 0===n?w("Form error on unknown field "+v):(n.dm.style.display="",n.dm.innerText=h,y(n.label,"fieldError"))}d.options.fv(g)}})}}}q(QR,x);function RR(a,b){var c={fi:new wR,ua:new CR,input:new AR,select:new yR,HM:new BR,LP:new DR,GK:new zR,OK:new ER};a.options={gv:void 0===b.gv?function(){}:b.gv,fv:void 0===b.fv?function(){}:b.fv,oa:void 0===b.oa?c:Object.assign(Object.assign({},c),b.oa)}}
function SR(a){if(0<a.data.Hj.TD.length)for(var b=l(a.data.Hj.TD),c=b.next();!c.done;c=b.next())UR(a,a.ig(a.data.Hj.Zb[c.value]));else if(void 0!==a.data.Hj.cq){b=l(a.data.Hj.cq);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=a.xB,f=e.appendChild;c=a;var g=d.label,h=document.createElement("fieldset"),m=document.createElement("table"),n=document.createElement("tbody"),p=h,v=p.appendChild,A=g,D=document.createElement("legend");y(D,"label");D.innerText=A;D.style.fontSize="1.266em";D.style.fontFamily="'UbuntuMedium', Arial, Helvetica, sans-serif";D.style.fontWeight="normal";D.style.padding="10px 0px 10px 0px";v.call(p,D);h.appendChild(m);m.appendChild(n);c.cq[g]=n;f.call(e,h);e=l(d.Zb);for(c=e.next();!c.done;c=e.next())f=a,c=a.ig(a.data.Hj.Zb[c.value]),g=d.label,h=f.cq[g],void 0===h?w("Fieldset "+g+" does not exist"):void 0!==f.Zb[c.ji()]?w("Field "+c.ji()+" already exists"):(f.Zb[c.ji()]=c,h.appendChild(c.bu()))}}else for(b=l(Object.keys(a.data.Hj.Zb)),c=b.next();!c.done;c=b.next())UR(a,a.ig(a.data.Hj.Zb[c.value]))}
QR.prototype.ig=function(a){var b;switch(a.SD){case "CharField":return void 0===a.maxLength?new HR(Object.assign(Object.assign({},a),{oa:this.options.oa.HM})):new GR(Object.assign(Object.assign({},a),{oa:this.options.oa.input}));case "EmailField":return new GR(Object.assign(Object.assign({},a),{oa:this.options.oa.input}));case "BooleanField":return new JR(Object.assign(Object.assign({},a),{oa:this.options.oa.ua}));case "ChoiceField":return new IR(Object.assign(Object.assign({},a),{oa:this.options.oa.select}));case "TypedChoiceField":return new IR(Object.assign(Object.assign({},a),{oa:this.options.oa.select}));case "MultiSelectFormField":return new KR(Object.assign(Object.assign({},a),{oa:this.options.oa.GK}));case "DateField":return new LR(Object.assign(Object.assign({},a),{day:this.data.initial[a.name+"__day"],month:this.data.initial[a.name+"__month"],year:this.data.initial[a.name+"__year"],oa:this.options.oa.select}));case "NoReCaptchaField":var c=null!==(b=a.kB)&&void 0!==b?b:"";""===c&&w("siteKey must be provided for NoReCaptchaField");return new NR(Object.assign(Object.assign({},a),{kB:c,oa:this.options.oa.OK}));default:return w("DjangoForm received an unknown field type: "+a.SD),new GR({name:""})}};function UR(a,b){void 0!==a.Zb[b.ji()]?w("Field "+b.ji()+" already exists"):(a.Zb[b.ji()]=b,a.xB.appendChild(b.bu()))}function TR(a){for(var b=l(Object.keys(a.Zb)),c=b.next();!c.done;c=b.next())c=a.Zb[c.value],void 0!==c&&c.Dn()}
QR.prototype.Kx=function(){var a=document.createElement("input");a.type="submit";a.value=xh;a.className="button";a.style.display="block";a.style.cursor="pointer";a.style.padding="0px 30px 2px 15px";a.style.margin="15px 0px 0px 137px";a.style.width="auto";a.style.height="28px";a.style.borderRadius="4px";a.style.font="1.16em/1.0em 'UbuntuMedium', Arial, Helvetica, sans-serif";return a};QR.prototype.bu=function(a){return this.Zb[a]};new t("privateSettingsClicked");new t("groupShowsSettingsClicked");new t("broadcastSettingsSaved");function VR(a){function b(d){void 0!==c.mb&&(WR(c.mb),a.removeChild(c.mb.element));c.mb=new YR(d,c.element,function(){c.GB=!1});a.appendChild(c.mb.element);ZR(c,Uc(d.C.A))}NI.call(this);var c=this;this.GB=!1;this.element.id="satisfactionScore";this.element.style.width="auto";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.padding="4px 10px";this.element.style.position="relative";this.element.style.top="-4px";this.element.style.right="1px";this.element.style.cssFloat="right";this.element.style.borderRadius="4px";this.element.style.cursor="pointer";this.element.style.marginRight="5px";this.element.onmouseenter=function(){if(!c.GB){c.ac.style.display="block";var d=c.element.getBoundingClientRect();c.ac.style.top=a.offsetHeight+8+"px";c.ac.style.left=d.left+Ab().scrollLeft+(d.width-c.ac.offsetWidth)/2+"px"}};this.element.onmouseleave=function(){c.ac.style.display="none"};this.ac=jp({content:"",li:!1,width:220,ud:0,fe:"123px",borderWidth:1});z(this.ac,"tooltip");y(this.ac,"whiteModal");this.ac.style.lineHeight="22px";this.ac.style.fontSize="14px";this.ac.style.borderWidth="1px";this.ac.style.borderRadius="4px";this.ac.style.padding="8px 0px 8px 8px";this.ac.style.boxShadow="0px 4px 16px rgba(0, 0, 0, 0.08)";this.ac.appendChild(document.createElement("span"));a.appendChild(this.ac);M.h(function(d){b(d)});Wn.h(function(d){b(d)});this.Kt()}q(VR,NI);VR.prototype.H=function(){void 0!==this.mb&&this.mb.H()};function ZR(a,b){a.ac.lastChild.innerText=b}function SI(a,b){a.GB=!0;void 0!==a.mb&&(a.mb.show(b),a.ac.style.display="none")}VR.prototype.Qt=function(){z(this.element,"disabled");y(this.element,"enabled");NI.prototype.Qt.call(this)};VR.prototype.Kt=function(){z(this.element,"enabled");y(this.element,"disabled");NI.prototype.Kt.call(this)};function YR(a,b,c){x.call(this);var d=this;this.HL=b;this.uh=c;this.Sg=document.createElement("div");this.label=document.createElement("label");this.Zc=document.createElement("textarea");this.Re=document.createElement("input");this.K="";this.lr=!1;this.hidden=!0;this.K=a.C.A;this.element.id="satisfactionComment";this.element.style.display="none";this.element.style.width="350px";this.element.style.height="auto";this.element.style.borderWidth="2px";this.element.style.borderStyle="solid";this.element.style.borderRadius="4px";this.element.style.top="0px";this.element.style.right="0px";this.element.style.overflow="";this.element.style.zIndex="11";this.element.onclick=function(e){e.stopPropagation()};b=zo("","","176px");y(b,"divot");this.element.appendChild(b);b=document.createElement("div");y(b,"header");b.innerText=Tg;b.style.boxSizing="border-box";b.style.width="100%";b.style.fontSize="15px";b.style.fontWeight="bold";b.style.padding="6px";b.style.borderRadius="4px 4px 0px 0px";this.element.appendChild(b);b=document.createElement("div");b.style.padding="6px";b.style.fontSize="13px";b.innerText=Vc(a.C.A);this.element.appendChild(b);this.element.appendChild(this.Sg);$R(this);this.D=function(){WR(d)};this.element.onmousemove=function(){aS(d,1E4)}}q(YR,x);YR.prototype.show=function(a){this.hidden&&(B("click",document,this.D),this.hidden=!1);this.element.style.display="block";if(a){for(this.Zc.value="";null!==this.Sg.firstChild;)this.Sg.removeChild(this.Sg.firstChild);this.Sg.appendChild(this.label);this.Sg.appendChild(this.Zc);this.Sg.appendChild(this.Re)}this.H();null!==this.Zc.parentNode&&this.Zc.focus();aS(this,1E4)};YR.prototype.H=function(){if(null!==this.element.parentNode){var a=this.HL.getBoundingClientRect();this.element.style.top="35px";this.element.style.left=a.left+Ab().scrollLeft+(a.width-this.element.offsetWidth)/2-40+"px"}};function $R(a){a.label.style.fontSize="13px";a.label.style.fontWeight="bold";a.label.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";a.label.style.margin="6px";a.label.innerText=Ug;y(a.Zc,"textBox");a.Zc.maxLength=155;a.Zc.style.width="338px";a.Zc.style.resize="none";a.Zc.style.fontSize="13px";a.Zc.style.margin="6px";a.Zc.style.padding="4px";a.Zc.style.borderWidth="1px";a.Zc.style.borderStyle="solid";a.Zc.style.borderRadius="4px";a.Zc.style.boxSizing="border-box";a.Zc.style.display="block";a.Zc.style.height="81px";a.Zc.value="";a.Zc.oninput=function(){bS(a)};y(a.Re,"submitBtn");a.Re.setAttribute("type","submit");a.Re.style.fontSize="12px";a.Re.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";a.Re.style.padding="5px 8px 4px";a.Re.style.marginRight="6px";a.Re.style.marginBottom="10px";a.Re.style.borderRadius="4px";a.Re.style.boxSizing="border-box";a.Re.style.cursor="pointer";a.Re.style.display="inline-block";a.Re.style.cssFloat="right";a.Re.value="SUBMIT";a.Re.onclick=function(b){b.stopImmediatePropagation();cS(a,a.Zc.value)}}function cS(a,b){F("tipping/add_comment/"+a.K+"/",{comment:b}).then(function(){for(;null!==a.Sg.firstChild;)a.Sg.removeChild(a.Sg.firstChild);var c=document.createElement("div");y(c,"submittedMsg");c.style.width="300px";c.style.margin="25px";c.style.textAlign="center";c.style.fontSize="13px";c.innerText=Vg;a.Sg.appendChild(c);a.lr=!1;aS(a,5E3)}).catch(function(c){w("Error rating model: "+c)})}
function bS(a){clearTimeout(a.lu);a.lr=!0;a.lu=window.setTimeout(function(){a.lr=!1;aS(a,1E4)},3E4)}function aS(a,b){a.lr||(clearTimeout(a.lu),a.lu=window.setTimeout(function(){WR(a)},b))}function WR(a){a.hidden||(clearTimeout(a.lu),C("click",document,a.D),a.lr=!1,a.uh(),a.element.style.display="none",a.hidden=!0)};function dS(a){return{A:Q(a,"room"),label:Q(a,"label"),cf:Q(a,"img"),ii:Q(a,"gender"),wH:Q(a,"subject"),JM:Q(a,"time_online"),vs:U(a,"viewers"),location:P(a,"location"),bi:Q(a,"display_age"),sg:T(a,"is_following")}}
function eS(a,b,c,d){x.call(this);this.animate=d;this.K=a.A;this.pa=c;this.sg=a.sg;c=this.element;y(c,"roomCard");y(c,"camBgColor");y(c,"camBorderColor");c.style.display="inline-block";c.style.width="180px";c.style.cssFloat="left";c.style.margin="0 7px 7px 0";c.style.borderWidth="1px";c.style.borderStyle="solid";c.style.borderRadius="4px";c.style.webkitBorderRadius="4px";c.style.maxHeight="222px";c.style.overflow="hidden";c.style.position="relative";d=document.createElement("a");y(d,"camHrefColor");d.style.textDecoration="none";d.href="/"+a.A+"/";d.onclick=b;this.cf=document.createElement("img");this.cf.style.display="block";this.cf.style.borderStyle="none";this.cf.width=180;this.cf.height=101;this.cf.src=a.cf;d.appendChild(this.cf);this.gi=new Jv(this.K,this.sg,this.pa);d.appendChild(this.gi.element);c.appendChild(d);d=c.appendChild;var e=a.label,f=document.createElement("div");y(f,"tagFontColor");f.style.position="absolute";f.style.top="85px";f.style.right="3px";f.style.padding="1px 3px";f.style.textAlign="center";f.style.font="10px 'UbuntuRegular',Arial,Helvetica,sans-serif";switch(e){case "recommended":y(f,"tagLineColor");f.textContent=li;break;case "offline":y(f,"tagOfflineColor");f.textContent=mi;break;case "exhib":y(f,"tagExhibColor");f.textContent=ni;break;case "new":y(f,"tagNewColor");f.textContent=oi;break;case "hd":y(f,"tagHDColor");f.textContent=pi;break;case "hd_plus":y(f,"tagHDColor");f.textContent=qi;break;case "private":y(f,"tagPrivateGroupColor");f.textContent=ri;break;case "gaming":y(f,"tagGamingColor");f.textContent=si;break;default:y(f,"tagHDColor"),f.textContent=Xc.Nk?ui:ti}d.call(c,f);d=document.createElement("div");d.style.padding="4px 7px 0";d.style.textAlign="left";e=document.createElement("div");y(e,"cardTitle");e.style.width="100%";e.style.overflow="hidden";e.style.borderBottomWidth="1px";e.style.borderBottomStyle="solid";f=document.createElement("a");y(f,"camHrefColor");f.style.cssFloat="left";f.style.font="14px 'UbuntuMedium',Arial,Helvetica,sans-serif";f.style.width="125px";f.style.overflow="hidden";f.style.textDecoration="none";f.textContent=a.A;f.href="/"+a.A+"/";f.onclick=b;e.appendChild(f);b=document.createElement("div");f=document.createElement("span");var g=document.createElement("span");y(b,"age_gender_container");y(b,"camAltTextColor");y(f,"age");y(g,"gender"+a.ii);f.textContent=a.bi;b.append(f);b.append(g);e.appendChild(b);d.appendChild(e);b=document.createElement("ul");y(b,"camSubjectColor");b.style.height=void 0===a.location?"32px":"16px";b.style.listStyle="none";b.style.margin="0";b.style.padding="0";b.style.fontSize="11px";b.style.lineHeight="16px";b.style.width="168px";b.style.overflow="hidden";e=document.createElement("li");e.style.width="auto";e.style.background="0 0";e.style.border="0";e.style.margin="0";e.style.padding="0 2px";e.innerHTML=a.wH;f=l(e.querySelectorAll("a"));for(g=f.next();!g.done;g=f.next())y(g.value,"camSubjectTagColor");b.appendChild(e);d.appendChild(b);b=document.createElement("ul");y(b,"camAltTextColor");b.style.listStyle="none";b.style.margin="0";b.style.padding="0 0 4px";b.style.fontSize="11px";b.style.overflow="hidden";void 0!==a.location&&(e=document.createElement("li"),y(e,"location"),e.style.width="145px",e.style.height="15px",e.style.overflow="hidden",e.style.margin="0",e.style.padding="0 0 0 18px",e.style.whiteSpace="nowrap",e.textContent=""+a.location,b.appendChild(e));e=document.createElement("li");y(e,"cams");e.style.width="145px";e.style.height="15px";e.style.overflow="hidden";e.style.margin="0";e.style.padding="0 0 0 18px";e.style.whiteSpace="nowrap";e.textContent=a.JM+", "+a.vs+" viewers";b.appendChild(e);d.appendChild(b);c.appendChild(d);this.animate&&this.YA()}q(eS,x);eS.prototype.YA=function(){var a=this;this.ij=new vo(this.K,this.cf,{Pj:!1,uF:!1});B("mouseenter",this.element,function(){a.ij.Pj()});B("mouseleave",this.element,function(){xo(a.ij,!1)})};eS.prototype.eg=function(){this.animate&&xo(this.ij,!1);x.prototype.eg.call(this)};eS.prototype.Fj=function(){this.ij.Fj()};function fS(){x.call(this);this.element.style.position="static";this.element.style.overflow="visible"}q(fS,x);function gS(a,b){x.call(this);var c=this;this.Tb=document.createElement("span");this.ym=document.createElement("div");this.Su=document.createElement("div");this.PC=!0;void 0!==a&&(this.A=a);void 0!==b&&(this.pa=b);if(void 0!==a||void 0!==b)this.PC=!1;y(this.element,"defaultColor");this.element.style.minHeight="395px";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.element.style.margin="10px 0";this.Tb.style.display="block";this.Tb.style.fontSize="12px";this.Tb.textContent="loading...";this.element.appendChild(this.Tb);this.ym.style.display="none";this.ym.style.fontSize="14px";a=document.createElement("div");a.textContent=ki;a.style.marginBottom="10px";this.Su.style.marginBottom="10px";this.ym.appendChild(this.Su);this.ym.appendChild(a);this.element.appendChild(this.ym);this.Dj=new fS;this.I(this.Dj);this.Ap();Wn.h(function(d){c.Tb.style.display="block";c.A=d.C.A;c.pa=void 0===d.Fa;"block"===c.element.style.display&&c.show()});M.h(function(d){c.Tb.style.display="block";c.A=d.C.A;c.pa=d.B.xc;"block"===c.element.style.display&&c.show()})}q(gS,x);k=gS.prototype;k.Hp=function(){Ta(this.Dj);this.Su.textContent="";this.ym.style.display="none"};k.oc=function(a){var b=this;a=void 0===a?!1:a;if(void 0!==this.A){var c=this.A;E("api/more_like/"+this.A+"/").then(function(d){if(b.A===c){a&&b.Hp();var e=new N(d.responseText);b.Tb.style.display="none";T(e,"has_recommendations")||(b.Su.textContent=H(G("Sorry, we don't have any rooms similar to %(room)s yet."),{room:c},!0),b.ym.style.display="block");d=function(m,n){return function(p){L("LoadRoomFromRoomList",{location:"more_like_this",from_broadcaster:n,broadcaster:m.A});!b.PC||hS||p.metaKey||p.ctrlKey||(p.preventDefault(),ac.j(m.A))}};var f=Yn(e,"rooms");if(void 0!==f){e=0;var g={};f=l(f);for(var h=f.next();!h.done;g={rn:g.rn,yw:g.yw},h=f.next())g.rn=dS(h.value),g.rn.A!==b.A&&(e+=1,g.yw=e,h=new eS(g.rn,d(g.rn,b.A),b.pa,!0),Wb(["click","mousedown","touchstart"],h.element,function(m){return function(){Bq(m.rn.A,"ml",m.yw)}}(g)),b.Dj.I(h))}}}).catch(function(){})}};k.show=function(){var a=this;this.Tb.style.display="block";this.element.style.display="block";this.Hp();this.oc();clearInterval(this.tA);this.tA=window.setInterval(function(){a.oc(!0)},45E3)};k.D=function(){this.element.style.display="none";this.Tb.style.display="none";clearInterval(this.tA);this.tA=void 0};k.Ap=function(){var a=this;uo&&B("pageshow",window,function(b){b.persisted&&a.Dj.children().forEach(function(c){c.Fj()})})};function iS(a){x.call(this);var b=this;this.jh=document.createElement("span");this.Jh=document.createElement("span");this.element.appendChild(this.jh);this.element.appendChild(this.Jh);this.Sa();this.element.style.width="auto";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.padding="3px 8px 2px";this.element.style.position="relative";this.element.style.top="-4px";this.element.style.right="1px";this.element.style.cssFloat="right";this.element.style.borderRadius="3px";this.element.style.cursor="pointer";this.element.style.marginRight="5px";this.element.style.height="15px";this.pa=void 0===Em.current.Fa;void 0!==a&&(this.K=a);Xn.h(function(c){b.K=c.K});Wn.h(function(c){b.K=c.K});M.h(function(c){b.K=c.B.A();b.pa=c.B.xc})}q(iS,x);function jS(a,b){return W("span",{style:{height:"32px",padding:"8px",borderRadius:"4px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",position:"relative",display:"inline-block"},onClick:b,colorClass:"button"},a)}var kS={SF:"numPushNotificationTimeouts2",GH:"pushNotificationTimeout2"};function lS(a){a=void 0===a?kS:a;LI.call(this,a);this.Dt=!1;this.xk="";this.dt=this.GD=this.WB=!1}q(lS,LI);lS.prototype.Na=function(){function a(){!f.dt&&f.Pg.ua.checked?MI(function(){mS(f,!1)},function(v){d(v);f.close()}):mS(f,!1)}function b(v,A,D){var R=v?f.Yi.value.trim().toLowerCase():f.xk;A&&""===R?c(tl):f.WB&&!D&&f.xk===R?mS(f,!1):e(v,R).then(function(K){mS(f,A&&"true"===K);!f.dt&&f.Pg.ua.checked&&MI(function(){},function(ca){d(ca)})}).catch(function(K){c(K)})}function c(v){n.textContent=v;n.style.display="block";!f.dt&&f.Pg.ua.checked&&MI(function(){y(f.Pg.element,"greenCheckbox");f.ax.style.opacity="0.5";f.et.style.cursor="";f.Pg.element.style.cursor="";f.dt=!0;f.Pg.disable();f.et.textContent=lm;f.et.onclick=function(){}},function(){p.style.display="block"})}function d(v){void 0===v||400===v.status?V(um+" "+vm):(window.localStorage.removeItem(f.Iz),window.localStorage.removeItem(f.zB))}function e(v,A){A=void 0===A?"":A;return!v||f.Yp||f.WB&&f.xk===A?Fv(v):Fv(v,A)}var f=this;LI.prototype.Na.call(this);var g=zo("","","240px",1);y(g,"divot");this.Yi=W("input",{style:{position:"relative",height:"22px",width:"278px",padding:"5px",margin:"8px 0px",fontFamily:"UbuntuRegular, Arial, Helvetica, sans-serif",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",display:"none"},colorClass:"textInput",onInput:function(){""!==f.xk&&(f.$x.style.display=f.Yi.value===f.xk?"inline-block":"none")}});this.Yi.placeholder=nm;this.Xi=new Xr(16);this.Xi.element.style.top="4px";this.Xi.element.style.marginRight="6px";this.Xi.element.style.cursor="pointer";this.Pg=new Xr(16);this.Pg.element.style.top="4px";this.Pg.element.style.marginRight="6px";this.Pg.element.style.cursor="pointer";B("click",this.Xi.element,function(){f.Xi.ua.checked?f.Yp||(f.Yi.style.display="block",f.Yi.focus()):f.Yi.style.display="none"});this.et=W("span",{style:{cursor:"pointer"},onClick:function(){f.Pg.element.click()}},km);var h=W("div",{style:{cursor:"pointer",marginBottom:"6px",paddingLeft:"2px",fontSize:"12px"},colorClass:"verifyLink",onClick:function(){F("emailvalidation/resend/",{}).then(function(){h.style.display="none";m.style.display="block";f.WB=!0}).catch(function(){V(sm)})}},ul),m=W("div",{style:{marginBottom:"6px",paddingLeft:"2px",display:"none",fontSize:"12px"}},pm),n=W("div",{style:{marginBottom:"6px",paddingLeft:"2px",display:"none"},colorClass:"errorMessage"}),p=W("div",{style:{marginTop:"6px",paddingLeft:"2px",display:"none"},colorClass:"errorMessage"},um);this.$x=W("div",{style:{display:"none"}},h,m);this.FD=W("div",{style:{position:"relative"}},W("div",{style:{position:"relative",margin:"4px 0px"}},this.Xi.element,W("div",{style:{width:"140px",display:"inline-block",cursor:"pointer"},onClick:function(){f.Xi.element.click()}},W("span",null,al),W("span",{style:{position:"relative",fontFamily:"UbuntuBold, Arial, Helvetica, sans-serif",fontSize:"10px",padding:"2px",borderRadius:"2px",marginLeft:"6px",bottom:"1px"},colorClass:"popularBadge"},jm))),W("div",null,this.Yi),this.$x,n);this.ax=W("div",{style:{position:"relative",display:"none"}},this.Pg.element,this.et,p);this.eH=W("div",null,W("span",{style:{position:"relative",lineHeight:"22px"}},im,":"),this.FD,this.ax,W("div",{style:{position:"relative",top:"12px",height:"40px",marginBottom:"4px",cursor:"pointer"}},jS(mm,function(){var v=f.Xi.ua.checked,A=v&&!f.Yp,D=v!==f.Dt;f.GD||!A&&!D?a():b(v,A,D)}),W("span",{style:{position:"relative",marginLeft:"12px",cursor:"pointer"},onClick:function(){f.ew.setTime((new Date).getTime()+36E5*Math.min(Math.pow(2,f.Hz),168));window.localStorage.setItem(f.Iz,f.Hz.toString());window.localStorage.setItem(f.zB,f.ew.toString());f.close()}},Ag)));this.EC=W("div",{style:{position:"relative",width:"100%",padding:"7px",fontSize:"14px",fontFamily:"UbuntuRegular, Arial, Helvetica, sans-serif",boxSizing:"border-box"}},this.eH);this.element=W("div",{style:{position:"absolute",width:"304px",top:"30px",right:"0px",borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.08)",zIndex:1001},id:"FollowSettingsModal",colorClass:"whiteModal"},this.EC,g)};lS.prototype.ex=function(){return LI.prototype.ex.call(this)&&null===window.localStorage.getItem("notificationModalOptionsSaved")};function mS(a,b){a.eH.style.display="none";var c={marginBottom:"16px",lineHeight:"22px"};b=b?W("div",{style:c},qm,W("span",{style:{fontFamily:"UbuntuBold, Arial, Helvetica, sans-serif"}},rm),"!"):W("div",{style:c},om);a.EC.appendChild(W("div",null,b,jS(uh,function(){a.close()})));window.localStorage.setItem("notificationModalOptionsSaved","true")};function nS(a,b){x.call(this);this.Hh=a;this.element=document.createElement("div");this.$D=Promise.resolve();this.fq=new oS(this,b);this.Wt=new pS(this,b);this.ks=new qS(this,b);this.element.style.display="inline-block";this.element.style.cssFloat="right";this.element.style.position="relative";this.element.style.width="auto";this.element.style.right="1px";this.ue=jp({content:Ng,li:!0,width:220,ud:0,fe:"170px",borderWidth:1});z(this.ue,"tooltip");y(this.ue,"whiteModal");this.ue.style.lineHeight="22px";this.ue.style.fontSize="14px";this.ue.style.borderWidth="1px";this.ue.style.borderRadius="4px";this.ue.style.padding="8px 0px 8px 8px";this.ue.style.boxShadow="0px 4px 16px rgba(0, 0, 0, 0.08)";a.appendChild(this.ue);this.element.appendChild(this.fq.element);this.element.appendChild(this.Wt.element);this.element.appendChild(this.ks.element)}q(nS,x);function rS(a){a.fq.element.style.display="inline";a.ks.element.style.display="none";a.Wt.element.style.display="none"}
function sS(a,b){a.fq.element.style.display="none";a.ks.element.style.display="inline";tS(a.Wt,b);a.Wt.element.style.display="inline"}nS.prototype.expand=function(){this.fq.expand();this.ks.expand()};nS.prototype.collapse=function(){this.fq.collapse();this.ks.collapse()};nS.prototype.H=function(){var a=this.element.getBoundingClientRect();this.ue.style.top=this.Hh.offsetHeight+8+"px";this.ue.style.left=a.left+Ab().scrollLeft-this.ue.offsetWidth+this.element.clientWidth-16+"px"};function uS(a,b){a.$D=a.$D.then(b)}
function qS(a,b){iS.call(this,b);var c=this;y(this.element,"unfollowButton");this.Jh.innerText=Og;this.element.style.marginRight="0px";this.element.style.right="";this.element.style.borderRadius="3px 0px 0px 3px";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.onclick=function(){uS(a,function(){return Hv(c.K)})};this.element.onmouseenter=function(){a.ue.style.display="block";a.H()};this.element.onmouseleave=function(){a.ue.style.display="none"}}q(qS,iS);qS.prototype.expand=function(){this.Jh.innerText=Og};qS.prototype.collapse=function(){this.Jh.innerText="-"};function oS(a,b){function c(){var e=new lS;if(e.ex()){var f=window.isBrowserNotificationSupported,g=window.isSubscribedToBrowserNotifications,h=void 0===f||!0!==f()||void 0===g||!mb();Dv().then(function(m){function n(){e.Dt=v;e.Yp=A;e.xk=p;e.Xi.To(e.Dt);e.Yi.value=e.xk;""===e.xk||e.Yp||(e.$x.style.display="inline-block");e.Dt&&(e.Yp?(e.FD.style.display="none",e.GD=!0):e.Yi.style.display="block");d.I(e,a.element);e.closed.once(function(){d.removeChild(e)})}var p=m.email,v=m.Gw,A=m.uw,D=m.Gw&&m.uw;h?D||n():(g(!1,function(){e.ax.style.display="block";n()}),g(!0,function(){D||n()}))}).catch(function(m){w("Error fetching email settings: "+m)})}}iS.call(this,b);var d=this;y(this.element,"followButton");this.Jh.innerText=Pg;this.element.style.marginRight="0px";this.element.style.right="";this.element.onclick=function(){uS(a,function(){return Gv(d.K)});d.pa||c()};this.element.onmouseenter=function(){a.ue.style.display="block";a.H()};this.element.onmouseleave=function(){a.ue.style.display="none"}}
q(oS,iS);oS.prototype.expand=function(){this.Jh.innerText=Pg};oS.prototype.collapse=function(){this.Jh.innerText="+"};function pS(a,b){iS.call(this,b);var c=this;y(this.jh,"notification-btn-icon");y(this.jh,"static");this.jh.style.width="20px";this.jh.style.height="20px";this.jh.style.display="inline-block";this.jh.style.backgroundRepeat="no-repeat";tS(this,"smart");this.Jh.innerText="";y(this.element,"FollowNotificationButton");this.element.style.padding="0px 2px 5px 2px";this.element.style.marginRight="0px";this.element.style.right="";this.element.style.borderRadius="0 3px 3px 0";this.element.style.borderWidth="1px 1px 1px 0";this.element.style.borderStyle="solid";zv.h(function(d){c.K===d.K&&tS(c,d.lg)});this.element.onclick=function(){void 0===c.Qk?(c.Qk=new vS(c.lg),c.Qk.Po.h(function(d){L("FollowFrequencyBellClicked",{previous_frequency:c.lg,frequency:d});c.lg=d;uS(a,function(){return Cv(c.K,d)})}),c.Qk.element.style.marginTop="36px",c.Qk.toggle({top:-7,left:-8}),c.I(c.Qk,a.element)):wS(c.Qk)}}q(pS,iS);pS.prototype.expand=function(){};pS.prototype.collapse=function(){};function tS(a,b){a.lg=b;a.jh.className="";y(a.jh,"notification-btn-icon");y(a.jh,"static");y(a.jh,a.lg.toString());void 0!==a.Qk&&xS(a.Qk,b,!1)}function yS(a){switch(a){case "all":return jf;case "smart":return kf;case "none":return lf}}
function zS(a,b){x.call(this);var c=this;this.vo=a;this.data=b;y(this.element,"notification-item");this.element.style.padding="4px 0 4px 0";this.element.style.cursor="pointer";this.element.style.boxSizing="border-box";this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.borderWidth="1px";this.element.style.borderStyle="solid";this.element.style.borderTop="0 none";this.element.style.borderBottom="0 none";this.icon=document.createElement("span");y(this.icon,"notification-btn-icon");y(this.icon,b.toString());this.icon.style.padding="0 8px 0 12px";this.icon.style.width="20px";this.icon.style.height="20px";this.icon.style.verticalAlign="middle";this.icon.style.display="inline-block";this.icon.style.backgroundRepeat="no-repeat";this.icon.style.backgroundPosition="center center";this.icon.title=yS(b);this.element.appendChild(this.icon);this.name=document.createElement("span");this.name.style.margin="0px";this.name.style.padding="0px 4px 0px px";this.name.innerText=yS(b);this.element.appendChild(this.name);B("click",this.element,function(){c.vo(b)})}q(zS,x);zS.prototype.select=function(){y(this.element,"selected");this.name.style.fontWeight="bold";this.name.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif"};zS.prototype.Vl=function(){z(this.element,"selected");this.name.style.fontWeight="normal";this.name.style.fontFamily="UbuntuNormal, Helvetica, Arial, sans-serif"};function vS(a){gr.call(this);var b=this;this.hl=a;this.width=120;this.visible=!1;this.Po=new t("selectionChange");var c=[];y(this.element,"notificationBtnMenu");this.element.style.padding="0px";this.element.style.width=this.width+"px";this.element.style.textAlign="left";this.element.style.fontSize="11px";this.element.style.lineHeight="14px";this.element.style.borderRadius="4px";this.da.style.zIndex="1002";this.element.style.zIndex="1003";this.element.style.overflow="visible";this.element.style.removeProperty("height");var d=document.createElement("div");y(d,"title");d.innerText=hf;d.style.padding="12px";d.style.boxSizing="border-box";d.style.position="relative";d.style.overflow="visible";d.style.borderWidth="1px";d.style.borderStyle="solid";d.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";d.style.fontSize="15px";d.style.borderTopWidth="1px";d.style.borderTopLeftRadius="4px";d.style.borderTopRightRadius="4px";this.element.appendChild(d);AS(this,!1);d=l(["all","smart","none"]);for(var e=d.next();!e.done;e=d.next())e=new zS(this.vo.bind(this),e.value),this.I(e),c.push(e);AS(this,!0);this.BK=c;xS(this,a,!1);this.Mc.h(function(){b.D()})}q(vS,gr);function AS(a,b){var c=document.createElement("div");y(c,"bookend");c.style.height="4px";c.style.boxSizing="border-box";c.style.position="relative";c.style.borderWidth="1px";c.style.borderStyle="solid";c.style.borderTop="0 none";b?(c.style.borderBottomLeftRadius="4px",c.style.borderBottomRightRadius="4px",c.style.borderBottomWidth="1px",c.style.borderBottomStyle="solid",c.style.paddingTop="4px"):c.style.borderBottom="0 none";a.element.appendChild(c)}k=vS.prototype;k.isVisible=function(){return this.visible};k.show=function(a){this.isVisible()||(this.element.style.top=a.top+"px",this.element.style.left=a.left+"px",wS(this),this.M())};function wS(a){a.isVisible()||(a.element.style.display="inline-block",a.Eh(),a.visible=!0)}k.D=function(){this.isVisible()&&(this.visible=!1,this.element.style.display="none",this.Fb())};k.toggle=function(a){this.isVisible()?this.D():this.show(a)};function xS(a,b,c){b!==a.hl&&(a.hl=b,c&&a.Po.j(b));a=l(a.BK);for(c=a.next();!c.done;c=a.next())c=c.value,c.data===b?c.select():c.Vl()}k.vo=function(a){this.D();xS(this,a,!0)};function BS(){iS.call(this);var a=this;y(this.element,"fanclubButton");this.Kh=document.createElement("a");this.Jh.appendChild(this.Kh);this.Kh.innerText=vl;M.h(function(b){function c(){a.element.onmouseover=function(){a.Kh.style.textDecoration="underline";a.element.style.cursor="pointer"};a.element.onmouseleave=function(){a.Kh.style.textDecoration=""};a.element.onmousedown=function(){a.Kh.style.textDecoration=""}}if(b.C.Uz||!b.C.fo&&b.C.Ek)a.Kh.href="/fanclub/join/"+a.K+"/",a.Kh.target="_blank";b.C.fo?(a.Kh.innerText=wl,a.Kh.style.textTransform="uppercase",a.element.style.cursor="default",b.C.Uz&&c()):(a.Kh.innerText=vl,a.Kh.style.textTransform="uppercase",a.element.style.cursor="pointer",c());b.C.Ek?a.ob():a.Sa()})}q(BS,iS);BS.prototype.expand=function(){this.Jh.style.display=""};BS.prototype.collapse=function(){this.Jh.style.display="none"};var CS={},DS=(CS.Bio="Bio",CS["Contest Stats"]="ContestStats",CS["Pics & Videos"]="Pics&Videos",CS.Share="Share",CS["More Rooms Like This"]="MoreRoomLikeThis",CS);function ES(){VQ.call(this);var a=this;this.pC=!1;this.sD="Bio";this.element.style.minHeight="200px";this.gq=new nS(this.Hh.element);Ra(this.Hh,this.gq,this.en);this.CJ=new BS;Ra(this.Hh,this.CJ,this.en);this.Gj=new VR(this.Hh.element);Ra(this.Hh,this.Gj,this.en);var b=(new Fp("NewPhotoVideos")).active?new LQ(!0):new FQ(!0);this.ce("Bio",Rg,new hR);this.ce("Pics & Videos",ag,b);Xc.eB&&this.ce("Contest Stats",Sg,new dR);this.ce("More Rooms Like This",ji,new gS);this.ce("Share",Qg,new LP);this.oh(this.sD);var c=this.rx();this.en.I(c);FS(this);Ur.h(function(d){a.oh("Pics & Videos",d)});Wn.h(function(d){var e;a.K=d.K;a.pa=void 0===d.Fa;a.Yn(a.K===(null===(e=d.Fa)||void 0===e?void 0:e.username),d.C);b.Yn(a.K)});M.h(function(d){a.K=d.B.A();a.pa=d.B.xc;a.Yn(a.K===d.B.username(),d.C);b.Yn(a.K)});zv.h(function(d){d.K===a.K&&(d.zk?sS(a.gq,d.lg):rS(a.gq))});this.pC=!0}q(ES,VQ);function FS(a){var b=a.lx(),c=Dn().tab,d={bio:"Bio",contest:"Contest Stats",photos:"Pics & Videos",gallery:"Pics & Videos"};c=void 0===c?void 0:d[c];void 0!==c?a.oh(c):void 0!==b&&a.oh(b)}k=ES.prototype;k.Yn=function(a,b){this.pa||!Xc.eB?ZQ(this,"Share"):$Q(this,"Share");a?(ZQ(this,"More Rooms Like This"),"More Rooms Like This"===this.Ri&&this.oh("Bio")):$Q(this,"More Rooms Like This");"offline"===b.Ga&&(a=Dn().utm_content,void 0!==a&&Bv.includes(a)&&this.oh("More Rooms Like This"));b.zk?sS(this.gq,b.lg):rS(this.gq)};k.rx=function(){var a=new ox;XQ(this,a,"",!1);J(a,{display:"inline-block",height:"24px",width:"32px"});y(a,"tabLink");a.Sa();J(a.Fd,{padding:"10px 1px",borderWidth:"1px",borderStyle:"solid"});y(a.Fd,"room-tabs-dropdown-border");ux(a,15);return a};k.H=function(){this.Gj.H()};k.oh=function(a,b,c){var d=this.Ri;VQ.prototype.oh.call(this,a,b,c);this.pC&&d!==a&&L("RoomTabClicked",{tabName:DS[a]})};k.lx=function(){if(mb()){var a=VQ.prototype.lx.call(this);if(void 0!==a)return a}};k.Kv=function(a){mb()&&VQ.prototype.Kv.call(this,a)};function GS(a,b){b=void 0===b?{}:b;x.call(this);this.vz=new t("messageRemoved");y(this.element,"siteNotice");this.element.style.display="none";this.element.style.position="static";this.options=Object.assign(Object.assign({},{Xq:0,Rl:"",nC:"",cJ:10}),b);0===this.options.Xq&&""===this.options.Rl&&w("SiteNotice: Must provide a CookieName when used in Persist mode.");2===this.options.Xq&&""===this.options.nC&&w("SiteNotice: Must provide an AjaxUrl when used in Ajax mode.");this.render(a)}q(GS,x);GS.prototype.render=function(a){var b=this;if(""===this.options.Rl||"1"!==Wa(this.options.Rl)){this.element.style.display="block";this.element.style.height="auto";this.element.style.position="static";this.element.style.padding="5px 0px";this.element.style.textAlign="center";this.element.style.boxSizing="border-box";this.element.style.fontSize="14px";this.element.style.fontWeight="400";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.color=Xc.xD;var c=document.createElement("div");y(c,"wrapper");c.style.padding="15px";c.style.borderWidth="1px";c.style.borderStyle="solid";var d=document.createElement("div");d.innerHTML=a;this.Vp=document.createElement("a");y(this.Vp,"hrefColor");this.Vp.textContent=jg;this.Vp.style.cursor="pointer";a=document.createElement("span");a.textContent=" (";var e=document.createElement("span");e.textContent=")";d.appendChild(a);d.appendChild(this.Vp);d.appendChild(e);c.appendChild(d);this.element.appendChild(c);a={};d=l(d.getElementsByTagName("a"));for(e=d.next();!e.done;a={zl:a.zl},e=d.next())a.zl=e.value,y(a.zl,"hrefColor"),a.zl.onmouseenter=function(f){return function(){f.zl.style.textDecoration="underline"}}(a),a.zl.onmouseleave=function(f){return function(){f.zl.style.textDecoration=""}}(a);B("click",this.Vp,function(){b.element.style.display="none";b.element.removeChild(c);switch(b.options.Xq){case 0:Xa(b.options.Rl,"1",b.options.cJ);break;case 2:F(b.options.nC,{})}b.vz.j(void 0)})}};var hS=!1;function HS(a){x.call(this);var b=this;y(this.element,"genderTabs");y(this.element,"bgColor");y(this.element,"navigationAlt2BgImage");y(this.element,"navigationAlt2BgColor");y(this.element,"tabSectionBorder");J(this,{position:"relative",overflow:"visible",padding:"0 10px 0 32px",backgroundPosition:"bottom",boxSizing:"border-box",height:"27px",marginTop:"11px",font:"1em 'UbuntuRegular',Arial,Helvetica,sans-serif"});this.element.classList.add("top-section");hS||(ep(this,"paddingLeft",8,32),ep(this,"paddingRight",4,16));this.Ih=new nx;J(this.Ih,{position:"static",overflow:"hidden",height:"27px"});var c=new nx(this.Ih);J(c,{overflow:"visible",position:"relative",height:"27px",width:"100%"});this.Ks=new IP(""+Ic(a),void 0,!0);this.Ks.element.title=Bc(a)+"'s Cam";this.Ih.I(this.Ks);this.Ih.I(new IP(of,"/female-cams/"));this.Ih.I(new IP(qf,"/male-cams/"));this.Ih.I(new IP(uf,"/couple-cams/"));this.Ih.I(new IP(sf,"/trans-cams/"));Fr()||(a=new IP(wf,"/spy-on-cams/"),this.Ih.I(a));this.Ck=new ox((new IP(px)).element);J(this.Ck.Fd,{width:"108px",paddingTop:"10px",paddingBottom:"5px"});this.Ck.qt.h(function(d){d?(d=b.Ck.element,d=d.offsetWidth+Xm(getComputedStyle(d).marginLeft)+Xm(getComputedStyle(d).marginRight)):d=0;b.jm.element.style.marginLeft=d+"px"});this.Ck.element.style.fontSize="13px";ux(this.Ck,10);this.Ih.I(this.Ck);this.I(c);this.jm=new KP;this.jm.wq();this.Ih.I(this.jm);(hS?Wn:M).h(function(d){IS(b,d.C.A);ux(b.Ck,b.jm.element.offsetWidth+10)})}q(HS,x);function IS(a,b){a.Ks.element.innerText=Bc(b)+"'s Cam";a.Ks.element.title=Bc(b)+"'s Cam"};function JS(){x.call(this);this.element.style.fontSize="12px";this.element.style.position="relative";this.element.style.height="auto";var a=document.createElement("div");a.style.display="none";a.style.width="auto";a.style.height="auto";a.style.backgroundColor="#FFFFD3";a.style.border="1px solid #CCCCCC";a.style.borderRadius="4px";a.style.padding="2em";a.style.margin="20px 32px";a.style.fontSize="2em";a.style.lineHeight="3em";a.style.textDecoration="none";a.style.position="relative";a.style.color=Xc.Ht;this.element.appendChild(a);var b=document.createElement("span");b.innerText="\u00d7";b.style.position="absolute";b.style.right="0.5em";b.style.top="0";b.style.fontSize="2em";b.style.userSelect="none";b.style.webkitUserSelect="none";a.appendChild(b);b.onclick=function(){Xa("mobile_redirect_hide","true",.75);a.style.display="none"};b=document.createElement("div");var c=document.createElement("span");c.textContent=rg;b.appendChild(c);c=document.createElement("div");var d=document.createElement("ul");d.style.listStyleType="disc";var e=document.createElement("li");e.textContent=Dd;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);e=document.createElement("li");e.textContent=sg;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);e=document.createElement("li");e.textContent=zh;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);d=document.createElement("div");e=document.createElement("span");e.textContent=tg;var f=document.createElement("a");f.style.color="#0a5a83";f.textContent=ug;f.onclick=function(){L("MobileAlertLinkClicked")};var g=document.createElement("span");g.textContent=wg;var h=document.createElement("a");h.textContent=xg;h.style.color="#0a5a83";h.href="#";h.onclick=function(){L("MobileAlertSurveyClicked");dw.j({source:"desktop_on_mobile"})};var m=document.createElement("span");m.textContent=yg;d.appendChild(e);d.appendChild(f);d.appendChild(g);d.appendChild(h);d.appendChild(m);a.appendChild(b);a.appendChild(c);a.appendChild(d);M.h(function(n){n.C.nH&&(f.href="https://m.chaturbate.com/mobile/?b="+n.C.A+"&source=desktop",a.style.display="block")})}q(JS,x);function KS(a){x.call(this);this.hI=a;this.element.style.display="none";this.element.style.position="static";this.element.style.margin="21px 19px";this.element.style.width="";y(this.element,"defaultColor");a=document.createElement("h1");a.innerText=Bg;a.style.fontFamily="'UbuntuRegular', Arial, Helvetica, sans-serif";a.style.fontWeight="700";this.element.appendChild(a)}q(KS,x);KS.prototype.show=function(a,b){return et(this,function d(){var e=this,f;return Ba(d,function(g){if(1==g.aa)return f=e,e.A=a,e.bE="api/ts/chat/roomloginform/"+e.A+"/",jb()?g=ta(g,new Promise(function(h){return window.setTimeout(h,500)}),2):(g.aa=2,g=void 0),g;if(4!=g.aa){if(Hr(nd(Bc(e.A)),!1,function(){window.location.href="/"}))return g.return();Ta(e);if(void 0!==b){LS(e,b);g.aa=4;return}return ta(g,E(e.bE).then(function(h){LS(f,h.responseText)}),4)}e.ob();g.aa=0})})};function LS(a,b){try{var c=OR(b);a.form=new MS(c,a.bE,function(){a.hI?(ac.j(a.A),a.Sa()):window.location.href="/"+a.A+"/"},function(d){d=JSON.parse(d.$d.responseText);var e=!1;void 0!==d.extra&&void 0!==d.extra.requires_captcha&&(e=d.extra.requires_captcha);e!==a.form.data.Hj.Zb.hasOwnProperty("prove_you_are_human")&&(a.removeChild(a.form),a.show(a.A))});a.form.Kb.value=Cg;a.I(a.form)}catch(d){w("Error parsing form data",{error:d,formdata:b})}}function MS(a,b,c,d){QR.call(this,a,b,{gv:c,fv:d})}
q(MS,QR);function NS(a,b,c){ox.call(this,b,c);this.YC=a}q(NS,ox);NS.prototype.Ro=function(){void 0!==this.YC&&this.YC()?this.$a()||(this.yi=wx(this),this.Pr=[],tx(this)):this.$a()&&(this.yi=[],sx(this),this.Pr=wx(this))};NS.prototype.onToggle=function(a){a.nb&&this.Ro()};NS.prototype.xh=function(){};NS.prototype.YD=function(){};function OS(){var a=this;this.Ah=new Set;this.next=UI(function(){return et(a,function c(){var d,e=this,f,g,h,m,n,p;return Ba(c,function(v){if(1==v.aa)return d=new URLSearchParams(window.location.search),d.set("genders",e.At),d.set("after",e.Rp),ta(v,E("api/ts/roomlist/next-room/?"+d.toString()),2);f=v.ae;g=new N(f.responseText);h=JSON.parse(eo(g,"rooms"));m=l(h);for(n=m.next();!n.done;n=m.next())if(p=n.value,e.Ah.has(p))e.Ah.add(p);else return v.return(p);v.aa=0})})},void 0);this.listener=M.h(function(b){a.Rp=b.B.A();a.At=TI(b.C.zr);a.Ah.add(a.Rp)},!1,!0)}OS.prototype.Eb=function(){this.listener.removeListener()};function PS(a,b){function c(f){if(void 0===e.F)return!1;if(e.F.J instanceof rv&&e.F.J.Ic instanceof Ns){for(var g=l(e.F.J.Ic.La.element.children),h=g.next();!h.done;h=g.next())if(f===h.value)return!0;return f===e.F.J.Ic.Ka}return!1}function d(f){if(void 0===e.F)return!1;if(e.F.J instanceof fv)for(var g=l(e.F.element.getElementsByClassName("vjs-volume-panel")),h=g.next();!h.done;h=g.next()){h=h.value;if(f===h)return!0;h=l(h.getElementsByTagNameNS("*","*"));for(var m=h.next();!m.done;m=h.next())if(f===m.value)return!0}return!1}x.call(this);var e=this;this.eh=a;this.F=b;this.Mo=15E3;this.Kk=!1;this.Ho=new OS;this.No=!1;J(this,{height:"27px",width:"207px",top:"1px",textAlign:"right",position:"relative",cssFloat:"right",overflow:"visible",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif"});this.Rc=new xx((new dA).anchor);this.Rc.Tk.h(function(f){f?(e.Rc.element.style.padding="7px 3px 7px 0px",e.Rc.element.style.right="0"):(e.Rc.element.style.padding="7px 3px 7px 5px",e.Rc.element.style.right="5px")});this.Rc.element.href="#";this.Rc.element.style.display="inline-block";this.Rc.element.style.padding="7px 3px 7px 5px";this.Rc.element.style.textDecoration="none";this.Rc.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Rc.element.style.fontSize="10.008px";this.Rc.element.style.position="relative";this.Rc.element.style.backgroundColor="transparent";y(this.Rc.element,"tabActiveColor");y(this.Rc.element,"transparentBg");Um(this.Rc.element);this.Rc.element.onclick=function(f){f.preventDefault();f.stopPropagation();e.Kk||(f=Dn(),f.next_in=(e.Mo/1E3).toString(),f=Cn(f),window.history.replaceState({type:"room",room:e.Vg.A},e.Vg.qb,"./?"+f),QS(e));RS(e,!0,!0)};this.Ko=document.createElement("span");this.Ko.innerText=Xg;this.Rc.element.appendChild(this.Ko);this.Vb=new xx((new dA).anchor);this.Vb.Tk.h(function(f){f?(e.Vb.element.style.padding="6px 3px 6px 0px",e.Vb.element.style.borderWidth="0"):(e.Vb.element.style.padding="6px 3px 6px 5px",e.Vb.element.style.borderWidth="1px")});this.Vb.element.href="#";this.Vb.element.style.display="inline-block";this.Vb.element.innerText=Yg+" (CTRL-/)";this.Vb.element.style.textDecoration="none";this.Vb.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Vb.element.style.fontSize="10.008px";this.Vb.element.style.position="relative";y(this.Vb.element,"nextCamBgColor");y(this.Vb.element,"tabBorder");y(this.Vb.element,"tabActiveColor");this.Vb.element.style.borderWidth="1px";this.Vb.element.style.borderStyle="solid";this.Vb.element.style.borderBottom="0";this.Vb.element.style.borderRadius="4px 4px 0 0";Um(this.Vb.element);this.Vb.element.onclick=function(f){f.preventDefault();e.Kk?SS(e):RS(e,!1,!0)};this.I(this.Rc);this.I(this.Vb);this.Lo=new NS(function(){a:{if(void 0!==e.parent){var f=rx(e.eh.Ck);if(void 0!==f){f=f.element;f=240>e.eh.element.offsetWidth-(f.offsetLeft+f.offsetWidth+e.eh.jm.element.clientWidth+40);break a}}f=!1}return f},TS(),!0);this.I(this.Lo);J(this.Lo.Fd,{width:"127px",padding:"8px 12px"});B("keydown",document,function(f){"Control"!==f.key&&"Meta"!==f.key&&"OS"!==f.key&&("/"!==f.key&&191!==f.which||!f.ctrlKey&&!f.metaKey?e.Kk&&!e.No&&SS(e):(f.preventDefault(),RS(e,!1,!0)))},!0);Wn.h(function(f){e.fd(f)});M.h(function(f){e.fd(f);e.Vg=f.C;f=Dn();"next_in"in f&&(f=parseInt(f.next_in),isFinite(f)&&!isNaN(f)&&(1<=f&&(e.Mo=1E3*f),US(e),VS(e),e.Kk=!0,e.M()))});B("mousedown",document,function(f){var g;(g=e.No)||((g=d(f.target)||(void 0===e.F?!1:e.F.J instanceof $u?f.target===e.F.J.mq():!1)||(void 0===e.F?!1:e.F.Aa.VC(f.target)))||(g=f.target,g=g===e.Rc.element||g===e.Ko),g=g||c(f.target));g||f.target===e.Lo.element||e.Kk&&f.target!==e.Vb.element&&SS(e)},!1)}q(PS,x);PS.prototype.fd=function(a){this.Vb.element.href="/next/"+a.C.A+"/";this.Rc.element.href="/next/"+a.C.A+"/?next_in=15";this.Vg=a.C;a=Dn();"next_in"in a&&(a=parseInt(a.next_in),isFinite(a)&&!isNaN(a)&&(1<=a&&(this.Mo=1E3*a),US(this),VS(this),this.Kk=!0,this.M()))};function TS(){var a=document.createElement("div");a.style.display="none";a.style.cursor="pointer";a.style.padding="7px 0";a.style.width="70px";a.innerText=Zg;a.style.textDecoration="none";a.style.fontSize="10.008px";a.style.position="relative";a.style.borderWidth="1px";a.style.borderStyle="solid";y(a,"nextCamBgColor");y(a,"tabBorder");y(a,"tabActiveColor");a.style.borderBottom="0";a.style.borderRadius="4px 4px 0 0";a.style.textAlign="center";Um(a);return a}
function QS(a){a.dK=window.setTimeout(function(){a.No=!0;clearInterval(a.bD);WS(a)},108E5)}function WS(a){oo("Are you still watching?",function(){QS(a);VS(a);a.No=!1},function(){SS(a);a.Di=a.Mo})}
function VS(a){a.Di=a.No?a.Di:a.Mo;a.bD=window.setInterval(function(){a.Di-=1E3;0>=a.Di/1E3&&(a.Di=a.Mo,RS(a,!0));a.Ko.innerText=ah+" ("+a.Di/1E3+"s)";a.Lo.element.innerText=$g+" ("+a.Di/1E3+"s)"},1E3);a.Ko.innerText=ah+" ("+a.Di/1E3+"s)";a.Lo.element.innerText=$g+" ("+a.Di/1E3+"s)";a.Vb.element.innerText=bh+" (any key)"}function US(a){clearInterval(a.bD);a.Ko.innerText=Xg;a.Vb.element.innerText=Yg+" (CTRL-/)";a.Lo.element.innerText=Zg}
function RS(a,b,c){c=void 0===c?!1:c;a.Ho.next().then(function(d){void 0!==d&&(Bq(d,b?"sc":"nc",0),L("LoadRoomFromRoomList",{location:b?"scan_cam":"next_cam",from_broadcaster:a.Vg.A,broadcaster:d}),ac.j(d))}).catch(function(d){w("Error calling roomIterator.next: "+d);a.M()});void 0!==a.F&&a.F.J instanceof bv&&c&&XS(a.F.Aa)}
function SS(a){if(a.Kk){clearTimeout(a.dK);US(a);a.Kk=!1;a.No=!1;var b=Dn();delete b.OP;b=Cn(b);var c="";""!==b&&(c="?"+b);window.history.replaceState({type:"room",room:a.Vg.A},a.Vg.qb,"./"+c)}else w("Attempted to stop cam scanning when cams were not scanning")};function YS(a){var b,c;x.call(this,"span");var d=this;this.hg=new t("iconClicked",{Mf:0});this.ZC="light";this.Bx();this.Rw();ZS(this,null===a||void 0===a?void 0:a.Xp);$S(this);aT(this,null!==(b=null===a||void 0===a?void 0:a.Zy)&&void 0!==b?b:!1);bT(this,null!==(c=null===a||void 0===a?void 0:a.Zy)&&void 0!==c?c:!1);this.element.onmouseenter=function(){d.Gc.style.visibility="visible";d.Vc.style.visibility="visible";d.Wc.style.visibility="visible";d.image.style.backgroundColor="rgba(203, 203, 203, 0.24)"};this.element.onmouseleave=function(){cT(d)};this.hg.h(function(){cT(d)});a=Va("theme_name");void 0===a||"lightmode"===a?dT(this,"light"):"darkmode"===a?dT(this,"dark"):(u("Unknown color mode, defaulting to light:",a),dT(this,"light"));ec.h(function(e){switch(e){case "lightmode":dT(d,"light");break;case "darkmode":dT(d,"dark");break;default:u("Unknown color mode, defaulting to light:",e),dT(d,"light")}})}q(YS,x);YS.prototype.Bx=function(){this.image=document.createElement("img");this.Gc=document.createElement("div");this.Vc=document.createElement("div");this.Wc=document.createElement("div")};YS.prototype.Rw=function(){this.element.appendChild(this.Gc);this.element.appendChild(this.Vc);this.element.appendChild(this.Wc);this.element.appendChild(this.image)};function ZS(a,b){void 0!==b&&(a.element.id=b);a.element.style.display="inline-block";a.element.style.position="relative";a.element.style.overflow="visible";a.element.style.height="24px";a.element.style.width="24px";a.element.style.cursor="pointer";a.element.style.margin="0 4px";a.element.style.padding="0";a.element.classList.add("player-controls-icon")}
function $S(a){a.image.style.display="inline-block";a.image.style.boxShadow="border-box";a.image.style.height="16px";a.image.style.width="16px";a.image.style.padding="4px";a.image.style.margin="0";a.image.style.cursor="pointer";a.image.style.borderRadius="2px";a.image.style.backgroundColor="rgba(0, 0, 0, 0)";a.image.onclick=function(){a.hg.j(void 0)}}
function aT(a,b){a.Gc.style.position="absolute";a.Gc.style.bottom="calc(100% + 4px)";a.Gc.style.borderRadius="6px";a.Gc.style.paddingTop="6px";a.Gc.style.paddingBottom="6px";a.Gc.style.paddingLeft="8px";a.Gc.style.paddingRight="8px";a.Gc.style.visibility="hidden";b?a.Gc.style.right="0":a.Gc.style.left="0";a.Gc.classList.add("player-controls-icon-tooltip")}
function bT(a,b){a.Vc.style.position="absolute";a.Vc.style.bottom="100%";a.Vc.style.width="0px";a.Vc.style.height="0px";a.Vc.style.visibility="hidden";a.Vc.style.border="2px solid";a.Vc.style.borderLeftColor="transparent";a.Vc.style.borderBottomColor="transparent";a.Wc.style.position="absolute";a.Wc.style.bottom="100%";a.Wc.style.width="0px";a.Wc.style.height="0px";a.Wc.style.visibility="hidden";a.Wc.style.border="2px solid";a.Wc.style.borderRightColor="transparent";a.Wc.style.borderBottomColor="transparent";b?(a.Wc.style.right="8px",a.Vc.style.right="12px"):(a.Vc.style.left="8px",a.Wc.style.left="12px");a.Vc.classList.add("player-controls-icon-tooltip-decoration");a.Wc.classList.add("player-controls-icon-tooltip-decoration")}function cT(a){a.Gc.style.visibility="hidden";a.Vc.style.visibility="hidden";a.Wc.style.visibility="hidden";a.image.style.backgroundColor="rgba(0, 0, 0, 0)"}
function dT(a,b){a.ZC=b;"light"===a.ZC?(a.Gc.style.backgroundColor="white",a.Gc.style.color="rgb(73, 73, 79)",a.Vc.style.borderRightColor="white",a.Vc.style.borderTopColor="white",a.Wc.style.borderLeftColor="white",a.Wc.style.borderTopColor="white"):(a.Gc.style.backgroundColor="black",a.Gc.style.color="white",a.Vc.style.borderRightColor="black",a.Vc.style.borderTopColor="black",a.Wc.style.borderLeftColor="black",a.Wc.style.borderTopColor="black")}function eT(a,b){b?a.enable():a.disable()}
YS.prototype.enable=function(){this.element.style.display="inline-block"};YS.prototype.disable=function(){this.element.style.display="none"};function fT(a,b){a.image.src=null!==b&&void 0!==b?b:""}function gT(a,b){a.element.id=null!==b&&void 0!==b?b:""}function hT(a){YS.call(this,a);this.hn.style.whiteSpace="nowrap";this.hn.style.fontSize="14px";this.hn.style.lineHeight="16px";this.hn.classList.add("player-controls-icon-text");iT(this,null===a||void 0===a?void 0:a.Ve)}q(hT,YS);hT.prototype.Bx=function(){YS.prototype.Bx.call(this);this.hn=document.createElement("span")};hT.prototype.Rw=function(){YS.prototype.Rw.call(this);this.Gc.appendChild(this.hn)};function iT(a,b){a.Ve=b;void 0===a.Ve?(a.hn.innerText="",a.Gc.style.display="none",a.Vc.style.display="none",a.Wc.style.display="none"):(a.hn.innerText=a.Ve,a.Gc.style.display="",a.Vc.style.display="",a.Wc.style.display="")}function jT(a){hT.call(this,Object.assign(Object.assign({},a),{Zy:!1}))}q(jT,hT);function kT(a){hT.call(this,Object.assign(Object.assign({},a),{Zy:!0}))}q(kT,hT);function lT(a){kT.call(this,a);var b=this;this.$c=new t("videoOfflineChange");this.jC=new La;iT(this,Hj);fT(this,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/c2c_inactive.svg");a=new t("requestChangeClickListener");var c=new t("showMyCamStateChanged");a.h(function(d){Ma(b.jC);r(b.hg.h(function(){d()}),b.jC)});c.h(function(d){switch(d){case "started":iT(b,Ij);fT(b,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/c2c_active.svg");break;case "inactiveStopped":iT(b,Hj);fT(b,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/c2c_inactive.svg");break;case "stopped":iT(b,Hj),fT(b,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/c2c_inactive.svg")}});this.KC=WD(this.$c,a,c);eT(this,this.KC)}q(lT,kT);lT.prototype.enable=function(){this.KC?kT.prototype.enable.call(this):kT.prototype.disable.call(this)};lT.prototype.$A=function(a){this.$c.j(a)};function mT(a){jT.call(this,a);var b=this;this.NF=new t("notifyMouseEnter");this.OF=new t("notifyMouseExit");this.element.onmouseenter=function(){b.NF.j(void 0)};this.element.onmouseleave=function(c){b.OF.j(c)}}q(mT,jT);function nT(a,b){x.call(this);var c=this;this.aj=new t("forceHlsPlayerEvent");this.Uo=new t("setPlayerComponentMutedEvents");this.ZA=new t("setPlayerComponentVolumeMutedEvents");this.mv=new t("playerComponentEnterFullScreenModeEvent");this.nv=new t("playerComponentReadjustForceHlsOverlayOrderEvent");this.ov=new t("playerComponentReadjustPlayButtonContainerEvent");this.Pv=new t("showJpegPlayerComponentImage");this.Zk=new t("requestVideoQualityButtonVisibilityChange");this.state={volume:60,ea:!0};this.xj=this.vd=this.hq=this.iq=this.visible=this.qq=this.Ke=this.Gb=!1;this.PB(a);a=Dn().disable_sound;void 0!==a&&"true"===a.toLowerCase()||"1"===a?(this.state.volume=0,this.state.ea=!0):mb()&&(a=window.localStorage.getItem("videoControls"),null!==a?(a=JSON.parse(a),this.state={volume:a.volume,ea:this.Km?a.isMuted:!0}):this.state.ea=!this.Km);In=this.state.ea?0:this.state.volume;this.Cp=window.navigator.userAgent;this.element.style.overflow="";this.element.style.bottom="0";this.element.style.left="0";this.element.style.height="50px";this.element.style.background="linear-gradient(180deg, rgba(50, 50, 50, 0) 0%, rgba(50, 50, 50, 0.4) 66%, rgba(50, 50, 50, 0.7) 100%)";this.pf=document.createElement("div");this.pf.style.position="absolute";this.pf.style.right="0";this.pf.style.bottom="0";this.pf.style.paddingRight="8px";this.pf.style.paddingBottom="12px";this.ti=document.createElement("div");this.ti.style.position="absolute";this.ti.style.left="0";this.ti.style.bottom="0";this.ti.style.paddingLeft="8px";this.ti.style.paddingBottom="12px";this.Px();this.Qx();this.Ox(b);this.Ex();this.Sd=new lT({Ve:Hj});this.Ix();this.wx();this.Mx();this.Dx();this.Lx();this.zx();this.I(this.Ka,this.ti);this.I(this.La,this.ti);this.I(this.Ua,this.ti);this.I(this.oe,this.pf);this.I(this.Sd,this.pf);this.I(this.ha,this.pf);this.I(this.pd,this.pf);this.I(this.ve,this.pf);this.I(this.Of,this.pf);this.I(this.Fc,this.pf);this.I(this.Wa,this.pf);this.element.appendChild(this.ti);this.element.appendChild(this.pf);M.h(function(d){var e,f;d.C.Gb?(c.xj=d.C.Bf,c.Ch(d.B.status),d.B.event.Tc.h(function(g){var h;c.OB(g.Ea);c.Ch(g.Ea);"privatespying"===g.Ea&&cc.j(void 0);c.Mr(g.Ea);null===(h=c.Jb)||void 0===h?void 0:lp(h)}),d.B.event.Jj.h(function(g){c.xj=g.Bf&&d.C.Gb;c.Ch(d.B.status)})):(c.xj=!1,c.Ch(d.B.status));null===(e=c.Jb)||void 0===e?void 0:e.show();Pb()&&!Nb()&&!Db()&&iz&&void 0===c.Jb&&(c.Jb=rp(c.Sd.element,{width:250,content:$l,li:!1,ud:0,fe:"135px",ki:function(){return 0},Ni:function(){return 15},Ov:["fullvideo","fullscreen","theater"]},null!==(f=c.kb.parentElement)&&void 0!==f?f:void 0),c.jf&&void 0!==c.Jb&&(c.Jb.element.style.zIndex="100"),c.Sd.hg.h(function(){var g;null===(g=c.Jb)||void 0===g?void 0:op(g)}));c.Dd=d;c.Jm&&!c.hq&&(c.hq=!0,c.yx(),c.Mr(d.C.Ga));c.Gb=d.C.Gb;c.Xy="offline"===d.C.Ga;c.$f();c.jf||oT(c);c.Li();c.lb()});Po.od.h(function(d){var e,f;"fullscreen"===d.jg?null===(e=c.Jb)||void 0===e?void 0:pp(e,1):null===(f=c.Jb)||void 0===f?void 0:pp(f,0);c.Li()});cp.h(function(d){c.visible&&d||c.lb()});jr.h(function(){c.Sk()});Rr.h(function(){jb()&&pT(c)});lD.h(function(){c.ie()},!1);B(hb(),document,function(){jb()&&gb()===c.my&&No("fullscreen")});this.element.onmousemove=function(){c.lb()};B("click",this.element,function(d){d.stopPropagation()});this.D()}q(nT,x);k=nT.prototype;k.PB=function(a){this.kb=a.element;this.Km=a.J.Wr;a.J instanceof bv?(this.jf=!0,this.Jm=a.J.qm):this.Jm=this.jf=!1;this.Ai=a.J.nl;this.hr=a.rg;this.eo=a.eo()};k.Ox=function(a){function b(d){d=d.target;c.Ua.element.contains(d)||a.element.contains(d)||(c.Zk.j(!1),C("touchend",document,b))}var c=this;this.Ua=new mT({});fT(this.Ua,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/quality-gear-sd.svg");iT(this.Ua,void 0);this.Ua.disable();this.Ua.NF.h(function(){c.Zk.j(!0);B("touchend",document,b)});this.Ua.OF.h(function(d){null!==d.relatedTarget&&(d=d.relatedTarget.parentNode,null===d||d.isEqualNode(a.element)||c.Zk.j(!1))})};k.Qx=function(){function a(c){c!==b.state.volume&&(b.state.volume=c,b.state.ea=0===b.state.volume,qT(b),b.$f(),b.Ec())}var b=this;this.La=new sr({Jc:15,Mg:50,ik:1});this.La.element.style.display="inline-block";this.La.element.style.marginBottom="7px";this.La.element.style.verticalAlign="bottom";this.La.rs.h(function(c){b.vd&&void 0!==b.Dd&&(b.ie(!1),L("ForceHLS"),b.aj.j({Go:b.Dd}),b.Zf(),Pr.j(void 0));b.Uo.j(!1);a(c)});this.La.ss.h(a);this.La.qs.h(function(c){a(c);0===b.state.volume&&b.Uo.j(!0);L("ChangeVolume",{volume:c});b.Ec()})};k.Px=function(){var a=this;this.Ka=new jT({Ve:Sl});fT(this.Ka,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/volume-control-off.svg");this.Ka.hg.h(function(){!a.jf||-1<a.Cp.indexOf("MSIE 10.0")||-1<a.Cp.indexOf("MSIE 9.0")?(L("ToggleMute",{newState:!a.state.ea}),L("ChangeVolume",{volume:a.state.volume}),a.state.ea?a.Zf():a.Sk(),a.lb()):void 0===a.Dd?w("unexpected switch to hls",{},"VIDEO_"):(a.vd&&a.ie(!1),L("ForceHLS"),a.aj.j({Go:a.Dd}),a.Zf(),Pr.j(void 0))})};k.Ex=function(){this.oe=new kT({Ve:be});fT(this.oe,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/private_show.svg");this.oe.hg.h(function(){cc.j(void 0)})};k.Ix=function(){this.ha=new kT({Ve:Hd+" (ctrl+s)",Xp:"send-tip"});fT(this.ha,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/tip-new.svg");this.ha.hg.h(function(){$b.j({})})};k.wx=function(){this.pd=new kT({Ve:Rl,Xp:"chat-btn"});this.pd.disable();fT(this.pd,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/chat-closed.svg");this.pd.hg.h(function(){dc.j(void 0)})};k.Mx=function(){this.ve=new kT({Ve:Ze,Xp:"user-list"});fT(this.ve,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/users.svg");this.ve.hg.h(function(){Zb.j(void 0)})};k.Dx=function(){this.Of=new kT({Ve:df,Xp:"more-rooms"});fT(this.Of,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/users-search.svg");this.Of.hg.h(function(){ir.j(void 0)})};k.Lx=function(){var a=this;this.Fc=new kT({Ve:mh});fT(this.Fc,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/mode-theater.svg");this.Fc.hg.h(function(){var b="split";"split"===X()&&(b="theater");L("ChangeVideoMode",{videoMode:b});No(b);Qo();a.Li()})};k.zx=function(){var a=this;this.Ke=fb()||Fb();document[ib()]=function(){jb()||(a.Ke=!1,a.Wa.disable(),V("Full screen is unavailable."))};this.Wa=new kT({Ve:nh,Xp:"full-screen"});fT(this.Wa,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/fullscreen-expand.svg");this.Ke||this.Wa.disable();this.Wa.hg.h(function(){a.gp()})};k.Ch=function(a){var b=["privaterequesting","privatespying","privatewatching"];if(!this.xj&&-1===b.indexOf(a)||!this.Ai)this.oe.disable();else{switch(a){case "unknown":case "offline":case "notconnected":case "away":case "hidden":case "passwordprotected":case "privatenotwatching":this.oe.disable();break;default:eT(this.oe,"split"!==X())}this.M()}};k.Li=function(){eT(this.ha,this.Gb);this.Of.disable();this.ve.enable();iT(this.Fc,mh);fT(this.Fc,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/mode-theater.svg");this.Fc.enable();iT(this.Wa,nh);fT(this.Wa,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/fullscreen-expand.svg");this.pd.enable();this.Sd.enable();void 0!==this.Dd&&this.Ch(this.Dd.B.status);this.Ke&&this.Wa.enable();switch(X()){case "split":this.ha.disable();this.ve.disable();this.pd.disable();this.oe.disable();this.Sd.disable();this.eo&&this.Fc.disable();break;case "videoonly":this.ha.disable();this.ve.disable();this.pd.disable();this.oe.disable();this.Sd.disable();this.Fc.disable();this.Wa.disable();break;case "theater":iT(this.Fc,ph);fT(this.Fc,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/mode-split.svg");gT(this.Fc,"default-view");this.Of.enable();break;case "fullscreen":this.Of.enable();this.Fc.disable();iT(this.Wa,oh+" (esc)");fT(this.Wa,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/fullscreen-shrink.svg");break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+X(),{},"VIDEO_")}this.Xy&&(this.Sd.element.style.display="none",this.ha.disable(),this.ve.disable(),this.pd.disable());this.lb()};k.$f=function(){var a=this.La.ed();0===a||this.state.ea?(fT(this.Ka,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/volume-control-off.svg"),gT(this.Ka,"volume-mute"),iT(this.Ka,Sl)):(50>a?(fT(this.Ka,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/volume-control-low.svg"),gT(this.Ka,"volume-medium")):(fT(this.Ka,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/volume-control-full.svg"),gT(this.Ka,"volume-high")),iT(this.Ka,uj))};function qT(a){a.ZA.j(Object.assign({},a.state))}k.Ec=function(){mb()&&!this.hr&&window.localStorage.setItem("videoControls",JSON.stringify({volume:this.state.volume,isMuted:this.state.ea}));In=this.state.ea?0:this.state.volume};k.update=function(){oT(this);this.Ec()};function oT(a){a.La.qf(a.state.ea?0:a.state.volume);qT(a);a.$f()}k.Sk=function(){this.Gg(!0);this.update()};k.Zf=function(){this.Gg(!1);0===this.state.volume&&(this.state.volume=60);this.update()};k.toggle=function(){this.visible?this.gj():this.lb()};k.lb=function(){var a=this,b;null===(b=this.Jb)||void 0===b?void 0:b.show();this.visible=!0;Ir(this.element,"100ms");this.element.style.opacity="1";void 0!==this.Vk&&(clearTimeout(this.Vk),this.Vk=void 0);this.Vk=window.setTimeout(function(){a.Vk=void 0;a.gj()},this.qq?2E3:5E3)};k.gj=function(){var a;this.vd||(this.visible=!1,this.qq=!0,Ir(this.element,"500ms"),null===(a=this.Jb)||void 0===a?void 0:a.D(),this.element.style.opacity="0")};k.show=function(){this.element.style.visibility="";this.lb();this.element.style.zIndex=this.vd?"100":"3"};k.D=function(){this.element.style.visibility="hidden"};k.$j=function(a){this.state.volume=a;this.La.qf(this.state.ea?0:this.state.volume);this.$f()};k.Gg=function(a){this.state.ea=a;this.La.qf(this.state.ea?0:this.state.volume);this.$f()};k.NB=function(a){this.$j(a);this.Ec()};k.MB=function(a){this.Gg(a);this.Ec()};k.cd=function(){return 0};k.wu=function(){return!1};k.gp=function(){this.vd&&this.ie();jb()?eb():this.Ke&&this.mv.j(void 0);this.Li()};function pT(a){"fullscreen"===X()?eb():db(a.my)}
k.OB=function(a){switch(a){case "unknown":case "offline":case "notconnected":case "away":case "privatenotwatching":case "hidden":case "passwordprotected":if("fullscreen"===X()){eT(this.Wa,this.Ke);break}jb()&&eb();this.Wa.disable();break;case "public":case "privatespying":case "privatewatching":case "privaterequesting":eT(this.Wa,this.Ke);break;default:w("unexpected room status",a,"")}};k.ie=function(a){a=void 0===a?!0:a;this.vd&&void 0!==this.Dd&&(void 0!==this.fb&&null!==this.fb.parentElement&&(this.fb.parentElement.removeChild(this.fb),this.fb=void 0),void 0!==this.xa&&null!==this.xa.parentElement&&(this.xa.parentElement.removeChild(this.xa),this.xa=void 0),this.vd=!1,this.gj(),this.D(),this.Ua.disable(),!this.iq&&a&&(this.iq=!0,L("ForceHLS"),this.aj.j({Go:this.Dd,Zf:!1}),Pr.j(void 0)),this.element.style.zIndex="3")};function XS(a){a.jf&&a.vd&&a.ie()}
k.Ax=function(){var a=this;this.fb=document.createElement("div");this.fb.style.width="100%";this.fb.style.height="100%";this.fb.style.position="absolute";this.fb.style.top="0";this.fb.style.left="0";this.fb.style.cursor="pointer";B("click",this.fb,function(){a.ie()});B("click",this.element,function(){a.ie()});this.nv.j(this.fb)};k.Mr=function(a){void 0!==this.xa&&void 0!==this.fb&&("public"===a?(this.xa.style.display="",this.fb.style.display=""):(this.xa.style.display="none",this.fb.style.display="none"));this.M()};k.yx=function(){var a=this;if(this.jf){this.vd=!0;this.xa=document.createElement("div");var b=this.kb.getBoundingClientRect(),c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/play-inactive.svg";c.style.width="60px";c.style.height="60px";c.style.position="relative";c.style.top="40px";c.style.left="45px";c.style.cursor="pointer";B("click",c,function(){a.ie()});this.xa.style.position="absolute";this.xa.style.top=b.height/2-70+"px";this.xa.style.left=b.width/2-70+"px";this.xa.style.cursor="pointer";this.xa.style.width="140px";this.xa.style.height="140px";this.xa.style.borderRadius="50%";this.xa.style.backgroundColor="rgba(0,0,0,0.25)";this.xa.appendChild(c);this.ov.j(this.xa);this.Pv.j(void 0);this.Ax();this.H()}};k.H=function(){if(void 0!==this.xa){var a=this.kb.getBoundingClientRect();this.xa.style.top=a.height/2-70+"px";this.xa.style.left=a.width/2-70+"px"}};k.MF=function(a){this.hr=a};k.PF=function(a){this.Km=a};k.QF=function(a){this.Ai=a};k.Ez=function(a){this.jf=a};k.Dz=function(a){this.Jm=a};k.RF=function(a){this.Sd.$A(a)};k.zm=function(){};k.dH=function(a){eT(this.Ua,a)};k.cH=function(a){this.Ua.element.style.paddingTop=(a?14:0)+"px"};k.lE=function(){return this.ti.offsetLeft+this.Ua.element.offsetLeft};k.VC=function(a){for(var b=l(this.La.element.children),c=b.next();!c.done;c=b.next())if(a===c.value)return!0;return a===this.Ka.element||a===this.La.element||a===this.La.Z};k.Tu=function(a){a?fT(this.pd,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/chat-closed.svg"):fT(this.pd,"https://static-assets.highwebmedia.com/tsdefaultassets/video-controls/light/chat-opened.svg")};function rT(a,b){x.call(this);var c=this;this.aj=new t("forceHlsPlayerEvent");this.Uo=new t("setPlayerComponentMutedEvents");this.ZA=new t("setPlayerComponentVolumeMutedEvents");this.mv=new t("playerComponentEnterFullScreenModeEvent");this.nv=new t("playerComponentReadjustForceHlsOverlayOrderEvent");this.ov=new t("playerComponentReadjustPlayButtonContainerEvent");this.Pv=new t("showJpegPlayerComponentImage");this.Zk=new t("requestVideoQualityButtonVisibilityChange");this.$c=new t("videoOfflineChange");this.state={volume:60,ea:!0};this.xj=this.vd=this.hq=this.iq=this.visible=this.qq=this.Ke=this.Gb=!1;this.PB(a);a=Dn().disable_sound;void 0!==a&&"true"===a.toLowerCase()||"1"===a?(this.state.volume=0,this.state.ea=!0):mb()&&(a=window.localStorage.getItem("videoControls"),null!==a?(a=JSON.parse(a),this.state={volume:a.volume,ea:this.Km?a.isMuted:!0}):this.state.ea=!this.Km);In=this.state.ea?0:this.state.volume;this.Cp=window.navigator.userAgent;this.element.style.overflow="";this.element.style.bottom="0";this.element.style.left="0";this.element.style.height="26px";this.element.style.background="linear-gradient(180deg, rgba(50, 50, 50, 0) 0%, rgba(50, 50, 50, 0.4) 66%, rgba(50, 50, 50, 0.7) 100%)";this.Px();this.element.appendChild(this.Ka);this.Qx();this.element.appendChild(this.La.element);this.Ox(b);this.element.appendChild(this.Ua);this.ad=new nx;this.ad.element.style.position="absolute";this.ad.element.style.bottom="0";this.ad.element.style.right="0";this.ad.element.style.textAlign="right";this.I(this.ad);this.ad.element.onclick=function(e){e.stopPropagation()};this.Ex();this.ad.element.appendChild(this.oe);this.Sd=sT(Hj);var d=!1;ZD(this.Sd,this.$c)&&(this.ad.element.appendChild(this.Sd),d=!0);this.Ix();this.ad.element.appendChild(this.ha);this.wx();this.ad.element.appendChild(this.pd);this.Mx();this.ad.element.appendChild(this.ve);this.Dx();this.ad.element.appendChild(this.Of);this.Lx();this.ad.element.appendChild(this.Fc);this.zx();this.ad.element.appendChild(this.Wa);M.h(function(e){var f,g;e.C.Gb?(c.xj=e.C.Bf,c.Ch(e.B.status),e.B.event.Tc.h(function(h){c.OB(h.Ea);c.Ch(h.Ea);"privatespying"===h.Ea&&cc.j(void 0);c.Mr(h.Ea)}),e.B.event.Jj.h(function(h){c.xj=h.Bf&&!0===e.C.Gb;c.Ch(e.B.status)})):(c.xj=!1,c.Ch(e.B.status));null===(f=c.Jb)||void 0===f?void 0:f.show();Pb()&&!Nb()&&!Db()&&d&&iz&&void 0===c.Jb&&(c.Jb=rp(c.Sd,{width:250,content:$l,li:!1,ud:0,fe:"135px",ki:function(h){return tT()?0:.45*h.getBoundingClientRect().width},Ni:function(h){return tT()?.18*h.getBoundingClientRect().height:3},Ov:["fullvideo","fullscreen","theater"]},null!==(g=c.kb.parentElement)&&void 0!==g?g:void 0),c.jf&&void 0!==c.Jb&&(c.Jb.element.style.zIndex="100"),B("click",c.Sd,function(){var h;null===(h=c.Jb)||void 0===h?void 0:op(h)}));c.Dd=e;c.Jm&&!c.hq&&(c.hq=!0,c.yx(),c.Mr(e.C.Ga));c.Gb=e.C.Gb;c.Xy="offline"===e.C.Ga;c.$f();c.jf||oT(c);c.Li();c.lb()});Po.od.h(function(e){var f,g;"fullscreen"===e.jg?null===(f=c.Jb)||void 0===f?void 0:pp(f,1):null===(g=c.Jb)||void 0===g?void 0:pp(g,0);c.Li()});cp.h(function(e){c.visible&&e||c.lb()});jr.h(function(){c.Sk()});Rr.h(function(){jb()&&pT(c)});lD.h(function(){c.ie()},!1);B(hb(),document,function(){jb()&&gb()===c.my&&No("fullscreen")});this.element.onmousemove=function(){c.lb()};B("click",this.element,function(e){e.stopPropagation()});this.D()}q(rT,x);k=rT.prototype;k.PB=function(a){this.kb=a.element;this.Km=a.J.Wr;a.J instanceof bv?(this.jf=!0,this.Jm=a.J.qm):this.Jm=this.jf=!1;this.Ai=a.J.nl;this.hr=a.rg;this.eo=a.eo()};k.Ox=function(a){function b(d){d=d.target;c.Ua.contains(d)||a.element.contains(d)||(c.Zk.j(!1),C("touchend",document,b))}var c=this;this.Ua=sT("");this.Ua.style.position="absolute";this.Ua.style.bottom="0";this.Ua.style.left="103px";this.Ua.onmouseover=function(){c.Zk.j(!0);B("touchend",document,b)};this.Ua.onmouseout=function(d){null!==d.relatedTarget&&(d=d.relatedTarget.parentNode,null===d||d.isEqualNode(a.element)||c.Zk.j(!1))}};k.Qx=function(){function a(c){c!==b.state.volume&&(b.state.volume=c,b.state.ea=0===b.state.volume,qT(b),b.$f(),b.Ec())}var b=this;this.La=new sr({Jc:12,Mg:50});this.La.element.style.margin="6px 5px 0 0";this.La.element.style.position="absolute";this.La.element.style.bottom="7px";this.La.element.style.left="36px";this.La.rs.h(function(c){b.vd&&void 0!==b.Dd&&(b.ie(!1),L("ForceHLS"),b.aj.j({Go:b.Dd}),b.Zf(),Pr.j(void 0));b.Uo.j(!1);a(c)});this.La.ss.h(a);this.La.qs.h(function(c){a(c);0===b.state.volume&&b.Uo.j(!0);L("ChangeVolume",{volume:c});b.Ec()})};k.Px=function(){var a=this;this.Ka=document.createElement("img");this.Ka.style.height="24px";this.Ka.style.width="24px";this.Ka.style.margin="0 6px 2px 6px";this.Ka.style.cursor="pointer";this.Ka.style.position="absolute";this.Ka.style.bottom="0";this.Ka.onclick=function(){!a.jf||-1<a.Cp.indexOf("MSIE 10.0")||-1<a.Cp.indexOf("MSIE 9.0")?(L("ToggleMute",{newState:!a.state.ea}),L("ChangeVolume",{volume:a.state.volume}),a.state.ea?a.Zf():a.Sk(),a.lb()):void 0===a.Dd?w("unexpected switch to hls",{},"VIDEO_"):(a.vd&&a.ie(!1),L("ForceHLS"),a.aj.j({Go:a.Dd}),a.Zf(),Pr.j(void 0))}};k.Ex=function(){this.oe=sT(be);this.oe.onclick=function(){cc.j(void 0)}};k.Ix=function(){this.ha=sT(Hd);this.ha.id="send-tip";this.ha.onclick=function(){$b.j({})}};k.wx=function(){this.pd=sT("Chat");this.pd.id="chat-btn";this.pd.style.display="none";this.pd.onclick=function(){dc.j(void 0)}};k.Mx=function(){var a=this;this.ve=sT(Ze+" (0)");this.ve.id="user-list";this.ve.onclick=function(){Zb.j(void 0)};IN.h(function(b){a.ve.innerText=Ze+" ("+b+")"})};k.Dx=function(){this.Of=sT("More Rooms");this.Of.id="more-rooms";this.Of.onclick=function(){ir.j(void 0)}};k.Lx=function(){var a=this;this.Fc=sT("Theater Mode");this.Fc.onclick=function(){var b="split";"split"===X()&&(b="theater");L("ChangeVideoMode",{videoMode:b});No(b);Qo();a.Li()}};k.zx=function(){var a=this;this.Ke=fb()||Fb();document[ib()]=function(){jb()||(a.Ke=!1,a.Wa.style.display="none",V("Full screen is unavailable."))};this.Wa=sT("Full Screen");this.Wa.id="full-screen";this.Ke||(this.Wa.style.display="none");this.Wa.onclick=function(){a.gp()}};k.Ch=function(a){var b=["privaterequesting","privatespying","privatewatching"];if(!this.xj&&-1===b.indexOf(a)||!this.Ai)this.oe.style.display="none";else switch(a){case "unknown":case "offline":case "notconnected":case "away":case "hidden":case "passwordprotected":case "privatenotwatching":this.oe.style.display="none";break;default:this.oe.style.display="split"===X()?"none":"inline-block"}};k.Li=function(){this.ha.style.display=this.Gb?"inline-block":"none";this.Of.style.display="none";this.ve.style.display="inline-block";this.Fc.innerText=mh;this.Fc.style.display="inline-block";this.Wa.innerText=nh;this.pd.style.display="inline";this.Sd.style.display="block";void 0!==this.Dd&&this.Ch(this.Dd.B.status);this.Ke&&(this.Wa.style.display="inline-block");switch(X()){case "split":this.ha.style.display="none";this.ve.style.display="none";this.pd.style.display="none";this.oe.style.display="none";this.Sd.style.display="none";this.eo&&(this.Fc.style.display="none");break;case "videoonly":this.ha.style.display="none";this.ve.style.display="none";this.pd.style.display="none";this.oe.style.display="none";this.Sd.style.display="none";this.Fc.style.display="none";this.Wa.style.display="none";break;case "theater":this.Fc.innerText=ph;this.Fc.id="default-view";this.Of.style.display="inline-block";break;case "fullscreen":this.Of.style.display="inline-block";this.Fc.style.display="none";this.Wa.innerText=oh;break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+X(),{},"VIDEO_")}this.Xy&&(this.Sd.style.display="none",this.ve.style.display="none");this.lb()};k.$f=function(){var a=this.La.ed();0===a||this.state.ea?(this.Ka.src="https://static-assets.highwebmedia.com/tsdefaultassets/volume-mute.svg",this.Ka.id="volume-mute"):33>a?(this.Ka.src="https://static-assets.highwebmedia.com/tsdefaultassets/volume-low.svg",this.Ka.id="volume-low"):66>a?(this.Ka.src="https://static-assets.highwebmedia.com/tsdefaultassets/volume-medium.svg",this.Ka.id="volume-medium"):(this.Ka.src="https://static-assets.highwebmedia.com/tsdefaultassets/volume-high.svg",this.Ka.id="volume-high")};k.Ec=function(){mb()&&!this.hr&&window.localStorage.setItem("videoControls",JSON.stringify({volume:this.state.volume,isMuted:this.state.ea}));In=this.state.ea?0:this.state.volume};k.update=function(){oT(this);this.Ec()};k.Sk=function(){this.Gg(!0);this.update()};k.Zf=function(){this.Gg(!1);0===this.state.volume&&(this.state.volume=60);this.update()};k.toggle=function(){this.visible?this.gj():this.lb()};k.lb=function(){var a=this,b;this.visible=!0;uT(this);Ir(this.element,"100ms");this.element.style.opacity="1";void 0!==this.ku&&clearTimeout(this.ku);void 0!==this.Vk&&clearTimeout(this.Vk);var c=this.qq?2E3:5E3;this.ku=window.setTimeout(function(){a.ku=void 0;a.Vk=window.setTimeout(function(){a.Vk=void 0;a.gj()},c-100)},100);null===(b=this.Jb)||void 0===b?void 0:b.show()};function tT(){return"theater"===X()&&750>en()}
function uT(a){var b,c,d=tT();d?(a.ad.element.style.width="100px",a.ad.element.style.marginBottom="15px",null===(b=a.Jb)||void 0===b?void 0:pp(b,3,"12px")):(a.ad.element.style.width="",a.ad.element.style.marginBottom="",b="fullscreen"===X()?1:0,null===(c=a.Jb)||void 0===c?void 0:pp(c,b,"135px"));a=l(a.ad.element.children);for(c=a.next();!c.done;c=a.next())c=c.value,c instanceof HTMLElement&&"none"!==c.style.display&&(c.style.display=d?"block":"inline-block")}
k.gj=function(){var a;this.vd||void 0!==this.ku||(this.visible=!1,this.qq=!0,Ir(this.element,"500ms"),this.element.style.opacity="0",null===(a=this.Jb)||void 0===a?void 0:a.D())};k.show=function(){this.element.style.visibility="";this.lb();this.element.style.zIndex=this.vd?"10":"2"};k.D=function(){this.element.style.visibility="hidden"};k.$j=function(a){this.state.volume=a;this.La.qf(this.state.ea?0:this.state.volume);this.$f()};k.Gg=function(a){this.state.ea=a;this.La.qf(this.state.ea?0:this.state.volume);this.$f()};k.NB=function(a){this.$j(a);this.Ec()};k.MB=function(a){this.Gg(a);this.Ec()};k.cd=function(){return 0};k.wu=function(){return!1};k.gp=function(){this.vd&&this.ie();jb()?eb():this.Ke&&this.mv.j(void 0);this.Li()};k.OB=function(a){switch(a){case "unknown":case "offline":case "notconnected":case "away":case "privatenotwatching":case "hidden":case "passwordprotected":if("fullscreen"===X()){this.Wa.style.display=this.Ke?"inline":"none";break}jb()&&eb();this.Wa.style.display="none";break;case "public":case "privatespying":case "privatewatching":case "privaterequesting":this.Wa.style.display=this.Ke?"inline-block":"none";break;default:w("unexpected room status",a,"")}};k.ie=function(a){a=void 0===a?!0:a;this.vd&&void 0!==this.Dd&&(void 0!==this.fb&&null!==this.fb.parentElement&&(this.fb.parentElement.removeChild(this.fb),this.fb=void 0),void 0!==this.xa&&null!==this.xa.parentElement&&(this.xa.parentElement.removeChild(this.xa),this.xa=void 0),this.vd=!1,this.gj(),this.D(),this.Ua.innerText="",this.Ua.style.display="none",!this.iq&&a&&(this.iq=!0,L("ForceHLS"),this.aj.j({Go:this.Dd,Zf:!1}),Pr.j(void 0)),this.element.style.zIndex="2")};k.Ax=function(){var a=this;this.fb=document.createElement("div");this.fb.style.width="100%";this.fb.style.height="100%";this.fb.style.position="absolute";this.fb.style.top="0";this.fb.style.left="0";this.fb.style.cursor="pointer";B("click",this.fb,function(){a.ie()});B("click",this.element,function(){a.ie()});this.nv.j(this.fb)};k.Mr=function(a){void 0!==this.xa&&void 0!==this.fb&&("public"===a?(this.xa.style.display="",this.fb.style.display=""):(this.xa.style.display="none",this.fb.style.display="none"))};k.yx=function(){var a=this;if(this.jf){this.vd=!0;this.xa=document.createElement("div");var b=this.kb.getBoundingClientRect(),c=document.createElement("img");c.src="https://static-assets.highwebmedia.com/tsdefaultassets/play-inactive.svg";c.style.width="60px";c.style.height="60px";c.style.position="relative";c.style.top="40px";c.style.left="45px";c.style.cursor="pointer";B("click",c,function(){a.ie()});this.xa.style.position="absolute";this.xa.style.top=b.height/2-70+"px";this.xa.style.left=b.width/2-70+"px";this.xa.style.cursor="pointer";this.xa.style.width="140px";this.xa.style.height="140px";this.xa.style.borderRadius="50%";this.xa.style.backgroundColor="rgba(0,0,0,0.25)";this.xa.appendChild(c);this.ov.j(this.xa);this.Pv.j(void 0);this.Ax();this.H()}};k.H=function(){if(void 0!==this.xa){var a=this.kb.getBoundingClientRect();this.xa.style.top=a.height/2-70+"px";this.xa.style.left=a.width/2-70+"px"}};k.MF=function(a){this.hr=a};k.PF=function(a){this.Km=a};k.QF=function(a){this.Ai=a};k.Ez=function(a){this.jf=a};k.Dz=function(a){this.Jm=a};k.RF=function(a){this.$c.j(a)};k.zm=function(a){this.Ua.innerText=a};k.dH=function(a){this.Ua.style.display=a?"":"none"};k.cH=function(){};k.lE=function(){return this.Ua.offsetLeft};k.VC=function(a){for(var b=l(this.La.element.children),c=b.next();!c.done;c=b.next())if(a===c.value)return!0;return a===this.Ka||a===this.La.element||a===this.La.Z};k.Tu=function(){};function sT(a){var b=document.createElement("span");b.innerText=a;b.style.color="#ffffff";b.style.fontSize="13px";b.style.padding="5px";b.style.marginRight="4px";b.style.cursor="pointer";b.style.display="inline-block";return b};function vT(a){gr.call(this);var b=this;this.F=a;this.Fz=new t("notifyQualityLevelLabelChanged");this.zm=new t("notifyQualityLevelChanged");this.CA=new t("requestVideoQualityButtonVisibilityChange");this.JG=new t("requestVideoQualityModalReposition");this.Gz=new t("notifyVisibilityChanged");this.Nm=new Map;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.minWidth="100px";this.element.style.height="auto";this.element.style.backgroundColor="black";this.element.style.position="absolute";this.element.style.borderRadius="2px";this.element.style.backgroundColor="rgba(50, 50, 50, 0.7)";this.F.J instanceof fv&&B("visibilitychange",document,function(){b.F.ZB||("visible"===document.visibilityState?(void 0!==b.gA&&(b.zm.j(b.gA),b.gA=void 0),clearTimeout(b.dN)):"hidden"===document.visibilityState&&wT(b))});this.element.onmouseleave=function(){b.D()}}q(vT,gr);k=vT.prototype;k.H=function(){this.JG.j(void 0)};k.clear=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.Fx=function(a){var b=this,c=document.createElement("div");c.innerText=a.label;c.style.color="#ffffff";c.style.fontSize="13px";c.style.padding="5px";c.style.marginRight="6px";c.style.cursor="pointer";c.style.width="100%";a.sl?(c.style.backgroundColor="#ffffff",c.style.color="#333333"):(c.onclick=function(){L("clickMenuLink:QualitySelect-"+a.label);b.Bg(a.label);b.Fz.j(a.label)},c.onmouseenter=function(){c.style.backgroundColor="rgba(150, 150, 150, 0.3)"},c.onmouseleave=function(){c.style.backgroundColor=""});return c};k.Bg=function(a){a=this.Nm.get(a);void 0===a?w("Undefined quality level key",{},"VIDEO_"):(this.zm.j(a),this.Sx=a)};function wT(a){a.dN=window.setTimeout(function(){a.gA=a.Sx;a.zm.j(0);a.Sx=0},3E5)}k.show=function(){this.Gz.j(!0);this.ob();this.element.style.visibility="";this.H()};k.D=function(){this.Gz.j(!1);this.Sa();this.element.style.visibility="hidden"};function xT(a){ov.call(this,a,new NG(!1),{NK:!0});var b=this;this.le=!0;this.ZB=this.rg=!1;J(this.element,{position:"relative",backgroundColor:"#000000",overflow:"hidden"});this.J.element.style.position="relative";this.wc.style.position="absolute";this.wc.style.width="88px";this.wc.style.height="26px";this.wc.style.top="6px";this.wc.style.right="6px";this.wc.style.visibility="hidden";Hb()&&(this.wc.style.opacity="0.5");this.Dc.ro.style.visibility="hidden";this.Dc.Ai=this.J.nl;this.yf=new vT(this);"IconVideoControls"===(new Hp(["IconVideoControls","TextVideoControls"],"vidctrls")).Ls?this.Aa=new nT(this,this.yf):this.Aa=new rT(this,this.yf);yT(this);zT(this);this.xp();this.J.element.appendChild(this.wc);Pa(this,this.Dc);this.I(this.yf);this.I(this.Aa);this.Aa.show();this.element.onmousemove=function(){"split"===X()&&b.J.lb()}}q(xT,ov);function AT(a,b){a.I(b);b.element.style.zIndex="2"}
function zT(a){a.Aa.aj.h(function(b){var c=b.Zf;tv(a,b.Go,null!==c&&void 0!==c?c:!0)});a.Aa.Uo.h(function(b){a.J.Ag(b)});a.Aa.mv.h(function(){a.J.cm()});a.Aa.ZA.h(function(b){a.J.an(b.volume,b.ea)});a.Aa.nv.h(function(b){a.J.element.insertBefore(b,a.J.element.firstChild)});a.Aa.ov.h(function(b){a.element.insertBefore(b,a.Aa.element)});a.Aa.Pv.h(function(){a.J instanceof bv&&(a.J.Nd.style.visibility="visible")});a.Aa.Zk.h(function(b){b?a.yf.show():a.yf.D()})}
function yT(a){a.yf.zm.h(function(b){a.J.Bg(b)});a.yf.Fz.h(function(b){a.Aa.zm(b)});a.yf.CA.h(function(b){a.Aa.dH(b)});a.yf.JG.h(function(){var b=a.yf,c=a.Aa.element.offsetHeight;b.element.style.left=a.J.element.offsetLeft+a.Aa.lE()+"px";b.element.style.bottom=c+"px"});a.yf.Gz.h(function(b){a.Aa.cH(b)})}k=xT.prototype;k.Yw=function(){var a=this,b,c;ov.prototype.Yw.call(this);this.J.yh.h(function(d){d?a.Aa.show():a.Aa.D()});null===(b=this.J.Fr)||void 0===b?void 0:b.h(function(d){var e=d.volume;d.save?a.Aa.NB(e):a.Aa.$j(e)});null===(c=this.J.Zm)||void 0===c?void 0:c.h(function(d){var e=d.ea;d.save?a.Aa.MB(e):a.Aa.Gg(e)});this.J.$c.h(function(d){a.Aa.RF(d)});this.J.wg.h(function(d){var e=a.yf;e.Nm.clear();e.clear();for(var f=l(d),g=f.next();!g.done;g=f.next())g=g.value,e.Nm.set(g.label,g.value),1===d.length&&(g.sl=!0),e.element.appendChild(e.Fx(g)),g.sl&&(e.Fz.j(g.label),e.Sx=g.value);0===d.length?e.CA.j(!1):e.CA.j(!0)})};k.uH=function(){this.J.element.style.position="relative"};k.H=function(){function a(){var d=b.J.cd();b.rg&&"split"===c&&b.J instanceof rv&&(d=32);if("theater"===c)b.rg&&(b.J.element.style.height="100%",b.J.element.style.width="100%");else if("videoonly"===c){d=document.documentElement.clientHeight;var e=document.documentElement.clientWidth;b.element.style.height=(b.le?d:.75*e)+"px";b.element.style.width=(b.le?d/.5625:e)+"px";b.J.element.style.height="100%";b.J.element.style.width="auto"}else b.element.style.height=b.element.offsetWidth*(b.le?.5625:.75)+
d+"px",b.element.style.width="100%",b.J.element.style.height="100%",b.J.element.style.width="100%";b.J.element.style.left="0";b.wc.style.visibility=Xc.cB||b.rg?"hidden":""}var b=this,c=X();switch(c){case "split":a();this.rg||this.J.lb();break;case "videoonly":a();this.J.lb();break;case "theater":a();jb()||this.J.lb();break;case "fullscreen":this.J.lb();break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+c)}};function BT(a,b){a.rg=b;a.J instanceof rv&&(a.J.rg=b);a.Aa.MF(a.rg);b?a.H():window.setTimeout(function(){a.H()},0)}k.ly=function(a){ov.prototype.ly.call(this,a);this.Aa.element.style.display="block";a=this.Aa;a.Li();a.show()};k.xp=function(){ov.prototype.xp.call(this);this.Aa.PF(this.J.Wr);this.Aa.QF(this.J.nl);this.J instanceof bv?(this.Aa.Ez(!0),this.Aa.Dz(this.J.qm)):(this.Aa.Ez(!1),this.Aa.Dz(!1))};k.Tu=function(a){this.Aa.Tu(a)};k.eo=function(){return!1};function CT(a){aI.call(this,a);var b=this;this.kt=a;y(this.element,"theatermodePureChat");Po.od.h(function(){b.Qa()});cp.h(function(){b.Qa()})}q(CT,aI);function DT(a){a=void 0===a?!1:a;x.call(this);var b=this;this.Za=a;this.oG="User";this.element.id="gameInfoBar";J(this.element,{display:"none",borderRadius:"3px",boxSizing:"border-box",marginBottom:"6px",overflow:"visible",position:"static"});this.element.appendChild(this.yD=W("div",null));It.h(function(c){b.render(c)},!1);M.h(function(c){b.oG=c.C.A;ET(b,c.B.A())})}q(DT,x);DT.prototype.render=function(a){void 0!==a&&null!==a?(a=FT(this,a),this.element.replaceChild(a,this.yD),this.yD=a,this.show()):this.D()};function FT(a,b){var c,d,e,f;return W("div",{style:{borderRadius:"3px",overflow:"hidden",padding:"6px",position:"relative",display:"flex"},className:"GameInfoBar"},W("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},className:"gameImage"},W("img",{src:null!==(c=null===b||void 0===b?void 0:b.image)&&void 0!==c?c:"https://static-assets.highwebmedia.com/tsdefaultassets/images/obs_icon_small.png",alt:null!==(d=null===b||void 0===b?void 0:b.name)&&void 0!==d?d:"",width:"48",height:"48",style:{borderRadius:"5px",marginRight:"8px",objectFit:"cover",overflow:"hidden"}})),W("div",{style:{height:"100%",verticalAlign:"center",paddingLeft:"8px",width:"100%"}},W("div",{style:{fontSize:"14px",lineHeight:"14px",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",padding:"6px 0"}},a.Za?"You are":a.oG+" is"," playing"," ",W("a",{href:null===b||void 0===b?void 0:b.fE,target:"_blank",rel:"noopener"},null===b||void 0===b?void 0:b.name)),W("div",{style:{paddingBottom:"6px",width:"100%"}},W("p",{style:{fontSize:"12px",lineHeight:"12px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",margin:"0px",width:"100%"}},a.Za?W("span",null,"We added"," ",W("a",{href:"/tag/gaming/",target:"_blank"},"#gaming")," ","and"," ",W("a",{href:"/tag/"+encodeURI(GT(null!==(e=null===b||void 0===b?void 0:b.name)&&void 0!==e?e:"")),target:"_blank",rel:"noopener"},"#",GT(null!==(f=null===b||void 0===b?void 0:b.name)&&void 0!==f?f:""))," ","to your stream, but did not change your room subject."):null===b||void 0===b?void 0:b.description))),W("div",{style:{width:"40%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"}},a.Za?W("div",{style:{borderRadius:"4px",cursor:"pointer",fontSize:"14px",lineHeight:"16px",marginRight:"6px",padding:"6px",right:"0"},className:"stopStreamingButton",onClick:function(){Dt()}},el):W("div",{style:{margin:"6px 0",padding:"8px",textAlign:"right",boxSizing:"border-box",width:"100%"}},fl," ",W("a",{href:"https://games.multimediallc.com/",target:"_blank"},gl))))}function ET(a,b){et(a,function d(){var e=this,f;return Ba(d,function(g){if(1==g.aa)return g.Kl=2,f=e.render,ta(g,Ft(b),4);2!=g.aa?(f.call(e,g.ae),g.aa=0,g.Kl=0):(ua(g),g.aa=0)})})}DT.prototype.show=function(){this.element.style.display=""};DT.prototype.D=function(){this.element.style.display="none"};function GT(a){return a.split(/\s+/).map(function(b){return b[0].toUpperCase()+b.substring(1)}).join("").replace(/[^\w\d]/g,"")};function HT(){x.call(this);var a=this;this.qo=[];this.element.style.position="static";this.element.style.overflow="";M.h(function(b){for(var c=l(b.C.Wp),d=c.next();!d.done;d=c.next())d=d.value,0>a.qo.indexOf(d.Vn)&&"1"!==Wa("dism_msg"+d.Vn)&&(a.qo.push(d.Vn),a.render(d));!1===b.C.Gb&&!1===Xc.Nk&&0>a.qo.indexOf("exhib")&&"1"!==Wa("dism_msgexhib")&&(a.qo.push("exhib"),a.render({Vn:"exhib",AF:"\n                            "+Pl+'\n                            <a href="https://www.surveymonkey.com/r/7BRYB9L" target="_blank" style="font-size:inherit">'+
vg+"</a>\n                        "}))})}q(HT,x);HT.prototype.render=function(a){var b=this,c=document.createElement("div");y(c,"dismissibleMessage");y(c,"dismissibleMessageColor");c.innerHTML=a.AF;c.style.fontSize="12px";c.style.padding="3px";c.style.margin="5px 0";c.style.borderRadius="2px";c.style.lineHeight="16px";var d=document.createElement("a");y(d,"hrefColor");d.textContent=ig;d.style.cursor="pointer";var e=document.createElement("span");e.textContent=" (";var f=document.createElement("span");f.textContent=")";c.appendChild(e);c.appendChild(d);c.appendChild(f);this.element.appendChild(c);e={};f=l(c.getElementsByTagName("a"));for(var g=f.next();!g.done;e={Al:e.Al},g=f.next())e.Al=g.value,y(e.Al,"hrefColor"),e.Al.onmouseenter=function(h){return function(){h.Al.style.textDecoration="underline"}}(e),e.Al.onmouseleave=function(h){return function(){h.Al.style.textDecoration=""}}(e);B("click",d,function(){b.element.removeChild(c);b.qo.splice(b.qo.indexOf(a.Vn),1);Xa("dism_msg"+a.Vn,"1",60)})};function IT(){gr.call(this);var a=this;this.element.id="AbuseReportModal";this.element.style.visibility="hidden";this.element.style.maxWidth="350px";this.element.style.height="auto";this.element.style.borderWidth="2px";this.element.style.borderStyle="solid";this.element.style.borderRadius="4px";this.element.style.overflow="";B("keydown",this.element,function(c){27===c.keyCode&&a.D()});var b=zo("","","295px");y(b,"divot");this.element.appendChild(b);this.ja=document.createElement("div");y(this.ja,"header");this.ja.innerText=bf;this.ja.style.fontSize="15px";this.ja.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.ja.style.padding="6px";this.element.appendChild(this.ja);this.Mc.h(function(){a.D()})}q(IT,gr);IT.prototype.show=function(a){var b=this;this.dk=this.I(new oO);this.dk.ot.h(function(){b.D()});this.xv=a;this.Eh();this.H();this.element.style.visibility="";this.dk.gg.focus();this.M()};IT.prototype.H=function(){void 0===this.xv?this.D():(this.element.style.top=this.xv.offsetHeight-4+"px",this.element.style.left=this.xv.offsetLeft+this.xv.offsetWidth-this.element.offsetWidth+(518>en()&&"split"===X()?4:-4)+"px")};IT.prototype.D=function(){this.removeChild(this.dk);this.Fb();this.element.style.visibility="hidden"};function JT(a,b){x.call(this);var c=this;this.F=a;this.ju=this.kz=!1;this.W=b;this.element.id="VideoPanel";this.element.style.position="relative";this.element.style.display="inline-block";this.element.style.borderRadius="2px";this.element.style.boxSizing="border-box";this.element.style.height="auto";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontSize="11px";this.element.style.overflow="visible";eJ=this.element;var d;this.pe=document.createElement("a");y(this.pe,"reportAbuseLink");this.pe.href="#";this.pe.innerText=cf;this.pe.style.fontSize="10px";this.pe.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.pe.style.textDecoration="none";this.pe.style.padding="8px 6px 12px 0";this.pe.style.cssFloat="right";this.pe.onmouseenter=function(){c.pe.style.textDecoration="underline"};this.pe.onmouseleave=function(){c.pe.style.textDecoration="none"};this.pe.onclick=function(p){p.preventDefault();void 0===d&&(d=c.I(new IT));d.show(c.pe)};this.element.appendChild(this.pe);this.kd=document.createElement("div");y(this.kd,"defaultColor");y(this.kd,"roomSubject");this.kd.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.kd.style.height="22px";this.kd.style.lineHeight="24px";this.kd.style.overflow="hidden";this.kd.style.fontSize="12px";this.kd.style.padding="4px 0 4px 9px";this.kd.onmouseenter=function(){c.kd.clientHeight<c.kd.scrollHeight-2&&(c.Pc.style.visibility="",c.Pc.style.top=c.kd.offsetTop+c.kd.offsetHeight+2+"px")};this.kd.onmouseleave=function(){c.Pc.style.visibility="hidden"};this.Pc=document.createElement("div");y(this.Pc,"roomSubjectTooltip");y(this.Pc,"roomSubjectToolTipColor");this.Pc.style.visibility="hidden";this.Pc.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";this.Pc.style.fontSize="12px";this.Pc.style.boxSizing="border-box";this.Pc.style.zIndex="999";this.Pc.style.position="absolute";this.Pc.style.borderRadius="4px";this.Pc.style.borderWidth="1px";this.Pc.style.borderStyle="solid";this.Pc.style.padding="10px";this.Pc.style.width="500px";this.Pc.style.height="auto";this.Pc.style.lineHeight="16px";this.element.appendChild(this.kd);this.element.appendChild(this.Pc);AT(this.F,b);this.I(this.F);this.$e=new nx;this.I(this.$e);this.de=document.createElement("span");this.de.style.width="270px";this.de.style.height="69px";this.de.style.display="inline-block";this.de.style.verticalAlign="top";this.de.style.margin="0";this.$e.element.appendChild(this.de);this.nd=b.la.Da.Y.Ow.nd;this.nd.kv.h(function(){if("split"===X()){for(;null!==c.de.firstChild;)c.de.removeChild(c.de.firstChild);c.de.appendChild(c.nd.element.cloneNode(!0))}});window.setTimeout(function(){c.ju=!0},2E3);Po.od.h(function(p){p=p.jg;c.$e.element.style.display="split"===p?"block":"none";c.de.style.display="split"===p?"inline-block":"none";c.Lh.style.display="split"===p?"inline-block":"none";c.kd.style.display="fullscreen"===p?"none":"block";c.pe.style.display="fullscreen"===p?"none":"inline";c.jn()});cp.h(function(){c.jn()});this.Lh=document.createElement("div");y(this.Lh,"defaultColor");this.Lh.style.height="69px";this.Lh.style.boxSizing="border-box";this.Lh.style.fontSize="11px";this.Lh.style.overflow="hidden";this.Lh.style.display="inline-block";this.Lh.style.verticalAlign="top";this.Lh.style.margin="0";this.$e.element.appendChild(this.Lh);a=document.createElement("div");a.style.display="block";a.style.boxSizing="border-box";a.style.width="100%";a.style.height="100%";a.style.padding="2px 10px";this.Lh.appendChild(a);b=document.createElement("div");y(b,"currentBalance");b.style.display="block";b.style.height="19px";a.appendChild(b);var e=document.createElement("span");e.innerText=Lf;b.appendChild(e);this.Lb=document.createElement("span");this.Lb.innerText="0";this.Lb.style.fontSize="15px";this.Lb.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";b.appendChild(this.Lb);this.fs=document.createElement("span");this.fs.innerText=" tokens";b.appendChild(this.fs);b=document.createElement("div");b.style.display="inline-block";b.style.verticalAlign="top";b.style.width="130px";b.style.textOverflow="ellipsis";b.style.overflow="hidden";b.style.whiteSpace="nowrap";a.appendChild(b);var f=KT($d);f.style.margin="2px 0 0 0";f.href="/tipping/purchase_tokens/";f.onclick=function(){kx();return!1};f.onmouseenter=function(){f.style.textDecoration="underline"};f.onmouseleave=function(){f.style.textDecoration="none"};b.appendChild(f);var g=KT(Hj),h=!1;ZD(g,this.F.$c)&&(b.appendChild(g),h=!0);this.Od=KT(ce);this.Od.style.display="none";b.appendChild(this.Od);var m=document.createElement("div");m.innerText=Sd;m.style.display="none";a.appendChild(m);this.Er=document.createElement("span");this.Er.style.display="none";a.appendChild(this.Er);var n=new La;gc.h(function(){var p;return null===(p=c.Jb)||void 0===p?void 0:p.D()});M.h(function(p){var v;null===(v=c.Jb)||void 0===v?void 0:v.show();Pb()&&!Nb()&&!Db()&&h&&iz&&void 0===c.Jb&&(c.Jb=rp(g,{width:250,content:$l,li:!1,ud:c.F.J instanceof bv?0:1,fe:"30px",ki:function(){return 20},Ni:function(){return 3},Ov:["split"]}),B("click",g,function(){var D;null===(D=c.Jb)||void 0===D?void 0:op(D)}));c.kd.innerText=p.C.qb;c.Pc.innerText=p.C.qb;v=isNaN(p.C.Lb)?0:p.C.Lb;c.Lb.innerText=""+v;c.fs.innerText=" "+Fc(v,!1);c.Gb=p.C.Gb;var A=p.C.Bf;c.Gb?(c.ha.style.display="inline-block",m.style.display="none",p.B.event.Jj.h(function(D){A=D.Bf;LT(c,A,p.B,p.B.status)}),p.B.event.Tc.h(function(D){var R;if(c.F.J.nl){var K=function(){LT(ca,A,p.B,D.Ea)},ca=c;er(p,D)?K():fr(p,D).then(K).catch(function(){});"passwordprotected"===D.Ea&&(null===(R=c.Jb)||void 0===R?void 0:R.D())}})):(c.ha.style.display="none",LT(c,!1,p.B,p.C.Ga),m.style.display="block",m.style.position="absolute",m.style.top="54px");r(LG.h(function(){LT(c,A,p.B,p.C.Ga)}),n);r(p.B.event.BB.h(function(D){c.kd.innerText=D;c.Pc.innerText=D}),n);c.ju=!1;window.setTimeout(function(){c.ju=!0},2E3);g.style.display="offline"===p.C.Ga?"none":"block"});XB.h(function(p){c.Lb.innerText=""+p.Ja;c.fs.innerText=" "+Fc(p.Ja,!1)});this.ha=function(p){var v=document.createElement("span");v.innerText=p;v.title=p;v.style.overflow="hidden";v.style.lineHeight="1.4";v.style.height="24px";v.style.maxWidth="76px";v.style.fontSize="12px";v.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";v.style.margin="11px 0px 11px 0px";v.style.textOverflow="ellipsis";v.style.padding="3px 10px 3px";v.style.boxSizing="border-box";v.style.cursor="pointer";v.style.display="none";v.style.borderWidth="1px";v.style.borderStyle="solid";return v}(Id);y(this.ha,"sendTipButton");this.ha.style.marginRight="4px";a.appendChild(this.ha);this.ha.onclick=function(){Qr.j({})};Tn.h(function(){Ma(n)})}q(JT,x);JT.prototype.jn=function(){var a=this;if("split"===X())this.nd.element.style.padding="0",this.nd.kv.j(void 0);else{for(;null!==this.de.firstChild;)this.de.removeChild(this.de.firstChild);this.nd.element.style.padding="3px 5px";this.ju?gM(this.W.la.Da.Y.Ow):window.setTimeout(function(){gM(a.W.la.Da.Y.Ow)},2E3)}0<this.element.clientWidth&&500>this.element.clientWidth?(this.nd.element.style.width="100%",this.de.style.width="100%"):(this.nd.element.style.width="270px",this.de.style.width="270px")};function KT(a){var b=document.createElement("a");y(b,"panelLink");b.innerText=a;b.title=a;b.style.lineHeight="1.3";b.style.display="block";b.style.maxWidth="130px";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.textDecoration="none";b.style.cursor="pointer";b.onmouseenter=function(){b.style.textDecoration="underline"};b.onmouseleave=function(){b.style.textDecoration="none"};return b}
function LT(a,b,c,d){a.Od.innerText=ce;var e=["privaterequesting","privatewatching","privatespying"];if(b||-1!==e.indexOf(d))switch(a.Od.style.display="block",a.Od.onclick=function(){nD(c)},b=function(f){f.preventDefault();a.kz||(a.kz=!0,rD(c,function(){a.kz=!1}))},d){case "privaterequesting":a.Od.innerText=he;a.Od.style.maxWidth="130px";a.Od.onclick=b;break;case "privatenotwatching":a.Od.innerText=de;a.Od.style.maxWidth="130px";a.Od.onclick=function(){pD(c)};break;case "privatewatching":case "privatespying":a.Od.innerText=je;a.Od.style.maxWidth="100px";a.Od.onclick=b;break;case "offline":case "away":case "hidden":case "notconnected":a.Od.style.display="none";a.Od.style.maxWidth="130px";break;case "passwordprotected":case "public":break;default:u("unexpected status for updatePrivateState: "+d)}else a.Od.style.display="none"}function Yo(a){return a.kd.offsetHeight+a.$e.element.offsetHeight+4};function MT(a,b){x.call(this);var c=this;this.yr=4;this.F=a;this.W=b;y(this.element,"BaseRoomContents");Jp()&&y(this.element,"modern");this.element.style.position="static";this.element.style.display="block";this.element.style.height="auto";this.element.style.borderRadius="4px";this.element.style.padding=this.yr+"px";this.element.style.margin="12px 0 17px 12px";this.element.style.overflow="visible";this.element.style.boxSizing="border-box";this.Pf=document.createElement("div");y(this.Pf,"offlineRoomNotice");this.Pf.innerText=Mg;this.Pf.style.display="none";this.Pf.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";this.Pf.style.fontSize="12px";this.Pf.style.fontWeight="bold";this.Pf.style.margin="13px 0";this.element.appendChild(this.Pf);this.zd=document.createElement("div");y(this.zd,"topSectionWrapper");this.zd.style.width="100%";this.zd.style.height="auto";this.element.appendChild(this.zd);this.Qb=this.I(new JT(this.F,this.W),this.zd);this.vr=this.I(new So(this),this.zd);this.Da=this.I(new RN,this.zd);kr.h(function(e){d?Rr.j(!0):"split"===X()&&(void 0===c.Zi&&(c.Zi=new BO(c.Da)),c.Zi.show(e))});var d=!0;M.h(function(e){d=e.B.xc;""!==e.C.Ws&&e.C.yu&&(c.wn=yE(e.C.Ws,e.C.Qc),c.rC=xE.h(function(f){f?c.wn=yE(e.C.Ws,e.C.Qc):NT(c)}))});Tn.h(function(){void 0!==c.rC&&c.rC.removeListener();NT(c)})}q(MT,x);function NT(a){void 0!==a.wn&&a.wn.readyState!==WebSocket.CLOSING&&a.wn.readyState!==WebSocket.CLOSED&&(a.wn.close(),a.wn=void 0)}
MT.prototype.H=function(){var a=this.Qb.element.offsetHeight;this.Da.element.style.width=this.element.clientWidth-this.Qb.element.offsetWidth-16+"px";this.Da.element.style.height=a+"px"};var OT=window.$;function PT(a,b){x.call(this);var c=this;this.A=a;this.PD=this.iB=!1;this.element.id="StaffLinks";this.element.style.position="static";this.element.style.height="auto";a=document.createElement("div");if(void 0!==b.uD){var d=document.createElement("div");d.id="deletion_admin_notice";d.style.margin="10px";d.innerHTML=b.uD;a.appendChild(d)}void 0!==b.tG&&(d=document.createElement("div"),y(d,"prevUsernamesSection"),d.style.padding="5px",d.style.width="500px",d.textContent="Previously known as "+b.tG,a.appendChild(d));this.element.appendChild(a);a=document.createElement("div");this.element.appendChild(a);d=document.createElement("a");d.href="#";y(d,"link");d.style.marginRight="15px";d.textContent="Show/Hide Admin Info";d.onclick=function(f){f.preventDefault();QT(c)};a.appendChild(d);this.El=document.createElement("div");this.El.id="admin-info-section";this.El.style.display="none";this.El.textContent="Loading admin information...";this.element.appendChild(this.El);for(d=0;d<b.pB.length;d+=1){var e=RT(this,b.pB[d]);a.appendChild(e);d!==b.pB.length-1&&(e=document.createElement("span"),e.style.margin="0 2px",e.textContent="|",a.appendChild(e))}b.mI&&QT(this)}q(PT,x);function RT(a,b){var c=document.createElement("a");c.href=b.href;c.textContent=b.text;y(c,"link");"View Stream Status"===b.text&&(c.onclick=function(d){d.preventDefault();d=window.open("/view_user_obs_overlay/"+a.A+"/?graph=1","obs_info","status=0,toolbar=0,menubar=0,directories=0,resizable=1,scrollbars=1,height=600,width=750");null!==d&&d.focus()});return c}function QT(a){a.iB?(a.El.style.display="none",a.iB=!1):(a.PD||(ST(a),a.PD=!0),a.El.style.display="block",a.iB=!0)}
function ST(a){E("ax/room_info/"+a.A+"/").then(function(b){OT(a.El).html(b.responseText)}).catch(function(){})};function TT(a,b,c){function d(){e.Pd.element.style.visibility="";var m=l(uv(en(),dn(),e.F.le)),n=m.next().value;m=m.next().value;e.F.element.style.height="100%";e.F.element.style.top="0";e.F.element.style.left="0";e.F.J.element.style.top="0";e.F.J.element.style.left="0";e.F.J.element.style.width=n+"px";e.F.J.element.style.height=m+"px";e.W.element.style.visibility="";e.W.element.style.position="absolute";e.W.element.style.top="0px";e.W.element.style.left="0";e.W.element.style.height=e.VB?m-52+"px":m-32+"px";e.Da.element.style.display="none";e.vr.element.style.display="none";e.M()}MT.call(this,a,b);var e=this;this.Pd=c;this.VB="IconVideoControls"===(new Hp(["IconVideoControls","TextVideoControls"],"vidctrls")).Ls;this.element.style.width="";ep(this,["margin-left","margin-right"],0,function(){return"split"===X()?12:8});this.element.id="TheaterModeRoomContents";a=UT();b=document.createElement("span");this.Hi=document.createElement("a");this.Hi.href="#";this.Hi.innerText="Theater Mode";this.Hi.id="video-mode";this.Hi.style.textDecoration="none";this.Hi.onclick=function(m){m.preventDefault();m="split";"split"===X()&&(m="theater");No(m);Qo();L("ChangeVideoMode",{videoMode:m})};b.appendChild(this.Hi);a.appendChild(b);b=document.createElement("span");b.style.display="none";c=document.createElement("span");y(c,"defaultColor");c.innerText="|";c.style.margin="0 4px";b.appendChild(c);c=document.createElement("a");c.href="#";c.innerText="Interactive Full Screen";c.id="fvm-link";c.style.textDecoration="none";c.onclick=function(m){m.preventDefault();pT(e.F.Aa);L("ChangeVideoMode",{videoMode:"fullscreen"})};b.appendChild(c);a.appendChild(b);fb()&&!Hb()&&(b.style.display="inline");this.EF=a;this.element.appendChild(a);var f=UT(!1);this.element.appendChild(f);var g;M.h(function(m){void 0!==g&&(e.removeChild(g),g=void 0);void 0!==m.C.Yv?(f.style.display="block",g=e.I(new PT(m.C.A,m.C.Yv),f)):f.style.display="none"});this.Wp=this.I(new HT);this.RJ=new DT;this.I(this.RJ);this.I(new ES);var h=!0;Po.od.h(function(m){void 0!==e.Zi&&"split"!==X()&&e.Zi.D();if(h||X()!==m.fL)switch(m.jg){case "split":e.element.style.marginLeft="12px";e.element.style.marginRight="12px";e.F.J.element.style.top="0";e.W.element.style.top="0";e.W.element.style.visibility="hidden";e.W.element.style.position="fixed";e.Pd.element.style.visibility="hidden";e.Da.element.style.display="inline-block";e.vr.element.style.display="inline-block";e.M();e.Hi.innerText="Theater Mode";break;case "theater":e.element.style.marginLeft="8px";e.element.style.marginRight="8px";e.F.J.element.style.top="0";e.W.element.style.top="0";e.W.element.style.visibility="";e.W.element.style.position="absolute";e.Pd.element.style.visibility="";e.Pd.Qa();e.Da.element.style.display="none";e.vr.element.style.display="none";e.vr.mg(e.element.clientWidth);e.M();e.Hi.innerText="Split Mode";break;case "fullscreen":d();window.setTimeout(function(){"fullscreen"===X()&&d()},500);break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+m.jg)}h=!1;window.setTimeout(function(){e.M()},300)});a=document.getElementById("close_entrance_terms");null!==a&&B("click",a,function(){e.M()});this.F.Aa.aj.h(function(){e.M()})}q(TT,MT);function UT(a){a=void 0===a?!0:a;var b=document.createElement("div");y(b,"defaultColor");y(b,"styledDiv");b.style.fontSize="12px";b.style.padding="3px";b.style.margin="5px 0";b.style.borderRadius="2px";b.style.lineHeight="16px";b.style.display=a?"":"none";return b}
TT.prototype.H=function(){if("theater"===X()){var a=this.element.clientWidth-2*this.yr,b=document.documentElement.clientHeight-118,c=this.F.le;270>=b?(b=270,a=b/(c?.5625:.75)):(b=l(uv(a,b-27,c)),a=b.next().value,b=b.next().value,270>=b&&(b=270,a=b/(c?.5625:.75)));a=l([a,b]);c=a.next().value;a=a.next().value;this.W.element.style.height=this.VB?a-52+"px":a-32+"px";this.F.element.style.height=a+"px";b=this.F;b.rg?(b.J.element.style.height="100%",b.J.element.style.width="100%"):(b.J.element.style.width=c+"px",b.J.element.style.height=a+"px");this.VB?this.W.element.style.width="100%":750>en()?(this.W.element.style.width=this.element.clientWidth-115+"px",this.W.M()):this.W.element.style.width="100%"}else"fullscreen"===X()&&(this.W.element.style.width="100%");this.F.M();this.vr.mg()};function VT(a){var b=Ro();if("split"===b){var c="theater";a.Hi.innerText="Theater Mode"}else c="split",a.Hi.innerText="Split Mode";Oo(Po,c,!0);No(b)};function WT(){x.call(this);this.$t=document.createElement("frameset");this.frame=document.createElement("frame");this.vb=document.createElement("div");this.element.style.position="static";this.Np();this.$t.appendChild(this.frame)}q(WT,x);function XT(a,b,c){a.frame.src=b;a.vb.style.display="block";window.onFrameLoad=function(d){void 0!==c&&c(d);a.vb.style.display="none"}}function YT(a){document.body.insertBefore(a.element,document.body.firstChild);document.documentElement.appendChild(a.$t)}
WT.prototype.Np=function(){this.vb.style.animationName="spin";this.vb.style.position="absolute";this.vb.style.top="50%";this.vb.style.left="50%";this.vb.style.width="30px";this.vb.style.height="31px";this.vb.style.margin="-15px 0 0 -15px";this.vb.style.background='url("https://static-assets.highwebmedia.com/tsdefaultassets/images/loading_spinner.svg")';this.vb.style.backgroundSize="cover";this.vb.style.animationName="spin";this.vb.style.webkitAnimationName="spin";this.vb.style.animationDuration="2s";this.vb.style.webkitAnimationDuration="2s";this.vb.style.animationTimingFunction="linear";this.vb.style.webkitAnimationTimingFunction="linear";this.vb.style.animationIterationCount="infinite";this.vb.style.webkitAnimationIterationCount="infinite";this.vb.style.zIndex="-1";this.element.appendChild(this.vb)};function ZT(a){var b=document.querySelector("#login_inputs form");null!==b&&(b.action=$T(b.action,"next","/"+a+"/"));b=document.querySelector('#login_inputs input[name="next"]');null!==b&&(b.value="/"+a+"/")}function aU(a){var b=document.querySelector(".nav-bar .creat");null===b&&(b=document.querySelector("#user_information .auip_creat"));null!==b&&(b.href=$T(b.href,"room",a))}
function $T(a,b,c){var d=void 0===d?!0:d;var e=a.split(/\s*[?&]\s*/).reduce(function(f,g){return 0===g.indexOf(b+"=")?g:f},"");return""!==e?a.replace(e,b+"="+c):d&&-1!==a.indexOf("?")?a+"&"+b+"="+c:d?a+"?"+b+"="+c:a};function bU(){rc.call(this,{Zl:!1});var a=this;this.Fb=!0;var b={width:"en"===aC?"300px":"320px",height:"auto",marginRight:"10px"};J(this.element,{position:"fixed",right:"20px",bottom:"20px",width:"auto",height:"auto",zIndex:1099,boxSizing:"border-box",filter:"drop-shadow(0px 0px 16px rgba(0, 0, 0, 0.16))",borderRadius:"4px",WebkitOverflowScrolling:"touch"});y(this.element,"RoomSignupPopup");b=W("div",{style:{display:"block",margin:"16px 14px"}},W("div",{style:{position:"absolute",width:"195px",height:"175px",left:"161px",bottom:"-39px",background:"transparent url(https://static-assets.highwebmedia.com/tsdefaultassets/signup_popup_bg.svg) no-repeat",zIndex:-1}}),W("div",{style:{position:"absolute",top:"0px",right:"0px",margin:"8px"}},W("button",{style:{background:"transparent url(https://static-assets.highwebmedia.com/tsdefaultassets/close-lightgray.svg) no-repeat center center",backgroundSize:"12px",padding:"12px",border:"none",cursor:"pointer"},type:"submit",onClick:function(c){c.preventDefault();a.D()}})),W("div",{style:b},W("p",{style:{margin:"0 0 8px",font:"16px 'UbuntuBold', Arial, Helvetica, sans-serif",lineHeight:"24px"},className:"title"},rd),W("p",{style:{margin:"0 0 16px",font:"16px 'UbuntuRegular', Arial, Helvetica, sans-serif",lineHeight:"24px"},className:"body"},sd),W("div",{style:{overflow:"hidden"}},W("a",{href:"/accounts/register/",type:"button",style:{cssFloat:"left",font:"14px 'UbuntuLight', Arial, Helvetica, sans-serif",lineHeight:"16px",textDecoration:"none",padding:"8px",border:"1px solid #cd5c26",borderRadius:"4px",boxSizing:"border-box"},className:"signupLink",onClick:function(){L("RoomPopupSignupClicked")}},td))));this.element.appendChild(b)}q(bU,rc);var cU,dU;function eU(){void 0!==cU&&cU.D();void 0!==dU&&window.clearTimeout(dU);dU=window.setTimeout(function(){void 0===cU&&(cU=new bU);cU.show()},3E5)};function fU(a){nb()&&(gU?window.history.pushState({type:"nav",path:a},"",""+a):window.history.replaceState({type:"nav",path:a},"",""+a))}var gU=!1;function hU(a,b,c){dH.call(this,a,b);var d=this;this.context=c;this.Uv=[];this.So=new mM;this.Ik=this.pt=this.yk=!1;this.Xd=!0;this.mC=function(){iU(d,!0);jU(d)};c=document.getElementById("main");c.style.font="1em 'UbuntuRegular',Arial,Helvetica,sans-serif";c.appendChild(this.element);this.element.style.position="static";this.element.style.marginRight="15px";this.element.style.boxSizing="border-box";this.element.focus();eH(this);this.aB();kU(this);lU(this,a,b);gH(this,this.X.zd,this.X.Qb.ha);iH(this,a);hH(this);mU(this);B("scroll",window,function(){d.Pd.M();nU(d)},!1,!0);B("popstate",window,function(e){void 0!==e.state&&null!==e.state&&("room"===e.state.type?d.qj(e.state.room,!1):oU(d,e.state.path,!1))});XB.h(function(e){d.X.Qb.Lb.innerText=""+e.Ja;d.X.Qb.fs.innerText=" "+Fc(e.Ja,!1);lx(e.Ja)});gc.h(function(e){oU(d,e,!0)});Ov.h(function(){d.F.J instanceof rv&&fH(d);d.F.J.lb();BT(d.F,!0)});Pv.h(function(){d.F.J.lb();d.F.J instanceof rv&&fH(d);BT(d.F,!1);d.M()});this.F.$c.h(function(e){(d.Xd=e)?iU(d):nU(d)});this.M();this.Ye()}q(hU,dH);k=hU.prototype;k.uE=function(a){-1!=="away privatenotwatching hidden offline unknown notconnected passwordprotected".split(" ").indexOf(a.Ea)?(ic=this.yk=!1,this.Ik&&void 0!==this.af&&(this.af(),this.Me={A:"",qb:""},this.af=void 0,iU(this,!0)),iU(this),this.F.ZB=!0):(this.yk=!0,ic=!this.pt,nU(this),this.F.ZB=!1)};k.mE=function(a){return gU||!0===Em.current.$E?dr(a):cr(window.initialRoomDossier)};k.Oz=function(a,b){var c=this;dH.prototype.Oz.call(this,a,b);L("LoadRoom");qM(this.So,this.B);this.F.J.Im.h(function(){UG(a,c.F.J)})};k.tE=function(a){if(Op||!(Kb()||Gb()||Hb()))this.F.J instanceof rv?window.xmovie.PlayBeep(a):this.wC.gr(a,this.zf*this.F.J.ej()/100)};k.Jv=function(a){document.title=Ec(a)};k.wy=function(a){dH.prototype.wy.call(this,a);var b=this.F;b.le=a;b.J instanceof rv&&(b.J.fz=a);b.M()};k.oq=function(a,b){if(nb()){var c="";if(void 0===b||b)b=Dn(),gU&&delete b.UO,void 0!==b.advanced_options&&delete b.mN,b=Cn(b),""!==b&&(c="?"+b);gU?window.history.pushState({type:"room",room:a.A},a.qb,"/"+a.A+"/"+c):window.history.replaceState({type:"room",room:a.A},a.qb,"/"+a.A+"/"+c)}};k.sy=function(){dH.prototype.sy.call(this);this.X.zd.style.position="fixed";this.X.zd.style.top="999999px";this.X.Wp.element.style.display="none";this.X.EF.style.display="none";this.X.Pf.style.display="block";null!==this.X.Pf.parentElement?this.X.Pf.parentElement.insertBefore(this.X.Qb.ha,this.X.Pf.nextSibling):w("Error inserting roomContents.videoPanel.sendTipButton/sendPmButton: roomContents.offlineRoomNotice.parentElement is null");this.yk=!1;iU(this);ic=!1};k.hu=function(){dH.prototype.hu.call(this);this.X.zd.style.position="";this.X.zd.style.top="";this.X.zd.style.display="block";this.X.Wp.element.style.display="block";this.X.EF.style.display="block";this.X.Pf.style.display="none";null!==this.X.Qb.Er.parentElement?this.X.Qb.Er.parentElement.insertBefore(this.X.Qb.ha,this.X.Qb.Er.nextSibling):w("Error inserting sendTipButton: sendTipButtonPlaceholder.parentElement is null");this.pt=!1;ic=this.yk=!0};k.cz=function(a){return dH.prototype.cz.call(this,a)&&!Ju(a)};k.uy=function(a){dH.prototype.uy.call(this,a);this.Yz.show(a.A());this.Me={A:"",qb:""};this.X.element.style.display="none";this.Ps.element.style.display="none";IS(this.eh,a.A());this.F.J.stop();clearTimeout(tP)};k.vy=function(a){dH.prototype.vy.call(this,a);this.oq({A:a,qb:"Chat with "+a});this.yk=!1;iU(this);ic=!1;void 0!==this.af&&this.af();this.Me={A:"",qb:""};this.af=void 0;this.Yz.show(a);this.X.element.style.display="none";this.Ps.element.style.display="none";IS(this.eh,a);jU(this);aU(a);ZT(a)};k.ty=function(a){dH.prototype.ty.call(this,a);this.oq({A:a,qb:"Chat with "+a});this.yk=!1;iU(this);ic=!1;void 0!==this.af&&(this.af(),iU(this,!0));iU(this);this.Me={A:"",qb:""};this.af=void 0;this.Yz.show(a);this.X.element.style.display="none";this.Ps.element.style.display="none";IS(this.eh,a);jU(this);aU(a);ZT(a)};function kU(a){M.h(function(b){var c,d;if(0===a.Uv.length){if(0<b.C.Lb&&!b.C.BH){var e=new GS(jh,{Rl:"tfa-msg-"+b.C.userName});Qa(a,e);e.vz.h(function(){a.H()});a.Uv.splice(0,0,e)}"1"===a.context.CC&&!0===a.context.qI&&"true"!==Dn().bioq&&void 0!==(null===(d=null===(c=a.context)||void 0===c?void 0:c.Fa)||void 0===d?void 0:d.username)&&b.C.A===b.C.userName&&(b=Pa(a,new GS(od(b.C.A),{Rl:"bioq-notice"})),a.Uv.splice(0,0,b));Lb()&&void 0===document.__proto__&&(b=new GS(ih,{Rl:"ie-support-notice"}),Qa(a,b),b.vz.h(function(){a.H()}),a.Uv.splice(0,0,b))}})}function pU(a){a.W=new nP("theater",a.So);a.W.element.style.left="0";a.W.element.style.top="0";a.W.la.element.style.zIndex="";a.W.element.style.position="fixed";a.W.element.style.width="100%";C("click",a.W.la.Da.Y.G.Vj,fO);a.W.la.Da.Y.G.Vj.onclick=function(b){b.stopPropagation();b.preventDefault();$b.j({})}}function qU(a){a.Pd=new CT(a.W.la.Da.Y.G);new CP(a.W,a.Pd)}
k.xt=function(a,b){this.eh=this.I(new HS(a));this.I(new JS);this.F=new xT(b);Pa(this.eh.Ih,new PS(this.eh,this.F))};function lU(a,b,c){pU(a);qU(a);a.xt(b,c);B("click",a.element,function(){"split"!==X()&&a.F.Aa.toggle();a.W.he===a.W.la&&a.W.tq!==a.W.la&&Nn(a.W,void 0)});a.W.mt.h(function(d){a.F.Tu(d)});a.X=a.I(new TT(a.F,a.W,a.Pd));a.F.Aa.my=a.X.Qb.element;a.F.element.appendChild(a.F.yf.da);a.F.element.appendChild(a.F.yf.element);a.X.Qb.I(a.Pd);a.W.element.style.visibility="hidden";a.X.zd.style.position="fixed";a.X.zd.style.top="999999px";a.Yz=a.I(new KS(!0));b=new yP;a.Ps=a.I(new BP(b));HP(a.W,a.X.Da);Po.od.h(function(d){Oo(Po,d.jg,!1);rU(a);switch(X()){case "split":void 0!==a.W.Vd&&$b.j({});void 0!==a.W.Rh&&bc.j(void 0);rM(a.So,a.Cb);a.F.J.lb();break;case "theater":void 0!==a.W.Rh&&bc.j(void 0);a.F.J.lb();break;case "fullscreen":a.F.J.lb();a.Cb.D();break;case "noninteractive-fullscreen":break;default:w("Unexpected VideoMode: "+X(),{},"VIDEO_")}a.M();cp.j(!1)});xs.j("theater");VT(a.X)}k.M=function(){this.Ik||dH.prototype.M.call(this)};function rU(a){gU&&("split"===X()?a.X.Da.Y.G.Qa():"theater"===X()&&a.Pd.Qa(),window.setTimeout(function(){var b=a.F.element.getBoundingClientRect();if(a.X.zd.getBoundingClientRect().bottom>document.documentElement.clientHeight||b.bottom<.6*b.height)Ab().scrollTop=a.eh.element.offsetTop-4;a.M()},0))}
k.qj=function(a,b){var c=this;a===this.Me.A?(window.location.pathname!=="/"+this.Me.A+"/"&&this.oq(this.Me,!1),jU(this),this.M(),window.setTimeout(function(){nU(c)},0)):(void 0!==this.context.Fa||Xc.Nk||eU(),dH.prototype.qj.call(this,a,b))};k.hh=function(a){dH.prototype.hh.call(this,a);this.Cb.D();this.Jv(a.C.A);this.X.element.style.display="block";this.Ps.element.style.display=a.C.ri||a.C.$b||""===a.C.wp.header?"none":"block";this.zf=a.C.za.zf;this.F.J instanceof rv&&fH(this);lx(a.C.Lb);aU(a.C.A);ZT(a.C.A);this.sg=a.C.zk;void 0!==this.Hd&&(Yv(this.Hd,a.C.A),Zv(this.Hd,this.sg));this.M();gU||(gU=!0);rU(this)};function mU(a){a.W.element.ontouchstart=function(){a.sr=!0;window.setTimeout(function(){a.sr=!1},500)};a.W.element.onmousemove=function(){a.sr||a.F.J.lb()};a.F.J instanceof bv&&(a.F.J.element.ontouchstart=function(){"split"===X()&&(a.sr=!0,window.setTimeout(function(){a.sr=!1},500))},a.F.J.element.onmousemove=function(){"split"===X()&&(a.sr||a.F.J.lb())})}
function nU(a){if(!a.Ik&&!a.pt){var b=a.X.element.offsetTop+a.F.element.offsetTop+a.F.element.offsetHeight,c=Ab().scrollTop;a.context.Rt&&a.yk&&!a.Xd&&c>b+50?(void 0===a.Hd&&(a.Hd=sU(a)),a.Hd.show()):c<b+40&&iU(a)}}
function oU(a,b,c){if(a.context.Rt&&a.yk&&!a.Xd&&""!==a.Me.A){a.Ik||(a.rv=a.F.J.ej());a.Ik=!0;void 0===a.xm&&(a.xm=new WT);c&&fU(b);var d=a.xm;XT(a.xm,b,function(e){function f(g){return function(h){var m=new CustomEvent(g,{bubbles:!0,cancelable:!1});m.clientX=h.clientX;m.clientY=h.clientY;m.buttons=h.buttons;m.screenX=h.screenX;m.screenY=h.screenY;m.ctrlKey=h.ctrlKey;m.altKey=h.altKey;d.element.dispatchEvent(m)}}kc(e.document,!0);document.title=e.document.title;B("mousemove",e.document,f("mousemove"));B("mouseup",e.document,f("mouseup"));Qv.h(function(){e.login_required()});e.document.disableFloatingPlayer=a.sJ.bind(a);e.document.enableFloatingPlayer=a.xJ.bind(a);e.document.setAnimateFollowedTab=Tq;e.document.changeColorMode=function(){fc.j(void 0)}});YT(a.xm);b=document.getElementById("main");c=document.getElementById("footer-holder");document.getElementById("header").style.display="none";b.style.display="none";c.style.display="none";void 0===a.Hd&&(a.Hd=sU(a));BT(a.F,!0);a.F.J.Ag(!0);a.Hd.show();a.F.J.lb()}else window.location.href=b}function sU(a){function b(){a.pt=!0;ic=!1;a.Ik&&(void 0!==Oy&&(Ly.j(void 0),Oy.close()),void 0!==a.af&&(a.af(),a.Me={A:"",qb:""},a.af=void 0,iU(a,!0)))}if(void 0!==a.Hd)return a.Hd;var c=new Rv(a.F,function(){window.location.pathname!=="/"+a.Me.A+"/"&&L("FloatingNavClicked");a.qj(a.Me.A,!1);Ab().scrollTop=a.eh.element.offsetTop},b);Ku.h(function(d){a.Ik&&!d.active&&!0===d.bC&&(b(),c.D())});Yv(c,a.Me.A);Zv(c,a.sg);return c}
function iU(a,b){void 0!==a.Hd&&a.Hd.D(void 0===b?!1:b)}function jU(a){a.Ik=!1;if(void 0!==a.xm&&null!==a.xm.$t.parentElement){a.F.Aa.Gg(0===a.rv);a.F.Aa.$j(a.rv);a.F.J.an(a.rv,0===a.rv);a=a.xm;document.body.removeChild(a.element);document.documentElement.removeChild(a.$t);a=document.getElementById("main");var b=document.getElementById("footer-holder");document.getElementById("header").style.display="block";a.style.display="block";b.style.display="block"}}k.mg=function(){void 0!==this.Hd&&this.Hd.M()};k.sJ=function(){void 0!==this.Hd&&(this.Hd.close(),this.Hd=void 0,this.context.Rt=!1)};k.xJ=function(){this.context.Rt=!0};var tU;function uU(){"WebSocket"in window&&"recommender_websocket_url"in window&&""!==window.recommender_websocket_url&&(M.h(function(a){void 0!==tU&&w("socket not closed");tU=vU(a.C.userName,a.C.A,a.C.AG)}),Tn.h(function(){void 0===tU?w("socket not open"):(tU.close(),tU=void 0)}))}
function vU(a,b,c){var d=new WebSocket(window.recommender_websocket_url,"cbrec");d.onopen=function(){d.send(JSON.stringify({cmd:"open",room:b,user:a,hmac:c}))};d.onerror=function(f){w("communicateWithRecommender error",{event:f})};var e=window.setInterval(function(){d.readyState===WebSocket.OPEN&&d.send(JSON.stringify({cmd:"ping"}))},2E4);d.onclose=function(){clearInterval(e)};return d};function wU(){bC.apply(this,arguments)}q(wU,bC);wU.prototype.Xz=function(a){bC.prototype.Xz.call(this,a);this.context.yu=a.is_testbed;this.context.Rt=a.enabled_floatingplayer;this.context.yJ=a.smc_tooltip_enabled;this.context.gM=a.show_sentiment_survey};wU.prototype.fd=function(){bC.prototype.fd.call(this);xU(this)};wU.prototype.nE=function(){};function xU(a){document.body.style.minWidth=500-$m()+"px";var b=document.getElementById("base");b.style.overflowX="hidden";b.style.position="relative";a.context.yJ&&(iz=!0);a.context.gM&&Nw();var c=window.location.pathname.replace(/\//g,"");document.title=Ec(c);qC().then(function(d){new hU(c,d,a.context)}).catch(function(){});M.h(function(d){ga("set","page",d.C.A);ga("send","pageview");vP(d.B,d.C.dc);L("RoomLoaded",{location:"desktop"})});uU();kc(document)}window.TS=wU;var yU=window.newrelic;function zU(a,b,c){c=void 0===c?{}:c;try{if(void 0!==yU){var d={};d["attributes.level"]=a;if("object"===typeof c)for(var e in c)d["attributes."+e]=c[e];yU.noticeError(b,d)}}catch(f){w("New Relic Error in reportError: "+f.toString())}}function hn(a){void 0!==window.console&&console.info(a,"")}
function u(a,b,c){c=void 0===c?"":c;void 0!==window.console&&console.warn(c.concat("WARN "),a,void 0===b?"":b);try{var d="object"===typeof a?JSON.stringify(a):a.toString()}catch(e){d=""+a}zU(c.concat("WARN"),Error(d),b)}function w(a,b,c){c=void 0===c?"":c;void 0!==window.console&&console.error(c.concat("ERROR "),a,void 0===b?"":b);try{var d="object"===typeof a?JSON.stringify(a):a.toString()}catch(e){d=""+a}zU(c.concat("ERROR"),Error(d),b)}function fD(){}
window.onerror=function(a,b,c,d,e){try{var f=JSON.stringify(e)}catch(g){f=""+e}w(['"Message: " '+a,'"URL: "  '+b,'"Line: " '+c,'"Column: " '+d,'"Error object: " '+f].join("\n"),{},"");return!1};}).call(this);